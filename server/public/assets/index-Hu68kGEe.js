const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdvertiserDashboard-BSRBOCL1.js","assets/ui-CkQMVfNu.js","assets/vendor-DazevGLP.js","assets/UnifiedDashboard-DUA4TCXq.js","assets/useQuery-IUx4ZSsA.js","assets/skeleton-xv0nRF1e.js","assets/theme-context-CmhaixeG.js","assets/refresh-cw-h8d32cyt.js","assets/trending-down-DoKX-U_i.js","assets/utils-B-_CankM.js","assets/throttle-u1a0mjpu.js","assets/dollar-sign-DxJ6twRP.js","assets/mouse-pointer-CUTpAGBw.js","assets/activity-aTdJAE09.js","assets/AdvertiserOffers-DQSvxryW.js","assets/useMutation-HxEtoRum.js","assets/table-D9zFYVHJ.js","assets/badge-BPEJ7H1K.js","assets/queryClient-Cc5pa0C1.js","assets/countries-dBp4lN7_.js","assets/smartphone-DkdSkLaU.js","assets/dialog-CMra4o9L.js","assets/textarea-DGF4QzFC.js","assets/search-w8xkMBVR.js","assets/popover-DsAhS6-B.js","assets/tabs-BOkB6Db_.js","assets/switch-BurhKlWt.js","assets/separator-Bl89TN97.js","assets/plus-CDknCoO7.js","assets/upload-DfoVTwZM.js","assets/trash-2-BgkAOTI8.js","assets/clock-HOqnpwZm.js","assets/play-7Q2Ehrbv.js","assets/square-pen-DvrE7Sss.js","assets/AdvertiserOffers-CdSQcek-.css","assets/Reports--bxt5p4l.js","assets/AdvertiserPartners-CET0Dbnv.js","assets/copy-Bp5yqf8a.js","assets/AdvertiserProfile-_iPyHz1g.js","assets/zap-CRlwIYkF.js","assets/AdvertiserNotifications-CBJbDaOq.js","assets/ru-amAWtAem.js","assets/TeamManagement-Djz1D8AQ.js","assets/download-BE2ywTvs.js","assets/filter-DkQgzo_M.js","assets/Postbacks-BIDt7lD-.js","assets/AdvertiserAnalytics-hL4VJ-mS.js","assets/chevron-right-CfzXs0ax.js","assets/monitor-CDxPTyC0.js","assets/AdvertiserFinances-Dlmtpq-t.js","assets/AntiFraud-Bz9K0bYb.js","assets/PartnerDashboard-BKstAJWi.js","assets/Offers-CtjGBqi4.js","assets/dropdown-menu-D7Ka9NgE.js","assets/formatting-XXeiCqNP.js","assets/Statistics-Deqw5uJz.js","assets/Finances-TqpO-T53.js","assets/Postbacks-BKayI3LD.js","assets/PartnerProfile-C8uRRD1v.js","assets/PartnerNotifications-CDvQGRV4.js","assets/OwnerDashboard-D8BCNnI7.js","assets/Users-CQGyzpfu.js","assets/Settings-ZRIb09Fl.js","assets/dashboard-DIgumlLq.js","assets/users-management-DUPRsnBI.js","assets/offers-D-QDxEtK.js","assets/analytics-qXd7gpKH.js","assets/StaffDashboard-DR1TDOms.js","assets/SidebarDemo-DwTIADjp.js"])))=>i.map(i=>d[i]);
var Xn=t=>{throw TypeError(t)};var zr=(t,e,s)=>e.has(t)||Xn("Cannot "+s);var k=(t,e,s)=>(zr(t,e,"read from private field"),s?s.call(t):e.get(t)),te=(t,e,s)=>e.has(t)?Xn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),Q=(t,e,s,r)=>(zr(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s),Re=(t,e,s)=>(zr(t,e,"access private method"),s);var nr=(t,e,s,r)=>({set _(n){Q(t,e,n,s)},get _(){return k(t,e,r)}});import{j as l,S as Ml,P as Ae,c as Ui,a as Vl,u as Yr,b as Ze,d as Ne,e as $l,f as qi,g as Ul,A as ql,h as Mt,i as zl,k as _n,l as Hl,m as Bl,n as Zl,R as Kl,o as Wl,F as Ql,D as Gl,C as Jl,p as Yl,q as Xl,r as ec}from"./ui-CkQMVfNu.js";import{a as Cn,r as h,R as tc,b as Oe}from"./vendor-DazevGLP.js";import{c as zi,t as sc}from"./utils-B-_CankM.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}})();typeof window<"u"&&(window.addEventListener("error",t=>{console.error("window.onerror:",t.error||t.message||t)}),window.addEventListener("unhandledrejection",t=>{console.error("unhandledrejection:",t.reason||t)}));var Xr,ea=Cn;Xr=ea.createRoot,ea.hydrateRoot;const rc="modulepreload",nc=function(t){return"/"+t},ta={},ue=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=i?.nonce||i?.getAttribute("nonce");n=Promise.allSettled(s.map(c=>{if(c=nc(c),c in ta)return;ta[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":rc,d||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),d)return new Promise((x,b)=>{f.addEventListener("load",x),f.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return n.then(i=>{for(const o of i||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};var Hi={exports:{}},Bi={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ks=h;function ac(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ic=typeof Object.is=="function"?Object.is:ac,oc=ks.useState,lc=ks.useEffect,cc=ks.useLayoutEffect,dc=ks.useDebugValue;function uc(t,e){var s=e(),r=oc({inst:{value:s,getSnapshot:e}}),n=r[0].inst,a=r[1];return cc(function(){n.value=s,n.getSnapshot=e,Hr(n)&&a({inst:n})},[t,s,e]),lc(function(){return Hr(n)&&a({inst:n}),t(function(){Hr(n)&&a({inst:n})})},[t]),dc(s),s}function Hr(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!ic(t,s)}catch{return!0}}function fc(t,e){return e()}var hc=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?fc:uc;Bi.useSyncExternalStore=ks.useSyncExternalStore!==void 0?ks.useSyncExternalStore:hc;Hi.exports=Bi;var pc=Hi.exports;const{useEffect:mc,useLayoutEffect:gc,useRef:yc,useInsertionEffect:vc}=tc,xc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zi=xc?gc:mc,bc=vc||Zi,Tn=t=>{const e=yc([t,(...s)=>e[0](...s)]).current;return bc(()=>{e[0]=t}),e[1]},wc=(t="",e=location.pathname)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",kc=(t,e="")=>t[0]==="~"?t.slice(1):e+t,Sc="popstate",Nn="pushState",En="replaceState",_c="hashchange",sa=[Sc,Nn,En,_c],Cc=t=>{for(const e of sa)addEventListener(e,t);return()=>{for(const e of sa)removeEventListener(e,t)}},Tc=(t,e)=>pc.useSyncExternalStore(Cc,t,e),ra=()=>location.pathname,Nc=({ssrPath:t}={})=>Tc(ra,t?()=>t:ra),Ec=(t,{replace:e=!1}={})=>history[e?En:Nn](null,"",t),jc=(t={})=>[wc(t.base,Nc(t)),Tn((e,s)=>Ec(kc(e,t.base),s))];if(typeof history<"u")for(const t of[Nn,En]){const e=history[t];history[t]=function(){const s=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),s}}function Ac(t=Rc){let e={};const s=r=>e[r]||(e[r]=t(r));return(r,n)=>{const{regexp:a,keys:i}=s(r||""),o=a.exec(n);return o?[!0,i.reduce((d,u,f)=>(d[u.name]=o[f+1],d),{})]:[!1,null]}}const na=t=>t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),Pc=(t,e,s)=>{let r=t?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return e&&s&&(r="(?:\\/"+r+")"),r+(e?"?":"")},Rc=t=>{const e=/:([A-Za-z0-9_]+)([?+*]?)/g;let s=null,r=0,n=[],a="";for(;(s=e.exec(t))!==null;){const[i,o,c]=s,d=c==="+"||c==="*",u=c==="?"||c==="*",f=u&&t[s.index-1]==="/"?1:0,x=t.substring(r,s.index-f);n.push({name:o}),r=e.lastIndex,a+=na(x)+Pc(d,u,f)}return a+=na(t.substring(r)),{keys:n,regexp:new RegExp("^"+a+"(?:\\/)?$","i")}},Oc={hook:jc,matcher:Ac(),base:""},Ic=h.createContext(Oc),Er=()=>h.useContext(Ic),jr=t=>t.hook(t),rs=()=>jr(Er()),jn=t=>{const e=Er(),[s]=jr(e);return e.matcher(t,s)},Lc=h.createContext({params:{}}),aa=(t,e)=>h.createElement(Lc.Provider,{value:{params:t},children:e}),ht=({path:t,match:e,component:s,children:r})=>{const n=jn(t),[a,i]=e||n;return a?s?aa(i,h.createElement(s,{params:i})):aa(i,typeof r=="function"?r(i):r):null},ia=h.forwardRef((t,e)=>{const s=Er(),[,r]=jr(s),{to:n,href:a=n,children:i,onClick:o}=t,c=Tn(f=>{f.ctrlKey||f.metaKey||f.altKey||f.shiftKey||f.button!==0||(o&&o(f),f.defaultPrevented||(f.preventDefault(),r(n||a,t)))}),d={href:a[0]==="~"?a.slice(1):s.base+a,onClick:c,to:null,ref:e},u=h.isValidElement(i)?i:h.createElement("a",t);return h.cloneElement(u,d)}),en=t=>Array.isArray(t)?[].concat(...t.map(e=>e&&e.type===h.Fragment?en(e.props.children):en(e))):[t],Dc=({children:t,location:e})=>{const s=Er(),r=s.matcher,[n]=jr(s);for(const a of en(t)){let i=0;if(h.isValidElement(a)&&(i=a.props.path?r(a.props.path,e||n):[!0,{}])[0])return h.cloneElement(a,{match:i})}return null},Ls=t=>{const{to:e,href:s=e}=t,[,r]=rs(),n=Tn(()=>r(e||s,t));return Zi(()=>{n()},[]),null},Fc=(t,e,s,r)=>{const n=[s,{code:e,...r||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(n,"warn","react-i18next::",!0);Yt(n[0])&&(n[0]=`react-i18next:: ${n[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...n):console?.warn&&console.warn(...n)},oa={},tn=(t,e,s,r)=>{Yt(s)&&oa[s]||(Yt(s)&&(oa[s]=new Date),Fc(t,e,s,r))},Ki=(t,e)=>()=>{if(t.isInitialized)e();else{const s=()=>{setTimeout(()=>{t.off("initialized",s)},0),e()};t.on("initialized",s)}},sn=(t,e,s)=>{t.loadNamespaces(e,Ki(t,s))},la=(t,e,s,r)=>{if(Yt(s)&&(s=[s]),t.options.preload&&t.options.preload.indexOf(e)>-1)return sn(t,s,r);s.forEach(n=>{t.options.ns.indexOf(n)<0&&t.options.ns.push(n)}),t.loadLanguages(e,Ki(t,r))},Mc=(t,e,s={})=>!e.languages||!e.languages.length?(tn(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:s.lng,precheck:(r,n)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!n(r.isLanguageChangingTo,t))return!1}}),Yt=t=>typeof t=="string",Vc=t=>typeof t=="object"&&t!==null,$c=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Uc={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},qc=t=>Uc[t],zc=t=>t.replace($c,qc);let rn={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:zc};const Hc=(t={})=>{rn={...rn,...t}},Bc=()=>rn;let Wi;const Zc=t=>{Wi=t},Kc=()=>Wi,Wc={type:"3rdParty",init(t){Hc(t.options.react),Zc(t)}},Qc=h.createContext();class Gc{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Jc=(t,e)=>{const s=h.useRef();return h.useEffect(()=>{s.current=t},[t,e]),s.current},Qi=(t,e,s,r)=>t.getFixedT(e,s,r),Yc=(t,e,s,r)=>h.useCallback(Qi(t,e,s,r),[t,e,s,r]),Xc=(t,e={})=>{const{i18n:s}=e,{i18n:r,defaultNS:n}=h.useContext(Qc)||{},a=s||r||Kc();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Gc),!a){tn(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const R=(M,U)=>Yt(U)?U:Vc(U)&&Yt(U.defaultValue)?U.defaultValue:Array.isArray(M)?M[M.length-1]:M,E=[R,{},!1];return E.t=R,E.i18n={},E.ready=!1,E}a.options.react?.wait&&tn(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const i={...Bc(),...a.options.react,...e},{useSuspense:o,keyPrefix:c}=i;let d=n||a.options?.defaultNS;d=Yt(d)?[d]:d||["translation"],a.reportNamespaces.addUsedNamespaces?.(d);const u=(a.isInitialized||a.initializedStoreOnce)&&d.every(R=>Mc(R,a,i)),f=Yc(a,e.lng||null,i.nsMode==="fallback"?d:d[0],c),x=()=>f,b=()=>Qi(a,e.lng||null,i.nsMode==="fallback"?d:d[0],c),[m,y]=h.useState(x);let S=d.join();e.lng&&(S=`${e.lng}${S}`);const C=Jc(S),g=h.useRef(!0);h.useEffect(()=>{const{bindI18n:R,bindI18nStore:E}=i;g.current=!0,!u&&!o&&(e.lng?la(a,e.lng,d,()=>{g.current&&y(b)}):sn(a,d,()=>{g.current&&y(b)})),u&&C&&C!==S&&g.current&&y(b);const M=()=>{g.current&&y(b)};return R&&a?.on(R,M),E&&a?.store.on(E,M),()=>{g.current=!1,a&&R&&R?.split(" ").forEach(U=>a.off(U,M)),E&&a&&E.split(" ").forEach(U=>a.store.off(U,M))}},[a,S]),h.useEffect(()=>{g.current&&u&&y(x)},[a,c,u]);const N=[m,a,u];if(N.t=m,N.i18n=a,N.ready=u,u||!u&&!o)return N;throw new Promise(R=>{e.lng?la(a,e.lng,d,()=>R()):sn(a,d,()=>R())})};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gi=(...t)=>t.filter((e,s,r)=>!!e&&r.indexOf(e)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var td={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=h.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:n="",children:a,iconNode:i,...o},c)=>h.createElement("svg",{ref:c,...td,width:e,height:e,stroke:t,strokeWidth:r?Number(s)*24/Number(e):s,className:Gi("lucide",n),...o},[...i.map(([d,u])=>h.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(t,e)=>{const s=h.forwardRef(({className:r,...n},a)=>h.createElement(sd,{ref:a,iconNode:e,className:Gi(`lucide-${ed(t)}`,r),...n}));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=J("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=J("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=J("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=J("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=J("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=J("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=J("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=J("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=J("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=J("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=J("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=J("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=J("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=J("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=J("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=J("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=J("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=J("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=J("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=J("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=J("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=J("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=J("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=J("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=J("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=J("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=J("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=J("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=J("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=J("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=J("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=J("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=J("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ha=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,pa=zi,Pn=(t,e)=>s=>{var r;if(e?.variants==null)return pa(t,s?.class,s?.className);const{variants:n,defaultVariants:a}=e,i=Object.keys(n).map(d=>{const u=s?.[d],f=a?.[d];if(u===null)return null;const x=ha(u)||ha(f);return n[d][x]}),o=s&&Object.entries(s).reduce((d,u)=>{let[f,x]=u;return x===void 0||(d[f]=x),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:f,className:x,...b}=u;return Object.entries(b).every(m=>{let[y,S]=m;return Array.isArray(S)?S.includes({...a,...o}[y]):{...a,...o}[y]===S})?[...d,f,x]:d},[]);return pa(t,i,c,s?.class,s?.className)};function ae(...t){return sc(zi(t))}const Cd=Pn("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Fe=h.forwardRef(({className:t,variant:e,size:s,asChild:r=!1,...n},a)=>{const i=r?Ml:"button";return l.jsx(i,{className:ae(Cd({variant:e,size:s,className:t})),ref:a,...n})});Fe.displayName="Button";const Ve=h.forwardRef(({className:t,type:e,...s},r)=>l.jsx("input",{type:e,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...s}));Ve.displayName="Input";var Td="Label",eo=h.forwardRef((t,e)=>l.jsx(Ae.label,{...t,ref:e,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(t.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));eo.displayName=Td;var to=eo;const Nd=Pn("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Te=h.forwardRef(({className:t,...e},s)=>l.jsx(to,{ref:s,className:ae(Nd(),t),...e}));Te.displayName=to.displayName;const bt=h.forwardRef(({className:t,...e},s)=>l.jsx("div",{ref:s,className:ae("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));bt.displayName="Card";const It=h.forwardRef(({className:t,...e},s)=>l.jsx("div",{ref:s,className:ae("flex flex-col space-y-1.5 p-6",t),...e}));It.displayName="CardHeader";const Lt=h.forwardRef(({className:t,...e},s)=>l.jsx("div",{ref:s,className:ae("text-2xl font-semibold leading-none tracking-tight",t),...e}));Lt.displayName="CardTitle";const cr=h.forwardRef(({className:t,...e},s)=>l.jsx("div",{ref:s,className:ae("text-sm text-muted-foreground",t),...e}));cr.displayName="CardDescription";const wt=h.forwardRef(({className:t,...e},s)=>l.jsx("div",{ref:s,className:ae("p-6 pt-0",t),...e}));wt.displayName="CardContent";const Ed=h.forwardRef(({className:t,...e},s)=>l.jsx("div",{ref:s,className:ae("flex items-center p-6 pt-0",t),...e}));Ed.displayName="CardFooter";function so(t){const e=h.useRef({value:t,previous:t});return h.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Pr="Checkbox",[jd,Im]=Ui(Pr),[Ad,Rn]=jd(Pr);function Pd(t){const{__scopeCheckbox:e,checked:s,children:r,defaultChecked:n,disabled:a,form:i,name:o,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:f}=t,[x,b]=Yr({prop:s,defaultProp:n??!1,onChange:c,caller:Pr}),[m,y]=h.useState(null),[S,C]=h.useState(null),g=h.useRef(!1),N=m?!!i||!!m.closest("form"):!0,R={checked:x,disabled:a,setChecked:b,control:m,setControl:y,name:o,form:i,value:u,hasConsumerStoppedPropagationRef:g,required:d,defaultChecked:Dt(n)?!1:n,isFormControl:N,bubbleInput:S,setBubbleInput:C};return l.jsx(Ad,{scope:e,...R,children:Rd(f)?f(R):r})}var ro="CheckboxTrigger",no=h.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:s,...r},n)=>{const{control:a,value:i,disabled:o,checked:c,required:d,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:x,isFormControl:b,bubbleInput:m}=Rn(ro,t),y=Ze(n,u),S=h.useRef(c);return h.useEffect(()=>{const C=a?.form;if(C){const g=()=>f(S.current);return C.addEventListener("reset",g),()=>C.removeEventListener("reset",g)}},[a,f]),l.jsx(Ae.button,{type:"button",role:"checkbox","aria-checked":Dt(c)?"mixed":c,"aria-required":d,"data-state":co(c),"data-disabled":o?"":void 0,disabled:o,value:i,...r,ref:y,onKeyDown:Ne(e,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:Ne(s,C=>{f(g=>Dt(g)?!0:!g),m&&b&&(x.current=C.isPropagationStopped(),x.current||C.stopPropagation())})})});no.displayName=ro;var On=h.forwardRef((t,e)=>{const{__scopeCheckbox:s,name:r,checked:n,defaultChecked:a,required:i,disabled:o,value:c,onCheckedChange:d,form:u,...f}=t;return l.jsx(Pd,{__scopeCheckbox:s,checked:n,defaultChecked:a,disabled:o,required:i,onCheckedChange:d,name:r,form:u,value:c,internal_do_not_use_render:({isFormControl:x})=>l.jsxs(l.Fragment,{children:[l.jsx(no,{...f,ref:e,__scopeCheckbox:s}),x&&l.jsx(lo,{__scopeCheckbox:s})]})})});On.displayName=Pr;var ao="CheckboxIndicator",io=h.forwardRef((t,e)=>{const{__scopeCheckbox:s,forceMount:r,...n}=t,a=Rn(ao,s);return l.jsx(Vl,{present:r||Dt(a.checked)||a.checked===!0,children:l.jsx(Ae.span,{"data-state":co(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e,style:{pointerEvents:"none",...t.style}})})});io.displayName=ao;var oo="CheckboxBubbleInput",lo=h.forwardRef(({__scopeCheckbox:t,...e},s)=>{const{control:r,hasConsumerStoppedPropagationRef:n,checked:a,defaultChecked:i,required:o,disabled:c,name:d,value:u,form:f,bubbleInput:x,setBubbleInput:b}=Rn(oo,t),m=Ze(s,b),y=so(a),S=$l(r);h.useEffect(()=>{const g=x;if(!g)return;const N=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(N,"checked").set,M=!n.current;if(y!==a&&E){const U=new Event("click",{bubbles:M});g.indeterminate=Dt(a),E.call(g,Dt(a)?!1:a),g.dispatchEvent(U)}},[x,y,a,n]);const C=h.useRef(Dt(a)?!1:a);return l.jsx(Ae.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??C.current,required:o,disabled:c,name:d,value:u,form:f,...e,tabIndex:-1,ref:m,style:{...e.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});lo.displayName=oo;function Rd(t){return typeof t=="function"}function Dt(t){return t==="indeterminate"}function co(t){return Dt(t)?"indeterminate":t?"checked":"unchecked"}const Ds=h.forwardRef(({className:t,...e},s)=>l.jsx(On,{ref:s,className:ae("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:l.jsx(io,{className:ae("flex items-center justify-center text-current"),children:l.jsx(Ji,{className:"h-4 w-4"})})}));Ds.displayName=On.displayName;const Od=Pn("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Rr=h.forwardRef(({className:t,variant:e,...s},r)=>l.jsx("div",{ref:r,role:"alert",className:ae(Od({variant:e}),t),...s}));Rr.displayName="Alert";const Id=h.forwardRef(({className:t,...e},s)=>l.jsx("h5",{ref:s,className:ae("mb-1 font-medium leading-none tracking-tight",t),...e}));Id.displayName="AlertTitle";const Or=h.forwardRef(({className:t,...e},s)=>l.jsx("div",{ref:s,className:ae("text-sm [&_p]:leading-relaxed",t),...e}));Or.displayName="AlertDescription";var tr=t=>t.type==="checkbox",Zt=t=>t instanceof Date,Le=t=>t==null;const uo=t=>typeof t=="object";var we=t=>!Le(t)&&!Array.isArray(t)&&uo(t)&&!Zt(t),Ld=t=>we(t)&&t.target?tr(t.target)?t.target.checked:t.target.value:t,Dd=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Fd=(t,e)=>t.has(Dd(e)),Md=t=>{const e=t.constructor&&t.constructor.prototype;return we(e)&&e.hasOwnProperty("isPrototypeOf")},In=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ee(t){let e;const s=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(In&&(t instanceof Blob||r))&&(s||we(t)))if(e=s?[]:Object.create(Object.getPrototypeOf(t)),!s&&!Md(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=Ee(t[n]));else return t;return e}var Ir=t=>/^\w*$/.test(t),Ce=t=>t===void 0,Ln=t=>Array.isArray(t)?t.filter(Boolean):[],Dn=t=>Ln(t.replace(/["|']|\]/g,"").split(/\.|\[/)),O=(t,e,s)=>{if(!e||!we(t))return s;const r=(Ir(e)?[e]:Dn(e)).reduce((n,a)=>Le(n)?n:n[a],t);return Ce(r)||r===t?Ce(t[e])?s:t[e]:r},nt=t=>typeof t=="boolean",ce=(t,e,s)=>{let r=-1;const n=Ir(e)?[e]:Dn(e),a=n.length,i=a-1;for(;++r<a;){const o=n[r];let c=s;if(r!==i){const d=t[o];c=we(d)||Array.isArray(d)?d:isNaN(+n[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const ma={BLUR:"blur",FOCUS_OUT:"focusout"},tt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},pt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Vd=Oe.createContext(null);Vd.displayName="HookFormContext";var $d=(t,e,s,r=!0)=>{const n={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(n,a,{get:()=>{const i=a;return e._proxyFormState[i]!==tt.all&&(e._proxyFormState[i]=!r||tt.all),t[i]}});return n};const Ud=typeof window<"u"?Oe.useLayoutEffect:Oe.useEffect;var ct=t=>typeof t=="string",qd=(t,e,s,r,n)=>ct(t)?(r&&e.watch.add(t),O(s,t,n)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),O(s,a))):(r&&(e.watchAll=!0),s),on=t=>Le(t)||!uo(t);function Nt(t,e,s=new WeakSet){if(on(t)||on(e))return t===e;if(Zt(t)&&Zt(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;if(s.has(t)||s.has(e))return!0;s.add(t),s.add(e);for(const a of r){const i=t[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=e[a];if(Zt(i)&&Zt(o)||we(i)&&we(o)||Array.isArray(i)&&Array.isArray(o)?!Nt(i,o,s):i!==o)return!1}}return!0}var fo=(t,e,s,r,n)=>e?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[r]:n||!0}}:{},Fs=t=>Array.isArray(t)?t:[t],ga=()=>{let t=[];return{get observers(){return t},next:n=>{for(const a of t)a.next&&a.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(a=>a!==n)}}),unsubscribe:()=>{t=[]}}},Me=t=>we(t)&&!Object.keys(t).length,Fn=t=>t.type==="file",st=t=>typeof t=="function",mr=t=>{if(!In)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ho=t=>t.type==="select-multiple",Mn=t=>t.type==="radio",zd=t=>Mn(t)||tr(t),Zr=t=>mr(t)&&t.isConnected;function Hd(t,e){const s=e.slice(0,-1).length;let r=0;for(;r<s;)t=Ce(t)?r++:t[e[r++]];return t}function Bd(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ce(t[e]))return!1;return!0}function Se(t,e){const s=Array.isArray(e)?e:Ir(e)?[e]:Dn(e),r=s.length===1?t:Hd(t,s),n=s.length-1,a=s[n];return r&&delete r[a],n!==0&&(we(r)&&Me(r)||Array.isArray(r)&&Bd(r))&&Se(t,s.slice(0,-1)),t}var po=t=>{for(const e in t)if(st(t[e]))return!0;return!1};function gr(t,e={}){const s=Array.isArray(t);if(we(t)||s)for(const r in t)Array.isArray(t[r])||we(t[r])&&!po(t[r])?(e[r]=Array.isArray(t[r])?[]:{},gr(t[r],e[r])):Le(t[r])||(e[r]=!0);return e}function mo(t,e,s){const r=Array.isArray(t);if(we(t)||r)for(const n in t)Array.isArray(t[n])||we(t[n])&&!po(t[n])?Ce(e)||on(s[n])?s[n]=Array.isArray(t[n])?gr(t[n],[]):{...gr(t[n])}:mo(t[n],Le(e)?{}:e[n],s[n]):s[n]=!Nt(t[n],e[n]);return s}var As=(t,e)=>mo(t,e,gr(e));const ya={value:!1,isValid:!1},va={value:!0,isValid:!0};var go=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ce(t[0].attributes.value)?Ce(t[0].value)||t[0].value===""?va:{value:t[0].value,isValid:!0}:va:ya}return ya},yo=(t,{valueAsNumber:e,valueAsDate:s,setValueAs:r})=>Ce(t)?t:e?t===""?NaN:t&&+t:s&&ct(t)?new Date(t):r?r(t):t;const xa={isValid:!1,value:null};var vo=t=>Array.isArray(t)?t.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,xa):xa;function ba(t){const e=t.ref;return Fn(e)?e.files:Mn(e)?vo(t.refs).value:ho(e)?[...e.selectedOptions].map(({value:s})=>s):tr(e)?go(t.refs).value:yo(Ce(e.value)?t.ref.value:e.value,t)}var Zd=(t,e,s,r)=>{const n={};for(const a of t){const i=O(e,a);i&&ce(n,a,i._f)}return{criteriaMode:s,names:[...t],fields:n,shouldUseNativeValidation:r}},yr=t=>t instanceof RegExp,Ps=t=>Ce(t)?t:yr(t)?t.source:we(t)?yr(t.value)?t.value.source:t.value:t,wa=t=>({isOnSubmit:!t||t===tt.onSubmit,isOnBlur:t===tt.onBlur,isOnChange:t===tt.onChange,isOnAll:t===tt.all,isOnTouch:t===tt.onTouched});const ka="AsyncFunction";var Kd=t=>!!t&&!!t.validate&&!!(st(t.validate)&&t.validate.constructor.name===ka||we(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===ka)),Wd=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Sa=(t,e,s)=>!s&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Ms=(t,e,s,r)=>{for(const n of s||Object.keys(t)){const a=O(t,n);if(a){const{_f:i,...o}=a;if(i){if(i.refs&&i.refs[0]&&e(i.refs[0],n)&&!r)return!0;if(i.ref&&e(i.ref,i.name)&&!r)return!0;if(Ms(o,e))break}else if(we(o)&&Ms(o,e))break}}};function _a(t,e,s){const r=O(t,s);if(r||Ir(s))return{error:r,name:s};const n=s.split(".");for(;n.length;){const a=n.join("."),i=O(e,a),o=O(t,a);if(i&&!Array.isArray(i)&&s!==a)return{name:s};if(o&&o.type)return{name:a,error:o};if(o&&o.root&&o.root.type)return{name:`${a}.root`,error:o.root};n.pop()}return{name:s}}var Qd=(t,e,s,r)=>{s(t);const{name:n,...a}=t;return Me(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(i=>e[i]===(!r||tt.all))},Gd=(t,e,s)=>!t||!e||t===e||Fs(t).some(r=>r&&(s?r===e:r.startsWith(e)||e.startsWith(r))),Jd=(t,e,s,r,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(e||t):(s?r.isOnBlur:n.isOnBlur)?!t:(s?r.isOnChange:n.isOnChange)?t:!0,Yd=(t,e)=>!Ln(O(t,e)).length&&Se(t,e),Xd=(t,e,s)=>{const r=Fs(O(t,s));return ce(r,"root",e[s]),ce(t,s,r),t},dr=t=>ct(t);function Ca(t,e,s="validate"){if(dr(t)||Array.isArray(t)&&t.every(dr)||nt(t)&&!t)return{type:s,message:dr(t)?t:"",ref:e}}var as=t=>we(t)&&!yr(t)?t:{value:t,message:""},Ta=async(t,e,s,r,n,a)=>{const{ref:i,refs:o,required:c,maxLength:d,minLength:u,min:f,max:x,pattern:b,validate:m,name:y,valueAsNumber:S,mount:C}=t._f,g=O(s,y);if(!C||e.has(y))return{};const N=o?o[0]:i,R=B=>{n&&N.reportValidity&&(N.setCustomValidity(nt(B)?"":B||""),N.reportValidity())},E={},M=Mn(i),U=tr(i),pe=M||U,re=(S||Fn(i))&&Ce(i.value)&&Ce(g)||mr(i)&&i.value===""||g===""||Array.isArray(g)&&!g.length,V=fo.bind(null,y,r,E),X=(B,F,W,oe=pt.maxLength,G=pt.minLength)=>{const ne=B?F:W;E[y]={type:B?oe:G,message:ne,ref:i,...V(B?oe:G,ne)}};if(a?!Array.isArray(g)||!g.length:c&&(!pe&&(re||Le(g))||nt(g)&&!g||U&&!go(o).isValid||M&&!vo(o).isValid)){const{value:B,message:F}=dr(c)?{value:!!c,message:c}:as(c);if(B&&(E[y]={type:pt.required,message:F,ref:N,...V(pt.required,F)},!r))return R(F),E}if(!re&&(!Le(f)||!Le(x))){let B,F;const W=as(x),oe=as(f);if(!Le(g)&&!isNaN(g)){const G=i.valueAsNumber||g&&+g;Le(W.value)||(B=G>W.value),Le(oe.value)||(F=G<oe.value)}else{const G=i.valueAsDate||new Date(g),ne=We=>new Date(new Date().toDateString()+" "+We),ve=i.type=="time",ke=i.type=="week";ct(W.value)&&g&&(B=ve?ne(g)>ne(W.value):ke?g>W.value:G>new Date(W.value)),ct(oe.value)&&g&&(F=ve?ne(g)<ne(oe.value):ke?g<oe.value:G<new Date(oe.value))}if((B||F)&&(X(!!B,W.message,oe.message,pt.max,pt.min),!r))return R(E[y].message),E}if((d||u)&&!re&&(ct(g)||a&&Array.isArray(g))){const B=as(d),F=as(u),W=!Le(B.value)&&g.length>+B.value,oe=!Le(F.value)&&g.length<+F.value;if((W||oe)&&(X(W,B.message,F.message),!r))return R(E[y].message),E}if(b&&!re&&ct(g)){const{value:B,message:F}=as(b);if(yr(B)&&!g.match(B)&&(E[y]={type:pt.pattern,message:F,ref:i,...V(pt.pattern,F)},!r))return R(F),E}if(m){if(st(m)){const B=await m(g,s),F=Ca(B,N);if(F&&(E[y]={...F,...V(pt.validate,F.message)},!r))return R(F.message),E}else if(we(m)){let B={};for(const F in m){if(!Me(B)&&!r)break;const W=Ca(await m[F](g,s),N,F);W&&(B={...W,...V(F,W.message)},R(W.message),r&&(E[y]=B))}if(!Me(B)&&(E[y]={ref:N,...B},!r))return E}}return R(!0),E};const eu={mode:tt.onSubmit,reValidateMode:tt.onChange,shouldFocusError:!0};function tu(t={}){let e={...eu,...t},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:st(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},n=we(e.defaultValues)||we(e.values)?Ee(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Ee(n),i={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const x={array:ga(),state:ga()},b=e.criteriaMode===tt.all,m=p=>v=>{clearTimeout(d),d=setTimeout(p,v)},y=async p=>{if(!e.disabled&&(u.isValid||f.isValid||p)){const v=e.resolver?Me((await U()).errors):await re(r,!0);v!==s.isValid&&x.state.next({isValid:v})}},S=(p,v)=>{!e.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((p||Array.from(o.mount)).forEach(w=>{w&&(v?ce(s.validatingFields,w,v):Se(s.validatingFields,w))}),x.state.next({validatingFields:s.validatingFields,isValidating:!Me(s.validatingFields)}))},C=(p,v=[],w,P,j=!0,T=!0)=>{if(P&&w&&!e.disabled){if(i.action=!0,T&&Array.isArray(O(r,p))){const D=w(O(r,p),P.argA,P.argB);j&&ce(r,p,D)}if(T&&Array.isArray(O(s.errors,p))){const D=w(O(s.errors,p),P.argA,P.argB);j&&ce(s.errors,p,D),Yd(s.errors,p)}if((u.touchedFields||f.touchedFields)&&T&&Array.isArray(O(s.touchedFields,p))){const D=w(O(s.touchedFields,p),P.argA,P.argB);j&&ce(s.touchedFields,p,D)}(u.dirtyFields||f.dirtyFields)&&(s.dirtyFields=As(n,a)),x.state.next({name:p,isDirty:X(p,v),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else ce(a,p,v)},g=(p,v)=>{ce(s.errors,p,v),x.state.next({errors:s.errors})},N=p=>{s.errors=p,x.state.next({errors:s.errors,isValid:!1})},R=(p,v,w,P)=>{const j=O(r,p);if(j){const T=O(a,p,Ce(w)?O(n,p):w);Ce(T)||P&&P.defaultChecked||v?ce(a,p,v?T:ba(j._f)):W(p,T),i.mount&&y()}},E=(p,v,w,P,j)=>{let T=!1,D=!1;const ie={name:p};if(!e.disabled){if(!w||P){(u.isDirty||f.isDirty)&&(D=s.isDirty,s.isDirty=ie.isDirty=X(),T=D!==ie.isDirty);const fe=Nt(O(n,p),v);D=!!O(s.dirtyFields,p),fe?Se(s.dirtyFields,p):ce(s.dirtyFields,p,!0),ie.dirtyFields=s.dirtyFields,T=T||(u.dirtyFields||f.dirtyFields)&&D!==!fe}if(w){const fe=O(s.touchedFields,p);fe||(ce(s.touchedFields,p,w),ie.touchedFields=s.touchedFields,T=T||(u.touchedFields||f.touchedFields)&&fe!==w)}T&&j&&x.state.next(ie)}return T?ie:{}},M=(p,v,w,P)=>{const j=O(s.errors,p),T=(u.isValid||f.isValid)&&nt(v)&&s.isValid!==v;if(e.delayError&&w?(c=m(()=>g(p,w)),c(e.delayError)):(clearTimeout(d),c=null,w?ce(s.errors,p,w):Se(s.errors,p)),(w?!Nt(j,w):j)||!Me(P)||T){const D={...P,...T&&nt(v)?{isValid:v}:{},errors:s.errors,name:p};s={...s,...D},x.state.next(D)}},U=async p=>{S(p,!0);const v=await e.resolver(a,e.context,Zd(p||o.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return S(p),v},pe=async p=>{const{errors:v}=await U(p);if(p)for(const w of p){const P=O(v,w);P?ce(s.errors,w,P):Se(s.errors,w)}else s.errors=v;return v},re=async(p,v,w={valid:!0})=>{for(const P in p){const j=p[P];if(j){const{_f:T,...D}=j;if(T){const ie=o.array.has(T.name),fe=j._f&&Kd(j._f);fe&&u.validatingFields&&S([P],!0);const ze=await Ta(j,o.disabled,a,b,e.shouldUseNativeValidation&&!v,ie);if(fe&&u.validatingFields&&S([P]),ze[T.name]&&(w.valid=!1,v))break;!v&&(O(ze,T.name)?ie?Xd(s.errors,ze,T.name):ce(s.errors,T.name,ze[T.name]):Se(s.errors,T.name))}!Me(D)&&await re(D,v,w)}}return w.valid},V=()=>{for(const p of o.unMount){const v=O(r,p);v&&(v._f.refs?v._f.refs.every(w=>!Zr(w)):!Zr(v._f.ref))&&q(p)}o.unMount=new Set},X=(p,v)=>!e.disabled&&(p&&v&&ce(a,p,v),!Nt(We(),n)),B=(p,v,w)=>qd(p,o,{...i.mount?a:Ce(v)?n:ct(p)?{[p]:v}:v},w,v),F=p=>Ln(O(i.mount?a:n,p,e.shouldUnregister?O(n,p,[]):[])),W=(p,v,w={})=>{const P=O(r,p);let j=v;if(P){const T=P._f;T&&(!T.disabled&&ce(a,p,yo(v,T)),j=mr(T.ref)&&Le(v)?"":v,ho(T.ref)?[...T.ref.options].forEach(D=>D.selected=j.includes(D.value)):T.refs?tr(T.ref)?T.refs.forEach(D=>{(!D.defaultChecked||!D.disabled)&&(Array.isArray(j)?D.checked=!!j.find(ie=>ie===D.value):D.checked=j===D.value||!!j)}):T.refs.forEach(D=>D.checked=D.value===j):Fn(T.ref)?T.ref.value="":(T.ref.value=j,T.ref.type||x.state.next({name:p,values:Ee(a)})))}(w.shouldDirty||w.shouldTouch)&&E(p,j,w.shouldTouch,w.shouldDirty,!0),w.shouldValidate&&ke(p)},oe=(p,v,w)=>{for(const P in v){if(!v.hasOwnProperty(P))return;const j=v[P],T=p+"."+P,D=O(r,T);(o.array.has(p)||we(j)||D&&!D._f)&&!Zt(j)?oe(T,j,w):W(T,j,w)}},G=(p,v,w={})=>{const P=O(r,p),j=o.array.has(p),T=Ee(v);ce(a,p,T),j?(x.array.next({name:p,values:Ee(a)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&w.shouldDirty&&x.state.next({name:p,dirtyFields:As(n,a),isDirty:X(p,T)})):P&&!P._f&&!Le(T)?oe(p,T,w):W(p,T,w),Sa(p,o)&&x.state.next({...s,name:p}),x.state.next({name:i.mount?p:void 0,values:Ee(a)})},ne=async p=>{i.mount=!0;const v=p.target;let w=v.name,P=!0;const j=O(r,w),T=fe=>{P=Number.isNaN(fe)||Zt(fe)&&isNaN(fe.getTime())||Nt(fe,O(a,w,fe))},D=wa(e.mode),ie=wa(e.reValidateMode);if(j){let fe,ze;const rr=v.type?ba(j._f):Ld(p),St=p.type===ma.BLUR||p.type===ma.FOCUS_OUT,Ll=!Wd(j._f)&&!e.resolver&&!O(s.errors,w)&&!j._f.deps||Jd(St,O(s.touchedFields,w),s.isSubmitted,ie,D),Ur=Sa(w,o,St);ce(a,w,rr),St?(!v||!v.readOnly)&&(j._f.onBlur&&j._f.onBlur(p),c&&c(0)):j._f.onChange&&j._f.onChange(p);const qr=E(w,rr,St),Dl=!Me(qr)||Ur;if(!St&&x.state.next({name:w,type:p.type,values:Ee(a)}),Ll)return(u.isValid||f.isValid)&&(e.mode==="onBlur"?St&&y():St||y()),Dl&&x.state.next({name:w,...Ur?{}:qr});if(!St&&Ur&&x.state.next({...s}),e.resolver){const{errors:Jn}=await U([w]);if(T(rr),P){const Fl=_a(s.errors,r,w),Yn=_a(Jn,r,Fl.name||w);fe=Yn.error,w=Yn.name,ze=Me(Jn)}}else S([w],!0),fe=(await Ta(j,o.disabled,a,b,e.shouldUseNativeValidation))[w],S([w]),T(rr),P&&(fe?ze=!1:(u.isValid||f.isValid)&&(ze=await re(r,!0)));P&&(j._f.deps&&ke(j._f.deps),M(w,ze,fe,qr))}},ve=(p,v)=>{if(O(s.errors,v)&&p.focus)return p.focus(),1},ke=async(p,v={})=>{let w,P;const j=Fs(p);if(e.resolver){const T=await pe(Ce(p)?p:j);w=Me(T),P=p?!j.some(D=>O(T,D)):w}else p?(P=(await Promise.all(j.map(async T=>{const D=O(r,T);return await re(D&&D._f?{[T]:D}:D)}))).every(Boolean),!(!P&&!s.isValid)&&y()):P=w=await re(r);return x.state.next({...!ct(p)||(u.isValid||f.isValid)&&w!==s.isValid?{}:{name:p},...e.resolver||!p?{isValid:w}:{},errors:s.errors}),v.shouldFocus&&!P&&Ms(r,ve,p?j:o.mount),P},We=p=>{const v={...i.mount?a:n};return Ce(p)?v:ct(p)?O(v,p):p.map(w=>O(v,w))},xe=(p,v)=>({invalid:!!O((v||s).errors,p),isDirty:!!O((v||s).dirtyFields,p),error:O((v||s).errors,p),isValidating:!!O(s.validatingFields,p),isTouched:!!O((v||s).touchedFields,p)}),$e=p=>{p&&Fs(p).forEach(v=>Se(s.errors,v)),x.state.next({errors:p?s.errors:{}})},qe=(p,v,w)=>{const P=(O(r,p,{_f:{}})._f||{}).ref,j=O(s.errors,p)||{},{ref:T,message:D,type:ie,...fe}=j;ce(s.errors,p,{...fe,...v,ref:P}),x.state.next({name:p,errors:s.errors,isValid:!1}),w&&w.shouldFocus&&P&&P.focus&&P.focus()},Qe=(p,v)=>st(p)?x.state.subscribe({next:w=>"values"in w&&p(B(void 0,v),w)}):B(p,v,!0),zt=p=>x.state.subscribe({next:v=>{Gd(p.name,v.name,p.exact)&&Qd(v,p.formState||u,js,p.reRenderRoot)&&p.callback({values:{...a},...s,...v,defaultValues:n})}}).unsubscribe,Ht=p=>(i.mount=!0,f={...f,...p.formState},zt({...p,formState:f})),q=(p,v={})=>{for(const w of p?Fs(p):o.mount)o.mount.delete(w),o.array.delete(w),v.keepValue||(Se(r,w),Se(a,w)),!v.keepError&&Se(s.errors,w),!v.keepDirty&&Se(s.dirtyFields,w),!v.keepTouched&&Se(s.touchedFields,w),!v.keepIsValidating&&Se(s.validatingFields,w),!e.shouldUnregister&&!v.keepDefaultValue&&Se(n,w);x.state.next({values:Ee(a)}),x.state.next({...s,...v.keepDirty?{isDirty:X()}:{}}),!v.keepIsValid&&y()},me=({disabled:p,name:v})=>{(nt(p)&&i.mount||p||o.disabled.has(v))&&(p?o.disabled.add(v):o.disabled.delete(v))},Pe=(p,v={})=>{let w=O(r,p);const P=nt(v.disabled)||nt(e.disabled);return ce(r,p,{...w||{},_f:{...w&&w._f?w._f:{ref:{name:p}},name:p,mount:!0,...v}}),o.mount.add(p),w?me({disabled:nt(v.disabled)?v.disabled:e.disabled,name:p}):R(p,!0,v.value),{...P?{disabled:v.disabled||e.disabled}:{},...e.progressive?{required:!!v.required,min:Ps(v.min),max:Ps(v.max),minLength:Ps(v.minLength),maxLength:Ps(v.maxLength),pattern:Ps(v.pattern)}:{},name:p,onChange:ne,onBlur:ne,ref:j=>{if(j){Pe(p,v),w=O(r,p);const T=Ce(j.value)&&j.querySelectorAll&&j.querySelectorAll("input,select,textarea")[0]||j,D=zd(T),ie=w._f.refs||[];if(D?ie.find(fe=>fe===T):T===w._f.ref)return;ce(r,p,{_f:{...w._f,...D?{refs:[...ie.filter(Zr),T,...Array.isArray(O(n,p))?[{}]:[]],ref:{type:T.type,name:p}}:{ref:T}}}),R(p,!1,void 0,T)}else w=O(r,p,{}),w._f&&(w._f.mount=!1),(e.shouldUnregister||v.shouldUnregister)&&!(Fd(o.array,p)&&i.action)&&o.unMount.add(p)}}},le=()=>e.shouldFocusError&&Ms(r,ve,o.mount),he=p=>{nt(p)&&(x.state.next({disabled:p}),Ms(r,(v,w)=>{const P=O(r,w);P&&(v.disabled=P._f.disabled||p,Array.isArray(P._f.refs)&&P._f.refs.forEach(j=>{j.disabled=P._f.disabled||p}))},0,!1))},be=(p,v)=>async w=>{let P;w&&(w.preventDefault&&w.preventDefault(),w.persist&&w.persist());let j=Ee(a);if(x.state.next({isSubmitting:!0}),e.resolver){const{errors:T,values:D}=await U();s.errors=T,j=Ee(D)}else await re(r);if(o.disabled.size)for(const T of o.disabled)Se(j,T);if(Se(s.errors,"root"),Me(s.errors)){x.state.next({errors:{}});try{await p(j,w)}catch(T){P=T}}else v&&await v({...s.errors},w),le(),setTimeout(le);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Me(s.errors)&&!P,submitCount:s.submitCount+1,errors:s.errors}),P)throw P},ft=(p,v={})=>{O(r,p)&&(Ce(v.defaultValue)?G(p,Ee(O(n,p))):(G(p,v.defaultValue),ce(n,p,Ee(v.defaultValue))),v.keepTouched||Se(s.touchedFields,p),v.keepDirty||(Se(s.dirtyFields,p),s.isDirty=v.defaultValue?X(p,Ee(O(n,p))):X()),v.keepError||(Se(s.errors,p),u.isValid&&y()),x.state.next({...s}))},rt=(p,v={})=>{const w=p?Ee(p):n,P=Ee(w),j=Me(p),T=j?n:P;if(v.keepDefaultValues||(n=w),!v.keepValues){if(v.keepDirtyValues){const D=new Set([...o.mount,...Object.keys(As(n,a))]);for(const ie of Array.from(D))O(s.dirtyFields,ie)?ce(T,ie,O(a,ie)):G(ie,O(T,ie))}else{if(In&&Ce(p))for(const D of o.mount){const ie=O(r,D);if(ie&&ie._f){const fe=Array.isArray(ie._f.refs)?ie._f.refs[0]:ie._f.ref;if(mr(fe)){const ze=fe.closest("form");if(ze){ze.reset();break}}}}if(v.keepFieldsRef)for(const D of o.mount)G(D,O(T,D));else r={}}a=e.shouldUnregister?v.keepDefaultValues?Ee(n):{}:Ee(T),x.array.next({values:{...T}}),x.state.next({values:{...T}})}o={mount:v.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!u.isValid||!!v.keepIsValid||!!v.keepDirtyValues,i.watch=!!e.shouldUnregister,x.state.next({submitCount:v.keepSubmitCount?s.submitCount:0,isDirty:j?!1:v.keepDirty?s.isDirty:!!(v.keepDefaultValues&&!Nt(p,n)),isSubmitted:v.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:j?{}:v.keepDirtyValues?v.keepDefaultValues&&a?As(n,a):s.dirtyFields:v.keepDefaultValues&&p?As(n,p):v.keepDirty?s.dirtyFields:{},touchedFields:v.keepTouched?s.touchedFields:{},errors:v.keepErrors?s.errors:{},isSubmitSuccessful:v.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},ns=(p,v)=>rt(st(p)?p(a):p,v),Es=(p,v={})=>{const w=O(r,p),P=w&&w._f;if(P){const j=P.refs?P.refs[0]:P.ref;j.focus&&(j.focus(),v.shouldSelect&&st(j.select)&&j.select())}},js=p=>{s={...s,...p}},Gn={control:{register:Pe,unregister:q,getFieldState:xe,handleSubmit:be,setError:qe,_subscribe:zt,_runSchema:U,_focusError:le,_getWatch:B,_getDirty:X,_setValid:y,_setFieldArray:C,_setDisabledField:me,_setErrors:N,_getFieldArray:F,_reset:rt,_resetDefaultValues:()=>st(e.defaultValues)&&e.defaultValues().then(p=>{ns(p,e.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:he,_subjects:x,_proxyFormState:u,get _fields(){return r},get _formValues(){return a},get _state(){return i},set _state(p){i=p},get _defaultValues(){return n},get _names(){return o},set _names(p){o=p},get _formState(){return s},get _options(){return e},set _options(p){e={...e,...p}}},subscribe:Ht,trigger:ke,register:Pe,handleSubmit:be,watch:Qe,setValue:G,getValues:We,reset:ns,resetField:ft,clearErrors:$e,unregister:q,setError:qe,setFocus:Es,getFieldState:xe};return{...Gn,formControl:Gn}}function Vn(t={}){const e=Oe.useRef(void 0),s=Oe.useRef(void 0),[r,n]=Oe.useState({isDirty:!1,isValidating:!1,isLoading:st(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:st(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!st(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:i,...o}=tu(t);e.current={...o,formState:r}}const a=e.current.control;return a._options=t,Ud(()=>{const i=a._subscribe({formState:a._proxyFormState,callback:()=>n({...a._formState}),reRenderRoot:!0});return n(o=>({...o,isReady:!0})),a._formState.isReady=!0,i},[a]),Oe.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Oe.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),Oe.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),Oe.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),Oe.useEffect(()=>{if(a._proxyFormState.isDirty){const i=a._getDirty();i!==r.isDirty&&a._subjects.state.next({isDirty:i})}},[a,r.isDirty]),Oe.useEffect(()=>{t.values&&!Nt(t.values,s.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),s.current=t.values,n(i=>({...i}))):a._resetDefaultValues()},[a,t.values]),Oe.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=$d(r,a),e.current}const Na=(t,e,s)=>{if(t&&"reportValidity"in t){const r=O(s,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},xo=(t,e)=>{for(const s in e.fields){const r=e.fields[s];r&&r.ref&&"reportValidity"in r.ref?Na(r.ref,s,t):r.refs&&r.refs.forEach(n=>Na(n,s,t))}},su=(t,e)=>{e.shouldUseNativeValidation&&xo(t,e);const s={};for(const r in t){const n=O(e.fields,r),a=Object.assign(t[r]||{},{ref:n&&n.ref});if(ru(e.names||Object.keys(t),r)){const i=Object.assign({},O(s,r));ce(i,"root",a),ce(s,r,i)}else ce(s,r,a)}return s},ru=(t,e)=>t.some(s=>s.startsWith(e+"."));var nu=function(t,e){for(var s={};t.length;){var r=t[0],n=r.code,a=r.message,i=r.path.join(".");if(!s[i])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];s[i]={message:o.message,type:o.code}}else s[i]={message:a,type:n};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return t.push(f)})}),e){var c=s[i].types,d=c&&c[r.code];s[i]=fo(i,e,s,n,d?[].concat(d,r.message):r.message)}t.shift()}return s},$n=function(t,e,s){return s===void 0&&(s={}),function(r,n,a){try{return Promise.resolve(function(i,o){try{var c=Promise.resolve(t[s.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return a.shouldUseNativeValidation&&xo({},a),{errors:{},values:s.raw?r:d}})}catch(d){return o(d)}return c&&c.then?c.then(void 0,o):c}(0,function(i){if(function(o){return Array.isArray(o?.errors)}(i))return{values:{},errors:su(nu(i.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw i}))}catch(i){return Promise.reject(i)}}};const au=1,iu=1e6;let Kr=0;function ou(){return Kr=(Kr+1)%Number.MAX_SAFE_INTEGER,Kr.toString()}const Wr=new Map,Ea=t=>{if(Wr.has(t))return;const e=setTimeout(()=>{Wr.delete(t),Vs({type:"REMOVE_TOAST",toastId:t})},iu);Wr.set(t,e)},lu=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,au)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=e;return s?Ea(s):t.toasts.forEach(r=>{Ea(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)}}},ur=[];let fr={toasts:[]};function Vs(t){fr=lu(fr,t),ur.forEach(e=>{e(fr)})}function bo({...t}){const e=ou(),s=n=>Vs({type:"UPDATE_TOAST",toast:{...n,id:e}}),r=()=>Vs({type:"DISMISS_TOAST",toastId:e});return Vs({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:n=>{n||r()}}}),{id:e,dismiss:r,update:s}}function Un(){const[t,e]=h.useState(fr);return h.useEffect(()=>(ur.push(e),()=>{const s=ur.indexOf(e);s>-1&&ur.splice(s,1)}),[t]),{...t,toast:bo,dismiss:s=>Vs({type:"DISMISS_TOAST",toastId:s})}}function cu(t=32){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let s="";for(let r=0;r<t;r++)s+=e.charAt(Math.floor(Math.random()*e.length));return s}class ds{constructor(){this.token=null,this.tokenKey="csrf_token",this.headerName="X-CSRF-Token"}static getInstance(){return ds.instance||(ds.instance=new ds),ds.instance}generateToken(){return this.token=cu(32),typeof localStorage<"u"&&localStorage.setItem(this.tokenKey,this.token),this.token}getToken(){return!this.token&&typeof localStorage<"u"&&(this.token=localStorage.getItem(this.tokenKey)),this.token}getHeaders(){const e=this.getToken();return e?{[this.headerName]:e}:{}}clearToken(){this.token=null,typeof localStorage<"u"&&localStorage.removeItem(this.tokenKey)}}const Ge={escapeHtml:t=>{const e=document.createElement("div");return e.textContent=t,e.innerHTML},cleanString:t=>t.replace(/[<>\"']/g,"").replace(/javascript:/gi,"").replace(/on\w+=/gi,"").trim(),cleanEmail:t=>t.toLowerCase().trim().replace(/[<>\"']/g,""),cleanUsername:t=>t.toLowerCase().trim().replace(/[^a-z0-9_-]/g,""),cleanTelegram:t=>{const e=t.trim().replace(/[^a-zA-Z0-9_@]/g,"");return e.startsWith("@")?e:`@${e}`},cleanPhone:t=>t.replace(/[^\d+]/g,"")};class du{constructor(){this.attempts=new Map,this.windowMs=10*60*1e3,this.maxAttempts=8}isRateLimited(e){const s=Date.now(),r=this.attempts.get(e);return r?s-r.lastAttempt>this.windowMs?(this.attempts.delete(e),!1):r.count>=this.maxAttempts:!1}recordAttempt(e){const s=Date.now(),r=this.attempts.get(e)||{count:0,lastAttempt:0};s-r.lastAttempt>this.windowMs?r.count=1:r.count++,r.lastAttempt=s,this.attempts.set(e,r)}getRemainingTime(e){const s=this.attempts.get(e);if(!s)return 0;const r=s.lastAttempt+this.windowMs-Date.now();return Math.max(0,Math.ceil(r/1e3))}reset(e){this.attempts.delete(e)}}const xt={setToken:t=>{typeof localStorage>"u"||(localStorage.removeItem("auth:secure_token"),localStorage.removeItem("auth:token"),localStorage.setItem("token",t))},getToken:()=>{if(typeof localStorage>"u")return null;const t=localStorage.getItem("token");if(t)return t;const e=localStorage.getItem("auth:token");if(e)return localStorage.setItem("token",e),localStorage.removeItem("auth:token"),e;try{const s=localStorage.getItem("auth:secure_token");if(s){const r=JSON.parse(s);if(r.token)return localStorage.setItem("token",r.token),localStorage.removeItem("auth:secure_token"),r.token}}catch{localStorage.removeItem("auth:secure_token")}return null},clearToken:()=>{typeof localStorage>"u"||(localStorage.removeItem("token"),localStorage.removeItem("auth:token"),localStorage.removeItem("auth:secure_token"),localStorage.removeItem("user"),localStorage.removeItem("role"),localStorage.removeItem("auth:user"))}},at=xt,ln={generate:()=>{const t=document.createElement("canvas");t.getContext("2d")?.fillText("AdLinkPro",0,0);const s=t.toDataURL(),r=[navigator.userAgent,navigator.language,screen.width+"x"+screen.height,new Date().getTimezoneOffset(),s.slice(0,100)].join("|");let n=0;for(let a=0;a<r.length;a++){const i=r.charCodeAt(a);n=(n<<5)-n+i,n=n&n}return Math.abs(n).toString(36)},store:()=>{const t=ln.generate();return typeof localStorage<"u"&&localStorage.setItem("device_fingerprint",t),t},get:()=>typeof localStorage>"u"?null:localStorage.getItem("device_fingerprint")},Bt=ds.getInstance(),us=new du,uu="";function fu(t){return t?/^https?:\/\//i.test(t)?t:`${uu}${t}`:""}class Be extends Error{constructor(e,s,r,n){super(`${e} ${s}`),this.status=e,this.statusText=s,this.code=r,this.retryAfter=n,this.name="SecureAPIError"}}async function mt(t,e={}){console.log("🌐 [SECURE_API] Making request:",{path:t,method:e.method||"GET",skipAuth:e.skipAuth,identifier:e.identifier});const s=e.identifier||"anonymous";if(us.isRateLimited(s)){const i=us.getRemainingTime(s);throw console.warn("🌐 [SECURE_API] Rate limited:",{identifier:s,remainingTime:i}),new Be(429,"Too Many Requests","RATE_LIMITED",i)}const r=e.skipAuth?null:xt.getToken();console.log("🌐 [SECURE_API] Auth token:",{hasToken:!!r,skipAuth:e.skipAuth});const n={Accept:"application/json, text/plain, */*","Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{},...e.headers};!e.skipCSRF&&["POST","PUT","PATCH","DELETE"].includes((e.method||"GET").toUpperCase())&&(Bt.getToken()||Bt.generateToken(),Object.assign(n,Bt.getHeaders()),console.log("🌐 [SECURE_API] Added CSRF protection"));const a=ln.get()||ln.store();n["X-Device-Fingerprint"]=a;try{console.log("🌐 [SECURE_API] Sending fetch request...");const i=await fetch(fu(t),{...e,headers:n,credentials:"include"});if(console.log("🌐 [SECURE_API] Fetch response:",{status:i.status,ok:i.ok,statusText:i.statusText}),i.status===429){console.warn("🌐 [SECURE_API] Rate limited by server"),us.recordAttempt(s);const d=parseInt(i.headers.get("Retry-After")||"0",10);throw new Be(429,"Too Many Requests","RATE_LIMITED",d)}if(i.status===401)throw console.warn("🌐 [SECURE_API] Authentication failed, clearing tokens"),xt.clearToken(),Bt.clearToken(),new Be(401,"Unauthorized","AUTH_FAILED");if(i.status===403&&i.headers.get("X-CSRF-Error"))throw console.warn("🌐 [SECURE_API] CSRF error, regenerating token"),Bt.clearToken(),Bt.generateToken(),new Be(403,"CSRF Token Invalid","CSRF_ERROR");if(!i.ok){let d="UNKNOWN_ERROR",u=i.statusText;try{const f=await i.json();d=f&&(f.code||f.error)||d,u=f&&(f.message||f.error)||u,console.error("🌐 [SECURE_API] Server error:",{status:i.status,errorCode:d,errorMessage:u,errorData:f})}catch{console.error("🌐 [SECURE_API] Server error (no JSON):",{status:i.status,statusText:i.statusText})}throw new Be(i.status,u,d)}i.ok&&s!=="anonymous"&&us.reset(s);const c=(i.headers.get("content-type")||"").includes("application/json")?await i.json():await i.text();return console.log("🌐 [SECURE_API] Request successful"),c}catch(i){throw console.error("🌐 [SECURE_API] Request error:",i),i instanceof Be?i:new Be(0,"Network Error","NETWORK_ERROR")}}const Hs={async login(t,e){console.log("🔐 [SECURE_API] Login called with:",{email:t.email,hasPassword:!!t.password,rememberMe:t.rememberMe,identifier:e});const s={email:t.email?.trim()||"",password:t.password,...t.rememberMe!==void 0&&{rememberMe:t.rememberMe}};console.log("🔐 [SECURE_API] Making API call to /api/auth/login...");try{const r=await mt("/api/auth/login",{method:"POST",body:JSON.stringify(s),skipAuth:!0,identifier:e||s.email});return console.log("🔐 [SECURE_API] API call successful:",{hasToken:!!r.token,hasUser:!!r.user,result:r}),r.token?(console.log("🔐 [SECURE_API] Storing token..."),xt.setToken(r.token)):console.warn("🔐 [SECURE_API] No token in response:",r),r}catch(r){throw console.error("🔐 [SECURE_API] Login error:",r),r}},async loginWithV2(t,e){const s={username:t.username?.trim()||"",password:t.password},r=await mt("/api/auth/v2/login",{method:"POST",body:JSON.stringify(s),skipAuth:!0,identifier:e||s.username});return r.token&&xt.setToken(r.token),r},async register(t,e){console.log("📤 Frontend registration request - Email:",t.email,"Role:",t.role);const s={name:Ge.cleanString(t.name),email:Ge.cleanEmail(t.email),...t.username&&{username:Ge.cleanUsername(t.username)},password:t.password,...t.phone&&{phone:Ge.cleanPhone(t.phone)},...t.company&&{company:Ge.cleanString(t.company)},...t.contactType&&{contactType:t.contactType},...t.contact&&{contact:Ge.cleanString(t.contact)},...t.telegram&&{telegram:Ge.cleanTelegram(t.telegram)},...t.role&&{role:t.role},agreeTerms:t.agreeTerms,agreePrivacy:t.agreePrivacy,...t.agreeMarketing!==void 0&&{agreeMarketing:t.agreeMarketing}};let r="/api/auth/register";t.role==="PARTNER"||t.role==="affiliate"?(r="/api/auth/register/partner",console.log("📤 Using partner registration API:",r)):(t.role==="ADVERTISER"||t.role==="advertiser")&&(r="/api/auth/register/advertiser",console.log("📤 Using advertiser registration API:",r));try{const n=await mt(r,{method:"POST",body:JSON.stringify(s),skipAuth:!0,identifier:e||Ge.cleanEmail(t.email)});return console.log("✅ Registration server response:",n),n}catch(n){throw console.log("❌ Registration error:",n?.message||n),n}},async resetPassword(t,e){const s={email:Ge.cleanEmail(t.email)};return mt("/api/auth/v2/reset-password",{method:"POST",body:JSON.stringify(s),skipAuth:!0,identifier:e||s.email})},async validateResetToken(t){const e=Ge.cleanString(t);return mt("/api/auth/v2/validate-reset-token",{method:"POST",body:JSON.stringify({token:e}),skipAuth:!0})},async completePasswordReset(t,e){const s=Ge.cleanString(t);return mt("/api/auth/v2/complete-password-reset",{method:"POST",body:JSON.stringify({token:s,newPassword:e}),skipAuth:!0})},async me(){return mt("/api/me")},async logout(){try{await mt("/api/auth/logout",{method:"POST"})}catch{}finally{xt.clearToken(),Bt.clearToken()}},async refreshToken(){try{const t=await mt("/api/auth/refresh",{method:"POST"});return t.token&&xt.setToken(t.token),t}catch{throw xt.clearToken(),new Be(401,"Token refresh failed","REFRESH_FAILED")}}};function wo(){const[t,e]=h.useState(null),{toast:s}=Un(),r=h.useCallback(c=>{if(!c){e(null);return}e(typeof c=="string"?{code:"GENERIC_ERROR",message:c,timestamp:new Date}:c)},[]),n=h.useCallback(()=>{e(null)},[]),a=h.useCallback((c,d="Operation")=>{if(console.error(`[AUTH_ERROR] ${d}:`,c),c instanceof Be){const u={code:c.code||"API_ERROR",message:hu(c,d),status:c.status,details:c,timestamp:new Date};e(u),c.status!==401&&s({title:"Ошибка",description:u.message,variant:"destructive"})}else if(c instanceof Error){const u={code:"UNKNOWN_ERROR",message:c.message||`${d} failed`,details:c,timestamp:new Date};e(u),s({title:"Ошибка",description:u.message,variant:"destructive"})}else{const u={code:"UNKNOWN_ERROR",message:`${d} failed unexpectedly`,details:c,timestamp:new Date};e(u),s({title:"Ошибка",description:u.message,variant:"destructive"})}},[s]),i=t?.code==="RATE_LIMITED"||t?.status===429,o=t?.details?.retryAfter;return{error:t,setError:r,clearError:n,handleError:a,isRateLimited:i,retryAfter:o}}function hu(t,e){const{status:s,code:r,statusText:n}=t;switch(s){case 400:return"Неверные данные запроса. Проверьте введённую информацию.";case 401:return"Неверный email или пароль";case 403:return r==="CSRF_ERROR"?"Ошибка безопасности. Попробуйте обновить страницу.":"Доступ запрещён";case 404:return"Запрашиваемый ресурс не найден";case 409:return"Пользователь с таким email уже существует";case 422:return"Некорректные данные. Проверьте правильность заполнения полей.";case 429:const a=Math.ceil((t.retryAfter||60)/60);return`Слишком много попыток. Попробуйте через ${a} ${a===1?"минуту":a<5?"минуты":"минут"}.`;case 500:return"Внутренняя ошибка сервера. Попробуйте позже.";case 0:return"Ошибка соединения. Проверьте интернет-подключение.";default:return n||`${e} failed`}}const pu=import.meta?.env?.VITE_API_BASE||"";class mu{constructor(e=pu){this.requestId=0,this.baseUrl=e}generateRequestId(){return`req_${++this.requestId}_${Date.now()}`}logRequest(e,s,r,n){console.group(`🌐 [API_CLIENT:${e}] ${s.toUpperCase()} ${r}`),console.log("📤 Request details:",{url:this.baseUrl+r,method:s,headers:n?.headers,hasBody:!!n?.body,timestamp:new Date().toISOString()})}logResponse(e,s,r){console.log(`📥 Response received (${r}ms):`,{status:s.status,statusText:s.statusText,ok:s.ok,headers:Object.fromEntries(s.headers.entries()),timestamp:new Date().toISOString()})}logError(e,s,r){console.error(`❌ Request failed (${r}ms):`,{error:s instanceof Error?{name:s.name,message:s.message,stack:s.stack}:s,timestamp:new Date().toISOString()}),console.groupEnd()}logSuccess(e,s,r){console.log(`✅ Request completed successfully (${r}ms):`,{hasData:!!s,dataType:typeof s,timestamp:new Date().toISOString()}),console.groupEnd()}async request(e,s={}){const r=this.generateRequestId(),n=Date.now(),a=s.method||"GET";this.logRequest(r,a,e,s);try{const i=at.getToken(),o={"Content-Type":"application/json",...i?{Authorization:`Bearer ${i}`}:{},...s.headers},c=await fetch(this.baseUrl+e,{...s,headers:o,credentials:"include"}),d=Date.now()-n;this.logResponse(r,c,d);const u=c.headers.get("content-type")||"";if(!c.ok){let x=null;try{x=u.includes("application/json")?await c.json():await c.text()}catch(m){console.warn(`[API_CLIENT:${r}] Failed to parse error response:`,m)}const b=new Error(`HTTP ${c.status}: ${c.statusText}`);throw b.status=c.status,b.url=this.baseUrl+e,b.body=x,b.response=c,this.logError(r,b,d),b}const f=u.includes("application/json")?await c.json():await c.text();return this.logSuccess(r,f,d),f}catch(i){const o=Date.now()-n;throw this.logError(r,i,o),i}}async get(e,s){return this.request(e,{...s,method:"GET"})}async post(e,s,r){return this.request(e,{...r,method:"POST",body:s?JSON.stringify(s):void 0})}async put(e,s,r){return this.request(e,{...r,method:"PUT",body:s?JSON.stringify(s):void 0})}async patch(e,s,r){return this.request(e,{...r,method:"PATCH",body:s?JSON.stringify(s):void 0})}async delete(e,s){return this.request(e,{...s,method:"DELETE"})}}const _t=new mu,ko={async login(t){return console.log("[AUTH_API] Login attempt for:",t.email),_t.post("/api/auth/login",t)},async register(t){console.log("[AUTH_API] Registration attempt for:",t.email,"Role:",t.role);const e=t.role==="PARTNER"||t.role==="affiliate"?"/api/auth/register/partner":t.role==="ADVERTISER"||t.role==="advertiser"?"/api/auth/register/advertiser":"/api/auth/register";return console.log("[AUTH_API] Using registration endpoint:",e),_t.post(e,t)},async me(){return console.log("[AUTH_API] Fetching current user profile"),_t.get("/api/me")},async logout(){console.log("[AUTH_API] Logging out user");try{await _t.post("/api/auth/logout")}catch(t){console.warn("[AUTH_API] Logout request failed, but continuing with client-side logout:",t)}},async refreshToken(){return console.log("[AUTH_API] Refreshing authentication token"),_t.post("/api/auth/refresh")},async requestPasswordReset(t){return console.log("[AUTH_API] Password reset requested for:",t.email),_t.post("/api/auth/reset-password",t)},async validateResetToken(t){return console.log("[AUTH_API] Validating password reset token"),_t.post("/api/auth/validate-reset-token",{token:t})},async completePasswordReset(t){return console.log("[AUTH_API] Completing password reset"),_t.post("/api/auth/complete-password-reset",t)}};import.meta?.env?.VITE_API_BASE;async function gu(t,e){return ko.login({email:t,password:e})}async function yu(){return ko.me()}const So=h.createContext(void 0);function ja({children:t}){const[e,s]=h.useState(null),[r,n]=h.useState(null),[a,i]=h.useState(!0),{handleError:o,clearError:c}=wo(),d=h.useCallback(async()=>{try{if(!at.getToken())return console.log("[AUTH] No token found, cannot refresh user"),null;console.log("[AUTH] Refreshing user data from server...");const m=await yu();return m&&m.id?(console.log("[AUTH] User data refreshed successfully:",{id:m.id,email:m.email,role:m.role}),s(m),m):(console.warn("[AUTH] Invalid user data received from server:",m),at.clearToken(),n(null),s(null),null)}catch(b){return console.error("[AUTH] Failed to refresh user data:",b),o(b,"User refresh"),b?.status===401&&(at.clearToken(),n(null),s(null)),null}},[o]);h.useEffect(()=>{(async()=>{try{console.log("[AUTH] Initializing authentication state...");const m=at.getToken();m?(console.log("[AUTH] Token found in storage, validating with server..."),n(m),await d()?(console.log("[AUTH] Authentication initialization successful"),c()):console.log("[AUTH] Token validation failed, user logged out")):console.log("[AUTH] No token found, user not authenticated")}catch(m){console.error("[AUTH] Authentication initialization failed:",m),o(m,"Authentication initialization"),at.clearToken()}finally{i(!1)}})()},[d,o,c]);const u=h.useCallback(async(b,m)=>{try{console.log("[AUTH] Starting login process for:",b),c();const y=await gu(b,m);return"requires2FA"in y&&y.requires2FA?(console.log("[AUTH] 2FA required for login"),y):(y.token&&y.user?(console.log("[AUTH] Login successful, saving user data:",{id:y.user.id,email:y.user.email,role:y.user.role}),s(y.user),n(y.token),at.setToken(y.token),c()):console.warn("[AUTH] Login response missing token or user data:",y),y)}catch(y){throw console.error("[AUTH] Login failed:",y),o(y,"Login"),y}},[o,c]),f=h.useCallback(()=>{console.log("[AUTH] Logging out user"),s(null),n(null),at.clearToken(),c(),Hs.logout().catch(b=>{console.warn("[AUTH] Server logout notification failed:",b)})},[c]),x=h.useMemo(()=>({user:e,token:r,isLoading:a,isAuthenticated:!!r&&!!e,login:u,logout:f,refreshUser:d}),[e,r,a,u,f,d]);return l.jsx(So.Provider,{value:x,children:t})}function qn(){const t=h.useContext(So);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}var se;(function(t){t.assertEqual=n=>{};function e(n){}t.assertIs=e;function s(n){throw new Error}t.assertNever=s,t.arrayToEnum=n=>{const a={};for(const i of n)a[i]=i;return a},t.getValidEnumValues=n=>{const a=t.objectKeys(n).filter(o=>typeof n[n[o]]!="number"),i={};for(const o of a)i[o]=n[o];return t.objectValues(i)},t.objectValues=n=>t.objectKeys(n).map(function(a){return n[a]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const a=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&a.push(i);return a},t.find=(n,a)=>{for(const i of n)if(a(i))return i},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function r(n,a=" | "){return n.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a})(se||(se={}));var Aa;(function(t){t.mergeShapes=(e,s)=>({...e,...s})})(Aa||(Aa={}));const I=se.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Tt=t=>{switch(typeof t){case"undefined":return I.undefined;case"string":return I.string;case"number":return Number.isNaN(t)?I.nan:I.number;case"boolean":return I.boolean;case"function":return I.function;case"bigint":return I.bigint;case"symbol":return I.symbol;case"object":return Array.isArray(t)?I.array:t===null?I.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?I.promise:typeof Map<"u"&&t instanceof Map?I.map:typeof Set<"u"&&t instanceof Set?I.set:typeof Date<"u"&&t instanceof Date?I.date:I.object;default:return I.unknown}},_=se.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class kt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(a){return a.message},r={_errors:[]},n=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(n);else if(i.code==="invalid_return_type")n(i.returnTypeError);else if(i.code==="invalid_arguments")n(i.argumentsError);else if(i.path.length===0)r._errors.push(s(i));else{let o=r,c=0;for(;c<i.path.length;){const d=i.path[c];c===i.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(s(i))):o[d]=o[d]||{_errors:[]},o=o[d],c++}}};return n(this),r}static assert(e){if(!(e instanceof kt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,se.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){const s={},r=[];for(const n of this.issues)if(n.path.length>0){const a=n.path[0];s[a]=s[a]||[],s[a].push(e(n))}else r.push(e(n));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}kt.create=t=>new kt(t);const cn=(t,e)=>{let s;switch(t.code){case _.invalid_type:t.received===I.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case _.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,se.jsonStringifyReplacer)}`;break;case _.unrecognized_keys:s=`Unrecognized key(s) in object: ${se.joinValues(t.keys,", ")}`;break;case _.invalid_union:s="Invalid input";break;case _.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${se.joinValues(t.options)}`;break;case _.invalid_enum_value:s=`Invalid enum value. Expected ${se.joinValues(t.options)}, received '${t.received}'`;break;case _.invalid_arguments:s="Invalid function arguments";break;case _.invalid_return_type:s="Invalid function return type";break;case _.invalid_date:s="Invalid date";break;case _.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:se.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case _.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case _.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case _.custom:s="Invalid input";break;case _.invalid_intersection_types:s="Intersection results could not be merged";break;case _.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case _.not_finite:s="Number must be finite";break;default:s=e.defaultError,se.assertNever(t)}return{message:s}};let vu=cn;function xu(){return vu}const bu=t=>{const{data:e,path:s,errorMaps:r,issueData:n}=t,a=[...s,...n.path||[]],i={...n,path:a};if(n.message!==void 0)return{...n,path:a,message:n.message};let o="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)o=d(i,{data:e,defaultError:o}).message;return{...n,path:a,message:o}};function A(t,e){const s=xu(),r=bu({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===cn?void 0:cn].filter(n=>!!n)});t.common.issues.push(r)}class Ue{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,s){const r=[];for(const n of s){if(n.status==="aborted")return Z;n.status==="dirty"&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,s){const r=[];for(const n of s){const a=await n.key,i=await n.value;r.push({key:a,value:i})}return Ue.mergeObjectSync(e,r)}static mergeObjectSync(e,s){const r={};for(const n of s){const{key:a,value:i}=n;if(a.status==="aborted"||i.status==="aborted")return Z;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||n.alwaysSet)&&(r[a.value]=i.value)}return{status:e.value,value:r}}}const Z=Object.freeze({status:"aborted"}),Os=t=>({status:"dirty",value:t}),Ke=t=>({status:"valid",value:t}),Pa=t=>t.status==="aborted",Ra=t=>t.status==="dirty",Ss=t=>t.status==="valid",vr=t=>typeof Promise<"u"&&t instanceof Promise;var L;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(L||(L={}));class Vt{constructor(e,s,r,n){this._cachedPath=[],this.parent=e,this.data=s,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Oa=(t,e)=>{if(Ss(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new kt(t.common.issues);return this._error=s,this._error}}};function Y(t){if(!t)return{};const{errorMap:e,invalid_type_error:s,required_error:r,description:n}=t;if(e&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(i,o)=>{const{message:c}=t;return i.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??r??o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:c??s??o.defaultError}},description:n}}class ee{get description(){return this._def.description}_getType(e){return Tt(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:Tt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ue,ctx:{common:e.parent.common,data:e.data,parsedType:Tt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(vr(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const r=this.safeParse(e,s);if(r.success)return r.data;throw r.error}safeParse(e,s){const r={common:{issues:[],async:s?.async??!1,contextualErrorMap:s?.errorMap},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Tt(e)},n=this._parseSync({data:e,path:r.path,parent:r});return Oa(r,n)}"~validate"(e){const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Tt(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:s});return Ss(r)?{value:r.value}:{issues:s.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(r=>Ss(r)?{value:r.value}:{issues:s.common.issues})}async parseAsync(e,s){const r=await this.safeParseAsync(e,s);if(r.success)return r.data;throw r.error}async safeParseAsync(e,s){const r={common:{issues:[],contextualErrorMap:s?.errorMap,async:!0},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Tt(e)},n=this._parse({data:e,path:r.path,parent:r}),a=await(vr(n)?n:Promise.resolve(n));return Oa(r,a)}refine(e,s){const r=n=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(n):s;return this._refinement((n,a)=>{const i=e(n),o=()=>a.addIssue({code:_.custom,...r(n)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,s){return this._refinement((r,n)=>e(r)?!0:(n.addIssue(typeof s=="function"?s(r,n):s),!1))}_refinement(e){return new Cs({schema:this,typeName:K.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Ft.create(this,this._def)}nullable(){return Ts.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ut.create(this)}promise(){return kr.create(this,this._def)}or(e){return br.create([this,e],this._def)}and(e){return wr.create(this,e,this._def)}transform(e){return new Cs({...Y(this._def),schema:this,typeName:K.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s=typeof e=="function"?e:()=>e;return new fn({...Y(this._def),innerType:this,defaultValue:s,typeName:K.ZodDefault})}brand(){return new zu({typeName:K.ZodBranded,type:this,...Y(this._def)})}catch(e){const s=typeof e=="function"?e:()=>e;return new hn({...Y(this._def),innerType:this,catchValue:s,typeName:K.ZodCatch})}describe(e){const s=this.constructor;return new s({...this._def,description:e})}pipe(e){return zn.create(this,e)}readonly(){return pn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const wu=/^c[^\s-]{8,}$/i,ku=/^[0-9a-z]+$/,Su=/^[0-9A-HJKMNP-TV-Z]{26}$/i,_u=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Cu=/^[a-z0-9_-]{21}$/i,Tu=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Nu=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Eu=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ju="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Qr;const Au=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Pu=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ru=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ou=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Iu=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Lu=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_o="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Du=new RegExp(`^${_o}$`);function Co(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const s=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${s}`}function Fu(t){return new RegExp(`^${Co(t)}$`)}function Mu(t){let e=`${_o}T${Co(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${s.join("|")})`,new RegExp(`^${e}$`)}function Vu(t,e){return!!((e==="v4"||!e)&&Au.test(t)||(e==="v6"||!e)&&Ru.test(t))}function $u(t,e){if(!Tu.test(t))return!1;try{const[s]=t.split(".");if(!s)return!1;const r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),n=JSON.parse(atob(r));return!(typeof n!="object"||n===null||"typ"in n&&n?.typ!=="JWT"||!n.alg||e&&n.alg!==e)}catch{return!1}}function Uu(t,e){return!!((e==="v4"||!e)&&Pu.test(t)||(e==="v6"||!e)&&Ou.test(t))}class Ot extends ee{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==I.string){const a=this._getOrReturnCtx(e);return A(a,{code:_.invalid_type,expected:I.string,received:a.parsedType}),Z}const r=new Ue;let n;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),A(n,{code:_.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),A(n,{code:_.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const i=e.data.length>a.value,o=e.data.length<a.value;(i||o)&&(n=this._getOrReturnCtx(e,n),i?A(n,{code:_.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&A(n,{code:_.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")Eu.test(e.data)||(n=this._getOrReturnCtx(e,n),A(n,{validation:"email",code:_.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Qr||(Qr=new RegExp(ju,"u")),Qr.test(e.data)||(n=this._getOrReturnCtx(e,n),A(n,{validation:"emoji",code:_.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")_u.test(e.data)||(n=this._getOrReturnCtx(e,n),A(n,{validation:"uuid",code:_.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")Cu.test(e.data)||(n=this._getOrReturnCtx(e,n),A(n,{validation:"nanoid",code:_.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")wu.test(e.data)||(n=this._getOrReturnCtx(e,n),A(n,{validation:"cuid",code:_.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")ku.test(e.data)||(n=this._getOrReturnCtx(e,n),A(n,{validation:"cuid2",code:_.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Su.test(e.data)||(n=this._getOrReturnCtx(e,n),A(n,{validation:"ulid",code:_.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),A(n,{validation:"url",code:_.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),A(n,{validation:"regex",code:_.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),A(n,{code:_.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),A(n,{code:_.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),A(n,{code:_.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Mu(a).test(e.data)||(n=this._getOrReturnCtx(e,n),A(n,{code:_.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?Du.test(e.data)||(n=this._getOrReturnCtx(e,n),A(n,{code:_.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Fu(a).test(e.data)||(n=this._getOrReturnCtx(e,n),A(n,{code:_.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?Nu.test(e.data)||(n=this._getOrReturnCtx(e,n),A(n,{validation:"duration",code:_.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?Vu(e.data,a.version)||(n=this._getOrReturnCtx(e,n),A(n,{validation:"ip",code:_.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?$u(e.data,a.alg)||(n=this._getOrReturnCtx(e,n),A(n,{validation:"jwt",code:_.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?Uu(e.data,a.version)||(n=this._getOrReturnCtx(e,n),A(n,{validation:"cidr",code:_.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?Iu.test(e.data)||(n=this._getOrReturnCtx(e,n),A(n,{validation:"base64",code:_.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?Lu.test(e.data)||(n=this._getOrReturnCtx(e,n),A(n,{validation:"base64url",code:_.invalid_string,message:a.message}),r.dirty()):se.assertNever(a);return{status:r.value,value:e.data}}_regex(e,s,r){return this.refinement(n=>e.test(n),{validation:s,code:_.invalid_string,...L.errToObj(r)})}_addCheck(e){return new Ot({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...L.errToObj(e)})}url(e){return this._addCheck({kind:"url",...L.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...L.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...L.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...L.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...L.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...L.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...L.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...L.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...L.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...L.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...L.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...L.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...L.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...L.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...L.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...L.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:s?.position,...L.errToObj(s?.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...L.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...L.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...L.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...L.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...L.errToObj(s)})}nonempty(e){return this.min(1,L.errToObj(e))}trim(){return new Ot({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ot({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ot({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Ot.create=t=>new Ot({checks:[],typeName:K.ZodString,coerce:t?.coerce??!1,...Y(t)});function qu(t,e){const s=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,n=s>r?s:r,a=Number.parseInt(t.toFixed(n).replace(".","")),i=Number.parseInt(e.toFixed(n).replace(".",""));return a%i/10**n}class Bs extends ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==I.number){const a=this._getOrReturnCtx(e);return A(a,{code:_.invalid_type,expected:I.number,received:a.parsedType}),Z}let r;const n=new Ue;for(const a of this._def.checks)a.kind==="int"?se.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),A(r,{code:_.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),A(r,{code:_.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),A(r,{code:_.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?qu(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),A(r,{code:_.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),A(r,{code:_.not_finite,message:a.message}),n.dirty()):se.assertNever(a);return{status:n.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,L.toString(s))}gt(e,s){return this.setLimit("min",e,!1,L.toString(s))}lte(e,s){return this.setLimit("max",e,!0,L.toString(s))}lt(e,s){return this.setLimit("max",e,!1,L.toString(s))}setLimit(e,s,r,n){return new Bs({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:L.toString(n)}]})}_addCheck(e){return new Bs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:L.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:L.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:L.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:L.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:L.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:L.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:L.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:L.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:L.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&se.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(s)&&Number.isFinite(e)}}Bs.create=t=>new Bs({checks:[],typeName:K.ZodNumber,coerce:t?.coerce||!1,...Y(t)});class Zs extends ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==I.bigint)return this._getInvalidInput(e);let r;const n=new Ue;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),A(r,{code:_.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),A(r,{code:_.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),A(r,{code:_.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):se.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return A(s,{code:_.invalid_type,expected:I.bigint,received:s.parsedType}),Z}gte(e,s){return this.setLimit("min",e,!0,L.toString(s))}gt(e,s){return this.setLimit("min",e,!1,L.toString(s))}lte(e,s){return this.setLimit("max",e,!0,L.toString(s))}lt(e,s){return this.setLimit("max",e,!1,L.toString(s))}setLimit(e,s,r,n){return new Zs({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:L.toString(n)}]})}_addCheck(e){return new Zs({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:L.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:L.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:L.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:L.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:L.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Zs.create=t=>new Zs({checks:[],typeName:K.ZodBigInt,coerce:t?.coerce??!1,...Y(t)});class dn extends ee{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==I.boolean){const r=this._getOrReturnCtx(e);return A(r,{code:_.invalid_type,expected:I.boolean,received:r.parsedType}),Z}return Ke(e.data)}}dn.create=t=>new dn({typeName:K.ZodBoolean,coerce:t?.coerce||!1,...Y(t)});class xr extends ee{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==I.date){const a=this._getOrReturnCtx(e);return A(a,{code:_.invalid_type,expected:I.date,received:a.parsedType}),Z}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return A(a,{code:_.invalid_date}),Z}const r=new Ue;let n;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),A(n,{code:_.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),A(n,{code:_.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):se.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new xr({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:L.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:L.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}xr.create=t=>new xr({checks:[],coerce:t?.coerce||!1,typeName:K.ZodDate,...Y(t)});class Ia extends ee{_parse(e){if(this._getType(e)!==I.symbol){const r=this._getOrReturnCtx(e);return A(r,{code:_.invalid_type,expected:I.symbol,received:r.parsedType}),Z}return Ke(e.data)}}Ia.create=t=>new Ia({typeName:K.ZodSymbol,...Y(t)});class La extends ee{_parse(e){if(this._getType(e)!==I.undefined){const r=this._getOrReturnCtx(e);return A(r,{code:_.invalid_type,expected:I.undefined,received:r.parsedType}),Z}return Ke(e.data)}}La.create=t=>new La({typeName:K.ZodUndefined,...Y(t)});class Da extends ee{_parse(e){if(this._getType(e)!==I.null){const r=this._getOrReturnCtx(e);return A(r,{code:_.invalid_type,expected:I.null,received:r.parsedType}),Z}return Ke(e.data)}}Da.create=t=>new Da({typeName:K.ZodNull,...Y(t)});class Fa extends ee{constructor(){super(...arguments),this._any=!0}_parse(e){return Ke(e.data)}}Fa.create=t=>new Fa({typeName:K.ZodAny,...Y(t)});class Ma extends ee{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ke(e.data)}}Ma.create=t=>new Ma({typeName:K.ZodUnknown,...Y(t)});class $t extends ee{_parse(e){const s=this._getOrReturnCtx(e);return A(s,{code:_.invalid_type,expected:I.never,received:s.parsedType}),Z}}$t.create=t=>new $t({typeName:K.ZodNever,...Y(t)});class Va extends ee{_parse(e){if(this._getType(e)!==I.undefined){const r=this._getOrReturnCtx(e);return A(r,{code:_.invalid_type,expected:I.void,received:r.parsedType}),Z}return Ke(e.data)}}Va.create=t=>new Va({typeName:K.ZodVoid,...Y(t)});class ut extends ee{_parse(e){const{ctx:s,status:r}=this._processInputParams(e),n=this._def;if(s.parsedType!==I.array)return A(s,{code:_.invalid_type,expected:I.array,received:s.parsedType}),Z;if(n.exactLength!==null){const i=s.data.length>n.exactLength.value,o=s.data.length<n.exactLength.value;(i||o)&&(A(s,{code:i?_.too_big:_.too_small,minimum:o?n.exactLength.value:void 0,maximum:i?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(n.minLength!==null&&s.data.length<n.minLength.value&&(A(s,{code:_.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),n.maxLength!==null&&s.data.length>n.maxLength.value&&(A(s,{code:_.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((i,o)=>n.type._parseAsync(new Vt(s,i,s.path,o)))).then(i=>Ue.mergeArray(r,i));const a=[...s.data].map((i,o)=>n.type._parseSync(new Vt(s,i,s.path,o)));return Ue.mergeArray(r,a)}get element(){return this._def.type}min(e,s){return new ut({...this._def,minLength:{value:e,message:L.toString(s)}})}max(e,s){return new ut({...this._def,maxLength:{value:e,message:L.toString(s)}})}length(e,s){return new ut({...this._def,exactLength:{value:e,message:L.toString(s)}})}nonempty(e){return this.min(1,e)}}ut.create=(t,e)=>new ut({type:t,minLength:null,maxLength:null,exactLength:null,typeName:K.ZodArray,...Y(e)});function cs(t){if(t instanceof _e){const e={};for(const s in t.shape){const r=t.shape[s];e[s]=Ft.create(cs(r))}return new _e({...t._def,shape:()=>e})}else return t instanceof ut?new ut({...t._def,type:cs(t.element)}):t instanceof Ft?Ft.create(cs(t.unwrap())):t instanceof Ts?Ts.create(cs(t.unwrap())):t instanceof es?es.create(t.items.map(e=>cs(e))):t}class _e extends ee{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),s=se.objectKeys(e);return this._cached={shape:e,keys:s},this._cached}_parse(e){if(this._getType(e)!==I.object){const d=this._getOrReturnCtx(e);return A(d,{code:_.invalid_type,expected:I.object,received:d.parsedType}),Z}const{status:r,ctx:n}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof $t&&this._def.unknownKeys==="strip"))for(const d in n.data)i.includes(d)||o.push(d);const c=[];for(const d of i){const u=a[d],f=n.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Vt(n,f,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof $t){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(d==="strict")o.length>0&&(A(n,{code:_.unrecognized_keys,keys:o}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of o){const f=n.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Vt(n,f,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,x=await u.value;d.push({key:f,value:x,alwaysSet:u.alwaysSet})}return d}).then(d=>Ue.mergeObjectSync(r,d)):Ue.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return L.errToObj,new _e({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(s,r)=>{const n=this._def.errorMap?.(s,r).message??r.defaultError;return s.code==="unrecognized_keys"?{message:L.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new _e({...this._def,unknownKeys:"strip"})}passthrough(){return new _e({...this._def,unknownKeys:"passthrough"})}extend(e){return new _e({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new _e({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:K.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new _e({...this._def,catchall:e})}pick(e){const s={};for(const r of se.objectKeys(e))e[r]&&this.shape[r]&&(s[r]=this.shape[r]);return new _e({...this._def,shape:()=>s})}omit(e){const s={};for(const r of se.objectKeys(this.shape))e[r]||(s[r]=this.shape[r]);return new _e({...this._def,shape:()=>s})}deepPartial(){return cs(this)}partial(e){const s={};for(const r of se.objectKeys(this.shape)){const n=this.shape[r];e&&!e[r]?s[r]=n:s[r]=n.optional()}return new _e({...this._def,shape:()=>s})}required(e){const s={};for(const r of se.objectKeys(this.shape))if(e&&!e[r])s[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Ft;)a=a._def.innerType;s[r]=a}return new _e({...this._def,shape:()=>s})}keyof(){return To(se.objectKeys(this.shape))}}_e.create=(t,e)=>new _e({shape:()=>t,unknownKeys:"strip",catchall:$t.create(),typeName:K.ZodObject,...Y(e)});_e.strictCreate=(t,e)=>new _e({shape:()=>t,unknownKeys:"strict",catchall:$t.create(),typeName:K.ZodObject,...Y(e)});_e.lazycreate=(t,e)=>new _e({shape:t,unknownKeys:"strip",catchall:$t.create(),typeName:K.ZodObject,...Y(e)});class br extends ee{_parse(e){const{ctx:s}=this._processInputParams(e),r=this._def.options;function n(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return s.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(o=>new kt(o.ctx.common.issues));return A(s,{code:_.invalid_union,unionErrors:i}),Z}if(s.common.async)return Promise.all(r.map(async a=>{const i={...s,common:{...s.common,issues:[]},parent:null};return{result:await a._parseAsync({data:s.data,path:s.path,parent:i}),ctx:i}})).then(n);{let a;const i=[];for(const c of r){const d={...s,common:{...s.common,issues:[]},parent:null},u=c._parseSync({data:s.data,path:s.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&i.push(d.common.issues)}if(a)return s.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(c=>new kt(c));return A(s,{code:_.invalid_union,unionErrors:o}),Z}}get options(){return this._def.options}}br.create=(t,e)=>new br({options:t,typeName:K.ZodUnion,...Y(e)});function un(t,e){const s=Tt(t),r=Tt(e);if(t===e)return{valid:!0,data:t};if(s===I.object&&r===I.object){const n=se.objectKeys(e),a=se.objectKeys(t).filter(o=>n.indexOf(o)!==-1),i={...t,...e};for(const o of a){const c=un(t[o],e[o]);if(!c.valid)return{valid:!1};i[o]=c.data}return{valid:!0,data:i}}else if(s===I.array&&r===I.array){if(t.length!==e.length)return{valid:!1};const n=[];for(let a=0;a<t.length;a++){const i=t[a],o=e[a],c=un(i,o);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return s===I.date&&r===I.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class wr extends ee{_parse(e){const{status:s,ctx:r}=this._processInputParams(e),n=(a,i)=>{if(Pa(a)||Pa(i))return Z;const o=un(a.value,i.value);return o.valid?((Ra(a)||Ra(i))&&s.dirty(),{status:s.value,value:o.data}):(A(r,{code:_.invalid_intersection_types}),Z)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,i])=>n(a,i)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}wr.create=(t,e,s)=>new wr({left:t,right:e,typeName:K.ZodIntersection,...Y(s)});class es extends ee{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==I.array)return A(r,{code:_.invalid_type,expected:I.array,received:r.parsedType}),Z;if(r.data.length<this._def.items.length)return A(r,{code:_.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Z;!this._def.rest&&r.data.length>this._def.items.length&&(A(r,{code:_.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const a=[...r.data].map((i,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new Vt(r,i,r.path,o)):null}).filter(i=>!!i);return r.common.async?Promise.all(a).then(i=>Ue.mergeArray(s,i)):Ue.mergeArray(s,a)}get items(){return this._def.items}rest(e){return new es({...this._def,rest:e})}}es.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new es({items:t,typeName:K.ZodTuple,rest:null,...Y(e)})};class $a extends ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==I.map)return A(r,{code:_.invalid_type,expected:I.map,received:r.parsedType}),Z;const n=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([o,c],d)=>({key:n._parse(new Vt(r,o,r.path,[d,"key"])),value:a._parse(new Vt(r,c,r.path,[d,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of i){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Z;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),o.set(d.value,u.value)}return{status:s.value,value:o}})}else{const o=new Map;for(const c of i){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Z;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),o.set(d.value,u.value)}return{status:s.value,value:o}}}}$a.create=(t,e,s)=>new $a({valueType:e,keyType:t,typeName:K.ZodMap,...Y(s)});class Ks extends ee{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==I.set)return A(r,{code:_.invalid_type,expected:I.set,received:r.parsedType}),Z;const n=this._def;n.minSize!==null&&r.data.size<n.minSize.value&&(A(r,{code:_.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),s.dirty()),n.maxSize!==null&&r.data.size>n.maxSize.value&&(A(r,{code:_.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),s.dirty());const a=this._def.valueType;function i(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Z;u.status==="dirty"&&s.dirty(),d.add(u.value)}return{status:s.value,value:d}}const o=[...r.data.values()].map((c,d)=>a._parse(new Vt(r,c,r.path,d)));return r.common.async?Promise.all(o).then(c=>i(c)):i(o)}min(e,s){return new Ks({...this._def,minSize:{value:e,message:L.toString(s)}})}max(e,s){return new Ks({...this._def,maxSize:{value:e,message:L.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}Ks.create=(t,e)=>new Ks({valueType:t,minSize:null,maxSize:null,typeName:K.ZodSet,...Y(e)});class Ua extends ee{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Ua.create=(t,e)=>new Ua({getter:t,typeName:K.ZodLazy,...Y(e)});class qa extends ee{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return A(s,{received:s.data,code:_.invalid_literal,expected:this._def.value}),Z}return{status:"valid",value:e.data}}get value(){return this._def.value}}qa.create=(t,e)=>new qa({value:t,typeName:K.ZodLiteral,...Y(e)});function To(t,e){return new _s({values:t,typeName:K.ZodEnum,...Y(e)})}class _s extends ee{_parse(e){if(typeof e.data!="string"){const s=this._getOrReturnCtx(e),r=this._def.values;return A(s,{expected:se.joinValues(r),received:s.parsedType,code:_.invalid_type}),Z}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const s=this._getOrReturnCtx(e),r=this._def.values;return A(s,{received:s.data,code:_.invalid_enum_value,options:r}),Z}return Ke(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return _s.create(e,{...this._def,...s})}exclude(e,s=this._def){return _s.create(this.options.filter(r=>!e.includes(r)),{...this._def,...s})}}_s.create=To;class za extends ee{_parse(e){const s=se.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==I.string&&r.parsedType!==I.number){const n=se.objectValues(s);return A(r,{expected:se.joinValues(n),received:r.parsedType,code:_.invalid_type}),Z}if(this._cache||(this._cache=new Set(se.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const n=se.objectValues(s);return A(r,{received:r.data,code:_.invalid_enum_value,options:n}),Z}return Ke(e.data)}get enum(){return this._def.values}}za.create=(t,e)=>new za({values:t,typeName:K.ZodNativeEnum,...Y(e)});class kr extends ee{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==I.promise&&s.common.async===!1)return A(s,{code:_.invalid_type,expected:I.promise,received:s.parsedType}),Z;const r=s.parsedType===I.promise?s.data:Promise.resolve(s.data);return Ke(r.then(n=>this._def.type.parseAsync(n,{path:s.path,errorMap:s.common.contextualErrorMap})))}}kr.create=(t,e)=>new kr({type:t,typeName:K.ZodPromise,...Y(e)});class Cs extends ee{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===K.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:r}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:i=>{A(r,i),i.fatal?s.abort():s.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="preprocess"){const i=n.transform(r.data,a);if(r.common.async)return Promise.resolve(i).then(async o=>{if(s.value==="aborted")return Z;const c=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return c.status==="aborted"?Z:c.status==="dirty"||s.value==="dirty"?Os(c.value):c});{if(s.value==="aborted")return Z;const o=this._def.schema._parseSync({data:i,path:r.path,parent:r});return o.status==="aborted"?Z:o.status==="dirty"||s.value==="dirty"?Os(o.value):o}}if(n.type==="refinement"){const i=o=>{const c=n.refinement(o,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Z:(o.status==="dirty"&&s.dirty(),i(o.value),{status:s.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?Z:(o.status==="dirty"&&s.dirty(),i(o.value).then(()=>({status:s.value,value:o.value}))))}if(n.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ss(i))return Z;const o=n.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>Ss(i)?Promise.resolve(n.transform(i.value,a)).then(o=>({status:s.value,value:o})):Z);se.assertNever(n)}}Cs.create=(t,e,s)=>new Cs({schema:t,typeName:K.ZodEffects,effect:e,...Y(s)});Cs.createWithPreprocess=(t,e,s)=>new Cs({schema:e,effect:{type:"preprocess",transform:t},typeName:K.ZodEffects,...Y(s)});class Ft extends ee{_parse(e){return this._getType(e)===I.undefined?Ke(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ft.create=(t,e)=>new Ft({innerType:t,typeName:K.ZodOptional,...Y(e)});class Ts extends ee{_parse(e){return this._getType(e)===I.null?Ke(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ts.create=(t,e)=>new Ts({innerType:t,typeName:K.ZodNullable,...Y(e)});class fn extends ee{_parse(e){const{ctx:s}=this._processInputParams(e);let r=s.data;return s.parsedType===I.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}fn.create=(t,e)=>new fn({innerType:t,typeName:K.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Y(e)});class hn extends ee{_parse(e){const{ctx:s}=this._processInputParams(e),r={...s,common:{...s.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return vr(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new kt(r.common.issues)},input:r.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new kt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}hn.create=(t,e)=>new hn({innerType:t,typeName:K.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Y(e)});class Ha extends ee{_parse(e){if(this._getType(e)!==I.nan){const r=this._getOrReturnCtx(e);return A(r,{code:_.invalid_type,expected:I.nan,received:r.parsedType}),Z}return{status:"valid",value:e.data}}}Ha.create=t=>new Ha({typeName:K.ZodNaN,...Y(t)});class zu extends ee{_parse(e){const{ctx:s}=this._processInputParams(e),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class zn extends ee{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Z:a.status==="dirty"?(s.dirty(),Os(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const n=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?Z:n.status==="dirty"?(s.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:r.path,parent:r})}}static create(e,s){return new zn({in:e,out:s,typeName:K.ZodPipeline})}}class pn extends ee{_parse(e){const s=this._def.innerType._parse(e),r=n=>(Ss(n)&&(n.value=Object.freeze(n.value)),n);return vr(s)?s.then(n=>r(n)):r(s)}unwrap(){return this._def.innerType}}pn.create=(t,e)=>new pn({innerType:t,typeName:K.ZodReadonly,...Y(e)});var K;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(K||(K={}));const ye=Ot.create,Xt=dn.create;$t.create;ut.create;const sr=_e.create;br.create;wr.create;es.create;const mn=_s.create;kr.create;Ft.create;Ts.create;const Hu=ye().min(8,"Пароль должен содержать минимум 8 символов").regex(/[A-Z]/,"Пароль должен содержать заглавную букву").regex(/[a-z]/,"Пароль должен содержать строчную букву").regex(/[0-9]/,"Пароль должен содержать цифру").regex(/[^A-Za-z0-9]/,"Пароль должен содержать специальный символ"),No=ye().email("Неверный формат email").max(255,"Email слишком длинный").refine(t=>!t.includes("<")&&!t.includes(">")&&!t.includes('"'),"Email содержит недопустимые символы"),Bu=ye().min(5,"Telegram должен содержать минимум 5 символов").max(32,"Telegram слишком длинный").regex(/^@?[a-zA-Z0-9_]{5,32}$/,"Telegram должен начинаться с @ и содержать только буквы, цифры и подчеркивания").transform(t=>t.startsWith("@")?t:`@${t}`),Zu=ye().regex(/^\+?[1-9]\d{1,14}$/,"Неверный формат номера телефона").optional(),Ku=ye().min(2,"Имя должно содержать минимум 2 символа").max(100,"Имя слишком длинное").regex(/^[a-zA-Zа-яА-ЯёЁ\s-']+$/,"Имя может содержать только буквы, пробелы, дефисы и апострофы").refine(t=>t.trim().length>=2,"Имя не может состоять только из пробелов"),Eo=ye().min(2,"Название компании должно содержать минимум 2 символа").max(200,"Название компании слишком длинное").refine(t=>t.trim().length>=2,"Название компании не может состоять только из пробелов"),Wu=sr({email:ye().min(1,"Email обязателен").email("Неверный формат email").max(255,"Email слишком длинный"),password:ye().min(1,"Пароль обязателен"),twoFactorCode:ye().optional(),rememberMe:Xt().optional()}),Hn=sr({name:Ku,email:No,telegram:Bu,password:Hu,confirmPassword:ye(),phone:Zu,contactType:mn(["email","phone","telegram"],{errorMap:()=>({message:"Выберите тип контакта"})}).optional(),contact:ye().optional(),agreeTerms:Xt().refine(t=>t===!0,"Необходимо согласиться с условиями использования"),agreePrivacy:Xt().refine(t=>t===!0,"Необходимо согласиться с политикой конфиденциальности"),agreeMarketing:Xt().optional()}),Bn=t=>t.password===t.confirmPassword,Zn=t=>!(t.contactType&&!t.contact||t.contact&&!t.contactType);Hn.extend({company:Eo}).refine(Bn,{message:"Пароли не совпадают",path:["confirmPassword"]}).refine(Zn,{message:"Укажите тип контакта и контактные данные",path:["contact"]});Hn.extend({company:ye().optional()}).refine(Bn,{message:"Пароли не совпадают",path:["confirmPassword"]}).refine(Zn,{message:"Укажите тип контакта и контактные данные",path:["contact"]});Hn.extend({company:Eo.optional()}).refine(Bn,{message:"Пароли не совпадают",path:["confirmPassword"]}).refine(Zn,{message:"Укажите тип контакта и контактные данные",path:["contact"]});sr({code:ye().length(6,"2FA код должен содержать 6 цифр").regex(/^\d{6}$/,"2FA код должен содержать только цифры"),token:ye().min(1,"Временный токен отсутствует")});const Qu=sr({email:No});function Gu(t={}){const[,e]=rs(),[s,r]=h.useState(!1),[n,a]=h.useState(!1),{toast:i}=Un(),{handleError:o,error:c,clearError:d}=wo(),{login:u}=qn(),f=Vn({resolver:$n(Wu),defaultValues:{email:"",password:"",rememberMe:!1}}),x=h.useCallback(async m=>{console.log("[LOGIN_FORM] Starting login process for:",m.email),d(),r(!0);try{const y=await u(m.email,m.password);if(y.token)if(i({title:"Успешный вход",description:"Перенаправляем в панель управления..."}),t.onSuccess&&t.onSuccess(y.user),t.redirectTo)e(t.redirectTo);else{const C=new URLSearchParams(window.location.search).get("next");if(C)e(decodeURIComponent(C));else{const g=y.user?.role,N=Ju(g);e(N)}}else console.warn("[LOGIN_FORM] No token in response:",y),o("Ошибка входа. Попробуйте снова.","Login")}catch(y){console.error("[LOGIN_FORM] Login error:",y),o(y,"Login"),t.onError&&t.onError(y)}finally{r(!1)}},[u,i,e,o,d,t]),b=h.useCallback(()=>{a(m=>!m)},[]);return{form:f,loading:s,showPassword:n,error:c,handleSubmit:f.handleSubmit(x),togglePasswordVisibility:b,clearError:d}}function Ju(t){return t&&{advertiser:"/dashboard/advertiser",partner:"/dashboard/partner",affiliate:"/dashboard/partner",owner:"/dashboard/owner",super_admin:"/dashboard/super-admin",staff:"/dashboard/staff"}[t.toLowerCase()]||"/dashboard"}function Yu(){const[,t]=rs(),s=new URLSearchParams(window.location.search).get("next")||void 0,{form:r,loading:n,showPassword:a,error:i,handleSubmit:o,togglePasswordVisibility:c}=Gu({redirectTo:s});return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100 px-4 py-8",children:l.jsxs(bt,{className:"w-full max-w-md shadow-2xl border-2 border-white/50 backdrop-blur-sm bg-white/95 dark:bg-slate-900/95 dark:border-slate-700/50",children:[l.jsxs(It,{className:"text-center",children:[l.jsx("div",{className:"flex items-center justify-center mb-4",children:l.jsx(pr,{className:"h-8 w-8 text-blue-600 mr-2"})}),l.jsx(Lt,{className:"text-2xl font-bold text-gray-900",children:"Вход в систему"}),l.jsx("div",{className:"mt-2",children:l.jsx("p",{className:"text-gray-600",children:"Введите свои учётные данные для входа в систему"})})]}),l.jsxs(wt,{children:[i&&l.jsxs(Rr,{className:"mb-4",variant:"destructive",children:[l.jsx(An,{className:"h-4 w-4"}),l.jsx(Or,{children:i.message})]}),l.jsxs("form",{onSubmit:o,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Te,{htmlFor:"email",children:"Email"}),l.jsx(Ve,{...r.register("email"),id:"email",type:"email",placeholder:"example@company.com",disabled:n}),r.formState.errors.email&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:r.formState.errors.email.message})]}),l.jsxs("div",{children:[l.jsx(Te,{htmlFor:"password",children:"Пароль"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ve,{...r.register("password"),id:"password",type:a?"text":"password",placeholder:"Введите пароль",disabled:n,className:"pr-10"}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",onClick:c,children:a?l.jsx(Us,{className:"h-4 w-4"}):l.jsx(qs,{className:"h-4 w-4"})})]}),r.formState.errors.password&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:r.formState.errors.password.message})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ds,{id:"rememberMe",checked:r.watch("rememberMe"),onCheckedChange:d=>r.setValue("rememberMe",d)}),l.jsx(Te,{htmlFor:"rememberMe",className:"text-sm font-normal cursor-pointer",children:"Запомнить меня"})]}),l.jsx(Fe,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200",disabled:n,children:n?l.jsxs(l.Fragment,{children:[l.jsx(zs,{className:"mr-2 h-4 w-4 animate-spin"}),"Входим..."]}):"Войти"}),l.jsx("div",{className:"text-center",children:l.jsx("a",{href:"/forgot-password",className:"text-sm text-blue-600 hover:underline",children:"Забыли пароль?"})})]}),l.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[l.jsx("p",{className:"text-center text-sm text-gray-600 mb-4",children:"Нет аккаунта?"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Fe,{variant:"outline",className:"flex-1 border-2 border-blue-200 hover:border-blue-300 hover:bg-blue-50 text-blue-700 font-medium dark:border-blue-800 dark:text-blue-300 dark:hover:bg-blue-900/20",onClick:()=>t("/register?role=partner"),disabled:n,children:"Стать партнёром"}),l.jsx(Fe,{variant:"outline",className:"flex-1 border-2 border-purple-200 hover:border-purple-300 hover:bg-purple-50 text-purple-700 font-medium dark:border-purple-800 dark:text-purple-300 dark:hover:bg-purple-900/20",onClick:()=>t("/register?role=advertiser"),disabled:n,children:"Стать рекламодателем"})]})]}),l.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:l.jsx("div",{className:"flex items-center justify-center text-xs text-gray-500 space-x-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ar,{className:"h-3 w-3 text-green-500 mr-1"}),"SSL защищено"]})})})]})]})})}function Ba(t,[e,s]){return Math.min(s,Math.max(e,t))}var jo=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Xu="VisuallyHidden",ef=h.forwardRef((t,e)=>l.jsx(Ae.span,{...t,ref:e,style:{...jo,...t.style}}));ef.displayName=Xu;var tf=[" ","Enter","ArrowUp","ArrowDown"],sf=[" ","Enter"],ts="Select",[Lr,Dr,rf]=Ul(ts),[Ns,Lm]=Ui(ts,[rf,qi]),Fr=qi(),[nf,Ut]=Ns(ts),[af,of]=Ns(ts),Ao=t=>{const{__scopeSelect:e,children:s,open:r,defaultOpen:n,onOpenChange:a,value:i,defaultValue:o,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:x,required:b,form:m}=t,y=Fr(e),[S,C]=h.useState(null),[g,N]=h.useState(null),[R,E]=h.useState(!1),M=Yl(d),[U,pe]=Yr({prop:r,defaultProp:n??!1,onChange:a,caller:ts}),[re,V]=Yr({prop:i,defaultProp:o,onChange:c,caller:ts}),X=h.useRef(null),B=S?m||!!S.closest("form"):!0,[F,W]=h.useState(new Set),oe=Array.from(F).map(G=>G.props.value).join(";");return l.jsx(Xl,{...y,children:l.jsxs(nf,{required:b,scope:e,trigger:S,onTriggerChange:C,valueNode:g,onValueNodeChange:N,valueNodeHasChildren:R,onValueNodeHasChildrenChange:E,contentId:_n(),value:re,onValueChange:V,open:U,onOpenChange:pe,dir:M,triggerPointerDownPosRef:X,disabled:x,children:[l.jsx(Lr.Provider,{scope:e,children:l.jsx(af,{scope:t.__scopeSelect,onNativeOptionAdd:h.useCallback(G=>{W(ne=>new Set(ne).add(G))},[]),onNativeOptionRemove:h.useCallback(G=>{W(ne=>{const ve=new Set(ne);return ve.delete(G),ve})},[]),children:s})}),B?l.jsxs(el,{"aria-hidden":!0,required:b,tabIndex:-1,name:u,autoComplete:f,value:re,onChange:G=>V(G.target.value),disabled:x,form:m,children:[re===void 0?l.jsx("option",{value:""}):null,Array.from(F)]},oe):null]})})};Ao.displayName=ts;var Po="SelectTrigger",Ro=h.forwardRef((t,e)=>{const{__scopeSelect:s,disabled:r=!1,...n}=t,a=Fr(s),i=Ut(Po,s),o=i.disabled||r,c=Ze(e,i.onTriggerChange),d=Dr(s),u=h.useRef("touch"),[f,x,b]=sl(y=>{const S=d().filter(N=>!N.disabled),C=S.find(N=>N.value===i.value),g=rl(S,y,C);g!==void 0&&i.onValueChange(g.value)}),m=y=>{o||(i.onOpenChange(!0),b()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return l.jsx(ql,{asChild:!0,...a,children:l.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":tl(i.value)?"":void 0,...n,ref:c,onClick:Ne(n.onClick,y=>{y.currentTarget.focus(),u.current!=="mouse"&&m(y)}),onPointerDown:Ne(n.onPointerDown,y=>{u.current=y.pointerType;const S=y.target;S.hasPointerCapture(y.pointerId)&&S.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(m(y),y.preventDefault())}),onKeyDown:Ne(n.onKeyDown,y=>{const S=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&x(y.key),!(S&&y.key===" ")&&tf.includes(y.key)&&(m(),y.preventDefault())})})})});Ro.displayName=Po;var Oo="SelectValue",Io=h.forwardRef((t,e)=>{const{__scopeSelect:s,className:r,style:n,children:a,placeholder:i="",...o}=t,c=Ut(Oo,s),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,f=Ze(e,c.onValueNodeChange);return Mt(()=>{d(u)},[d,u]),l.jsx(Ae.span,{...o,ref:f,style:{pointerEvents:"none"},children:tl(c.value)?l.jsx(l.Fragment,{children:i}):a})});Io.displayName=Oo;var lf="SelectIcon",Lo=h.forwardRef((t,e)=>{const{__scopeSelect:s,children:r,...n}=t;return l.jsx(Ae.span,{"aria-hidden":!0,...n,ref:e,children:r||"▼"})});Lo.displayName=lf;var cf="SelectPortal",Do=t=>l.jsx(zl,{asChild:!0,...t});Do.displayName=cf;var ss="SelectContent",Fo=h.forwardRef((t,e)=>{const s=Ut(ss,t.__scopeSelect),[r,n]=h.useState();if(Mt(()=>{n(new DocumentFragment)},[]),!s.open){const a=r;return a?Cn.createPortal(l.jsx(Mo,{scope:t.__scopeSelect,children:l.jsx(Lr.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),a):null}return l.jsx(Vo,{...t,ref:e})});Fo.displayName=ss;var Je=10,[Mo,qt]=Ns(ss),df="SelectContentImpl",uf=Wl("SelectContent.RemoveScroll"),Vo=h.forwardRef((t,e)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:a,onPointerDownOutside:i,side:o,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:x,collisionPadding:b,sticky:m,hideWhenDetached:y,avoidCollisions:S,...C}=t,g=Ut(ss,s),[N,R]=h.useState(null),[E,M]=h.useState(null),U=Ze(e,q=>R(q)),[pe,re]=h.useState(null),[V,X]=h.useState(null),B=Dr(s),[F,W]=h.useState(!1),oe=h.useRef(!1);h.useEffect(()=>{if(N)return Bl(N)},[N]),Zl();const G=h.useCallback(q=>{const[me,...Pe]=B().map(be=>be.ref.current),[le]=Pe.slice(-1),he=document.activeElement;for(const be of q)if(be===he||(be?.scrollIntoView({block:"nearest"}),be===me&&E&&(E.scrollTop=0),be===le&&E&&(E.scrollTop=E.scrollHeight),be?.focus(),document.activeElement!==he))return},[B,E]),ne=h.useCallback(()=>G([pe,N]),[G,pe,N]);h.useEffect(()=>{F&&ne()},[F,ne]);const{onOpenChange:ve,triggerPointerDownPosRef:ke}=g;h.useEffect(()=>{if(N){let q={x:0,y:0};const me=le=>{q={x:Math.abs(Math.round(le.pageX)-(ke.current?.x??0)),y:Math.abs(Math.round(le.pageY)-(ke.current?.y??0))}},Pe=le=>{q.x<=10&&q.y<=10?le.preventDefault():N.contains(le.target)||ve(!1),document.removeEventListener("pointermove",me),ke.current=null};return ke.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[N,ve,ke]),h.useEffect(()=>{const q=()=>ve(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[ve]);const[We,xe]=sl(q=>{const me=B().filter(he=>!he.disabled),Pe=me.find(he=>he.ref.current===document.activeElement),le=rl(me,q,Pe);le&&setTimeout(()=>le.ref.current.focus())}),$e=h.useCallback((q,me,Pe)=>{const le=!oe.current&&!Pe;(g.value!==void 0&&g.value===me||le)&&(re(q),le&&(oe.current=!0))},[g.value]),qe=h.useCallback(()=>N?.focus(),[N]),Qe=h.useCallback((q,me,Pe)=>{const le=!oe.current&&!Pe;(g.value!==void 0&&g.value===me||le)&&X(q)},[g.value]),zt=r==="popper"?gn:$o,Ht=zt===gn?{side:o,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:x,collisionPadding:b,sticky:m,hideWhenDetached:y,avoidCollisions:S}:{};return l.jsx(Mo,{scope:s,content:N,viewport:E,onViewportChange:M,itemRefCallback:$e,selectedItem:pe,onItemLeave:qe,itemTextRefCallback:Qe,focusSelectedItem:ne,selectedItemText:V,position:r,isPositioned:F,searchRef:We,children:l.jsx(Kl,{as:uf,allowPinchZoom:!0,children:l.jsx(Ql,{asChild:!0,trapped:g.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:Ne(n,q=>{g.trigger?.focus({preventScroll:!0}),q.preventDefault()}),children:l.jsx(Gl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:l.jsx(zt,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:q=>q.preventDefault(),...C,...Ht,onPlaced:()=>W(!0),ref:U,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Ne(C.onKeyDown,q=>{const me=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!me&&q.key.length===1&&xe(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let le=B().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(q.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const he=q.target,be=le.indexOf(he);le=le.slice(be+1)}setTimeout(()=>G(le)),q.preventDefault()}})})})})})})});Vo.displayName=df;var ff="SelectItemAlignedPosition",$o=h.forwardRef((t,e)=>{const{__scopeSelect:s,onPlaced:r,...n}=t,a=Ut(ss,s),i=qt(ss,s),[o,c]=h.useState(null),[d,u]=h.useState(null),f=Ze(e,U=>u(U)),x=Dr(s),b=h.useRef(!1),m=h.useRef(!0),{viewport:y,selectedItem:S,selectedItemText:C,focusSelectedItem:g}=i,N=h.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&d&&y&&S&&C){const U=a.trigger.getBoundingClientRect(),pe=d.getBoundingClientRect(),re=a.valueNode.getBoundingClientRect(),V=C.getBoundingClientRect();if(a.dir!=="rtl"){const he=V.left-pe.left,be=re.left-he,ft=U.left-be,rt=U.width+ft,ns=Math.max(rt,pe.width),Es=window.innerWidth-Je,js=Ba(be,[Je,Math.max(Je,Es-ns)]);o.style.minWidth=rt+"px",o.style.left=js+"px"}else{const he=pe.right-V.right,be=window.innerWidth-re.right-he,ft=window.innerWidth-U.right-be,rt=U.width+ft,ns=Math.max(rt,pe.width),Es=window.innerWidth-Je,js=Ba(be,[Je,Math.max(Je,Es-ns)]);o.style.minWidth=rt+"px",o.style.right=js+"px"}const X=x(),B=window.innerHeight-Je*2,F=y.scrollHeight,W=window.getComputedStyle(d),oe=parseInt(W.borderTopWidth,10),G=parseInt(W.paddingTop,10),ne=parseInt(W.borderBottomWidth,10),ve=parseInt(W.paddingBottom,10),ke=oe+G+F+ve+ne,We=Math.min(S.offsetHeight*5,ke),xe=window.getComputedStyle(y),$e=parseInt(xe.paddingTop,10),qe=parseInt(xe.paddingBottom,10),Qe=U.top+U.height/2-Je,zt=B-Qe,Ht=S.offsetHeight/2,q=S.offsetTop+Ht,me=oe+G+q,Pe=ke-me;if(me<=Qe){const he=X.length>0&&S===X[X.length-1].ref.current;o.style.bottom="0px";const be=d.clientHeight-y.offsetTop-y.offsetHeight,ft=Math.max(zt,Ht+(he?qe:0)+be+ne),rt=me+ft;o.style.height=rt+"px"}else{const he=X.length>0&&S===X[0].ref.current;o.style.top="0px";const ft=Math.max(Qe,oe+y.offsetTop+(he?$e:0)+Ht)+Pe;o.style.height=ft+"px",y.scrollTop=me-Qe+y.offsetTop}o.style.margin=`${Je}px 0`,o.style.minHeight=We+"px",o.style.maxHeight=B+"px",r?.(),requestAnimationFrame(()=>b.current=!0)}},[x,a.trigger,a.valueNode,o,d,y,S,C,a.dir,r]);Mt(()=>N(),[N]);const[R,E]=h.useState();Mt(()=>{d&&E(window.getComputedStyle(d).zIndex)},[d]);const M=h.useCallback(U=>{U&&m.current===!0&&(N(),g?.(),m.current=!1)},[N,g]);return l.jsx(pf,{scope:s,contentWrapper:o,shouldExpandOnScrollRef:b,onScrollButtonChange:M,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:l.jsx(Ae.div,{...n,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});$o.displayName=ff;var hf="SelectPopperPosition",gn=h.forwardRef((t,e)=>{const{__scopeSelect:s,align:r="start",collisionPadding:n=Je,...a}=t,i=Fr(s);return l.jsx(Jl,{...i,...a,ref:e,align:r,collisionPadding:n,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gn.displayName=hf;var[pf,Kn]=Ns(ss,{}),yn="SelectViewport",Uo=h.forwardRef((t,e)=>{const{__scopeSelect:s,nonce:r,...n}=t,a=qt(yn,s),i=Kn(yn,s),o=Ze(e,a.onViewportChange),c=h.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Lr.Slot,{scope:s,children:l.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:Ne(n.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:x}=i;if(x?.current&&f){const b=Math.abs(c.current-u.scrollTop);if(b>0){const m=window.innerHeight-Je*2,y=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),C=Math.max(y,S);if(C<m){const g=C+b,N=Math.min(m,g),R=g-N;f.style.height=N+"px",f.style.bottom==="0px"&&(u.scrollTop=R>0?R:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});Uo.displayName=yn;var qo="SelectGroup",[mf,gf]=Ns(qo),yf=h.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t,n=_n();return l.jsx(mf,{scope:s,id:n,children:l.jsx(Ae.div,{role:"group","aria-labelledby":n,...r,ref:e})})});yf.displayName=qo;var zo="SelectLabel",Ho=h.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t,n=gf(zo,s);return l.jsx(Ae.div,{id:n.id,...r,ref:e})});Ho.displayName=zo;var Sr="SelectItem",[vf,Bo]=Ns(Sr),Zo=h.forwardRef((t,e)=>{const{__scopeSelect:s,value:r,disabled:n=!1,textValue:a,...i}=t,o=Ut(Sr,s),c=qt(Sr,s),d=o.value===r,[u,f]=h.useState(a??""),[x,b]=h.useState(!1),m=Ze(e,g=>c.itemRefCallback?.(g,r,n)),y=_n(),S=h.useRef("touch"),C=()=>{n||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(vf,{scope:s,value:r,disabled:n,textId:y,isSelected:d,onItemTextChange:h.useCallback(g=>{f(N=>N||(g?.textContent??"").trim())},[]),children:l.jsx(Lr.ItemSlot,{scope:s,value:r,disabled:n,textValue:u,children:l.jsx(Ae.div,{role:"option","aria-labelledby":y,"data-highlighted":x?"":void 0,"aria-selected":d&&x,"data-state":d?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...i,ref:m,onFocus:Ne(i.onFocus,()=>b(!0)),onBlur:Ne(i.onBlur,()=>b(!1)),onClick:Ne(i.onClick,()=>{S.current!=="mouse"&&C()}),onPointerUp:Ne(i.onPointerUp,()=>{S.current==="mouse"&&C()}),onPointerDown:Ne(i.onPointerDown,g=>{S.current=g.pointerType}),onPointerMove:Ne(i.onPointerMove,g=>{S.current=g.pointerType,n?c.onItemLeave?.():S.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(i.onPointerLeave,g=>{g.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Ne(i.onKeyDown,g=>{c.searchRef?.current!==""&&g.key===" "||(sf.includes(g.key)&&C(),g.key===" "&&g.preventDefault())})})})})});Zo.displayName=Sr;var Is="SelectItemText",Ko=h.forwardRef((t,e)=>{const{__scopeSelect:s,className:r,style:n,...a}=t,i=Ut(Is,s),o=qt(Is,s),c=Bo(Is,s),d=of(Is,s),[u,f]=h.useState(null),x=Ze(e,C=>f(C),c.onItemTextChange,C=>o.itemTextRefCallback?.(C,c.value,c.disabled)),b=u?.textContent,m=h.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:b},c.value),[c.disabled,c.value,b]),{onNativeOptionAdd:y,onNativeOptionRemove:S}=d;return Mt(()=>(y(m),()=>S(m)),[y,S,m]),l.jsxs(l.Fragment,{children:[l.jsx(Ae.span,{id:c.textId,...a,ref:x}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Cn.createPortal(a.children,i.valueNode):null]})});Ko.displayName=Is;var Wo="SelectItemIndicator",Qo=h.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t;return Bo(Wo,s).isSelected?l.jsx(Ae.span,{"aria-hidden":!0,...r,ref:e}):null});Qo.displayName=Wo;var vn="SelectScrollUpButton",Go=h.forwardRef((t,e)=>{const s=qt(vn,t.__scopeSelect),r=Kn(vn,t.__scopeSelect),[n,a]=h.useState(!1),i=Ze(e,r.onScrollButtonChange);return Mt(()=>{if(s.viewport&&s.isPositioned){let o=function(){const d=c.scrollTop>0;a(d)};const c=s.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[s.viewport,s.isPositioned]),n?l.jsx(Yo,{...t,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=s;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});Go.displayName=vn;var xn="SelectScrollDownButton",Jo=h.forwardRef((t,e)=>{const s=qt(xn,t.__scopeSelect),r=Kn(xn,t.__scopeSelect),[n,a]=h.useState(!1),i=Ze(e,r.onScrollButtonChange);return Mt(()=>{if(s.viewport&&s.isPositioned){let o=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=s.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[s.viewport,s.isPositioned]),n?l.jsx(Yo,{...t,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=s;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});Jo.displayName=xn;var Yo=h.forwardRef((t,e)=>{const{__scopeSelect:s,onAutoScroll:r,...n}=t,a=qt("SelectScrollButton",s),i=h.useRef(null),o=Dr(s),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Mt(()=>{o().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[o]),l.jsx(Ae.div,{"aria-hidden":!0,...n,ref:e,style:{flexShrink:0,...n.style},onPointerDown:Ne(n.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Ne(n.onPointerMove,()=>{a.onItemLeave?.(),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Ne(n.onPointerLeave,()=>{c()})})}),xf="SelectSeparator",Xo=h.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t;return l.jsx(Ae.div,{"aria-hidden":!0,...r,ref:e})});Xo.displayName=xf;var bn="SelectArrow",bf=h.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t,n=Fr(s),a=Ut(bn,s),i=qt(bn,s);return a.open&&i.position==="popper"?l.jsx(ec,{...n,...r,ref:e}):null});bf.displayName=bn;var wf="SelectBubbleInput",el=h.forwardRef(({__scopeSelect:t,value:e,...s},r)=>{const n=h.useRef(null),a=Ze(r,n),i=so(e);return h.useEffect(()=>{const o=n.current;if(!o)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==e&&u){const f=new Event("change",{bubbles:!0});u.call(o,e),o.dispatchEvent(f)}},[i,e]),l.jsx(Ae.select,{...s,style:{...jo,...s.style},ref:a,defaultValue:e})});el.displayName=wf;function tl(t){return t===""||t===void 0}function sl(t){const e=Hl(t),s=h.useRef(""),r=h.useRef(0),n=h.useCallback(i=>{const o=s.current+i;e(o),function c(d){s.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(o)},[e]),a=h.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,n,a]}function rl(t,e,s){const n=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=s?t.indexOf(s):-1;let i=kf(t,Math.max(a,0));n.length===1&&(i=i.filter(d=>d!==s));const c=i.find(d=>d.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==s?c:void 0}function kf(t,e){return t.map((s,r)=>t[(e+r)%t.length])}var Sf=Ao,nl=Ro,_f=Io,Cf=Lo,Tf=Do,al=Fo,Nf=Uo,il=Ho,ol=Zo,Ef=Ko,jf=Qo,ll=Go,cl=Jo,dl=Xo;const Af=Sf,Pf=_f,ul=h.forwardRef(({className:t,children:e,...s},r)=>l.jsxs(nl,{ref:r,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[e,l.jsx(Cf,{asChild:!0,children:l.jsx(Yi,{className:"h-4 w-4 opacity-50"})})]}));ul.displayName=nl.displayName;const fl=h.forwardRef(({className:t,...e},s)=>l.jsx(ll,{ref:s,className:ae("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(ad,{className:"h-4 w-4"})}));fl.displayName=ll.displayName;const hl=h.forwardRef(({className:t,...e},s)=>l.jsx(cl,{ref:s,className:ae("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Yi,{className:"h-4 w-4"})}));hl.displayName=cl.displayName;const pl=h.forwardRef(({className:t,children:e,position:s="popper",...r},n)=>l.jsx(Tf,{children:l.jsxs(al,{ref:n,className:ae("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...r,children:[l.jsx(fl,{}),l.jsx(Nf,{className:ae("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(hl,{})]})}));pl.displayName=al.displayName;const Rf=h.forwardRef(({className:t,...e},s)=>l.jsx(il,{ref:s,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Rf.displayName=il.displayName;const hr=h.forwardRef(({className:t,children:e,...s},r)=>l.jsxs(ol,{ref:r,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(jf,{children:l.jsx(Ji,{className:"h-4 w-4"})})}),l.jsx(Ef,{children:e})]}));hr.displayName=ol.displayName;const Of=h.forwardRef(({className:t,...e},s)=>l.jsx(dl,{ref:s,className:ae("-mx-1 my-1 h-px bg-muted",t),...e}));Of.displayName=dl.displayName;const If={success:Ar,error:ld,info:hd,warning:nn},Lf={success:"bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-700 text-green-800 dark:text-green-200",error:"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-700 text-red-800 dark:text-red-200",info:"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-700 text-blue-800 dark:text-blue-200",warning:"bg-yellow-50 dark:bg-yellow-900/30 border-yellow-200 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200"},Df={success:"text-green-500 dark:text-green-400",error:"text-red-500 dark:text-red-400",info:"text-blue-500 dark:text-blue-400",warning:"text-yellow-500 dark:text-yellow-400"};function Ff({notification:t,onClose:e}){const[s,r]=h.useState(!1),[n,a]=h.useState(!1),i=If[t.type];h.useEffect(()=>{const c=setTimeout(()=>r(!0),100);if(t.duration&&t.duration>0){const d=setTimeout(()=>{o()},t.duration);return()=>{clearTimeout(c),clearTimeout(d)}}return()=>clearTimeout(c)},[t.duration]);const o=()=>{a(!0),setTimeout(()=>{e(t.id)},300)};return l.jsx("div",{className:`
        fixed bottom-4 right-4 z-50 max-w-sm w-full
        transform transition-all duration-300 ease-out
        ${s&&!n?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
      `,style:{marginBottom:"calc(var(--toast-index, 0) * 80px)"},children:l.jsx("div",{className:`
        rounded-lg border shadow-lg p-4 ${Lf[t.type]}
        dark:bg-gray-800 dark:border-gray-700 dark:text-white
      `,children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(i,{className:`h-5 w-5 ${Df[t.type]}`})}),l.jsxs("div",{className:"ml-3 flex-1",children:[l.jsx("h4",{className:"font-semibold text-sm",children:t.title}),l.jsx("p",{className:"text-sm mt-1 opacity-90",children:t.message}),t.action&&l.jsx("button",{onClick:t.action.onClick,className:"mt-2 text-xs font-medium underline hover:no-underline",children:t.action.label})]}),l.jsx("button",{onClick:o,className:"flex-shrink-0 ml-2 p-1 hover:bg-black/10 rounded",title:"Закрыть уведомление",children:l.jsx(_d,{className:"h-4 w-4"})})]})})})}const ml=Oe.createContext(void 0);function Za({children:t}){const[e,s]=h.useState([]),r=i=>{const o=Math.random().toString(36).substr(2,9),c={...i,id:o,duration:i.duration??5e3};s(d=>[...d,c])},n=i=>{s(o=>o.filter(c=>c.id!==i))},a=()=>{s([])};return l.jsxs(ml.Provider,{value:{notifications:e,showNotification:r,removeNotification:n,clearAll:a},children:[t,l.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:e.map((i,o)=>l.jsx("div",{style:{"--toast-index":o},children:l.jsx(Ff,{notification:i,onClose:n})},i.id))})]})}function Mf(){const t=Oe.useContext(ml);if(t===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return t}const Vf=sr({name:ye().min(2,"Имя должно содержать минимум 2 символа"),email:ye().email("Введите корректный email"),username:ye().min(3,"Логин должен содержать минимум 3 символа").optional(),password:ye().min(6,"Пароль должен содержать минимум 6 символов"),confirmPassword:ye(),phone:ye().optional(),company:ye().optional(),contactType:mn(["telegram","whatsapp","skype"]).optional(),contact:ye().optional(),role:mn(["advertiser","partner"]),agreeTerms:Xt().refine(t=>t===!0,"Необходимо согласиться с условиями"),agreePrivacy:Xt().refine(t=>t===!0,"Необходимо согласиться с политикой конфиденциальности"),agreeMarketing:Xt().optional()}).refine(t=>t.password===t.confirmPassword,{message:"Пароли не совпадают",path:["confirmPassword"]});function $f(){const[t,e]=rs(),[s,r]=h.useState(!1),[n,a]=h.useState(!1),[i,o]=h.useState(!1),[c,d]=h.useState(""),{showNotification:u}=Mf(),b=new URLSearchParams(window.location.search).get("role")||"advertiser",m=Vn({resolver:$n(Vf),defaultValues:{name:"",email:"",username:"",password:"",confirmPassword:"",phone:"",company:"",contactType:"telegram",contact:"",role:b,agreeTerms:!1,agreePrivacy:!1,agreeMarketing:!1}});async function y(S){d(""),r(!0);try{await Hs.register(S,S.email),u({type:"success",title:"Регистрация успешна",message:"Аккаунт создан. Перенаправляем на страницу входа..."}),setTimeout(()=>{e("/login")},1500)}catch(C){let g="Ошибка регистрации. Попробуйте позже.";C instanceof Be?C.status===409?g="Пользователь с таким email уже существует":C.status===422?g="Некорректные данные. Проверьте форму.":C.status===429?g=`Слишком много попыток. Попробуйте через ${C.retryAfter||60} секунд.`:g=C.message||C.statusText||"Ошибка регистрации":C instanceof Error&&(g=C.message),d(g),u({type:"error",title:"Ошибка регистрации",message:g})}finally{r(!1)}}return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100 px-4 py-8",children:l.jsxs(bt,{className:"w-full max-w-2xl shadow-2xl border-2 border-white/50 backdrop-blur-sm bg-white/95 dark:bg-slate-900/95 dark:border-slate-700/50",children:[l.jsxs(It,{className:"text-center",children:[l.jsx("div",{className:"flex items-center justify-center mb-4",children:l.jsx(wd,{className:"h-8 w-8 text-blue-600 mr-2"})}),l.jsxs(Lt,{className:"text-2xl font-bold text-gray-900",children:["Регистрация ",b==="partner"?"партнёра":"рекламодателя"]}),l.jsx("p",{className:"text-gray-600 mt-2",children:b==="partner"?"Партнёры продвигают офферы рекламодателей и получают комиссию за результат":"Рекламодатели создают офферы и работают с партнёрами для продвижения своих продуктов"})]}),l.jsxs(wt,{children:[c&&l.jsxs(Rr,{className:"mb-4",variant:"destructive",children:[l.jsx(An,{className:"h-4 w-4"}),l.jsx(Or,{children:c})]}),l.jsxs("form",{onSubmit:m.handleSubmit(y),className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Te,{htmlFor:"name",children:"Полное имя *"}),l.jsx(Ve,{...m.register("name"),id:"name",placeholder:"Иван Иванов",disabled:s}),m.formState.errors.name&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.formState.errors.name.message})]}),l.jsxs("div",{children:[l.jsx(Te,{htmlFor:"email",children:"Email *"}),l.jsx(Ve,{...m.register("email"),id:"email",type:"email",placeholder:"example@company.com",disabled:s}),m.formState.errors.email&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.formState.errors.email.message})]}),l.jsxs("div",{children:[l.jsx(Te,{htmlFor:"username",children:"Логин (необязательно)"}),l.jsx(Ve,{...m.register("username"),id:"username",placeholder:"myusername",disabled:s}),m.formState.errors.username&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.formState.errors.username.message})]}),l.jsxs("div",{children:[l.jsx(Te,{htmlFor:"phone",children:"Телефон (необязательно)"}),l.jsx(Ve,{...m.register("phone"),id:"phone",type:"tel",placeholder:"+7 (900) 000-00-00",disabled:s})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Te,{htmlFor:"company",children:"Компания (необязательно)"}),l.jsx(Ve,{...m.register("company"),id:"company",placeholder:"ООО Моя Компания",disabled:s})]}),l.jsxs("div",{children:[l.jsx(Te,{htmlFor:"contactType",children:"Способ связи"}),l.jsxs(Af,{value:m.watch("contactType"),onValueChange:S=>m.setValue("contactType",S),disabled:s,children:[l.jsx(ul,{children:l.jsx(Pf,{placeholder:"Выберите способ связи"})}),l.jsxs(pl,{children:[l.jsx(hr,{value:"telegram",children:"Telegram"}),l.jsx(hr,{value:"whatsapp",children:"WhatsApp"}),l.jsx(hr,{value:"skype",children:"Skype"})]})]})]}),l.jsxs("div",{children:[l.jsx(Te,{htmlFor:"contact",children:"Контакт"}),l.jsx(Ve,{...m.register("contact"),id:"contact",placeholder:"@username или номер",disabled:s})]}),l.jsxs("div",{children:[l.jsx(Te,{htmlFor:"password",children:"Пароль *"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ve,{...m.register("password"),id:"password",type:n?"text":"password",placeholder:"Введите пароль",disabled:s,className:"pr-10"}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",onClick:()=>a(!n),children:n?l.jsx(Us,{className:"h-4 w-4"}):l.jsx(qs,{className:"h-4 w-4"})})]}),m.formState.errors.password&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.formState.errors.password.message})]}),l.jsxs("div",{children:[l.jsx(Te,{htmlFor:"confirmPassword",children:"Подтвердите пароль *"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ve,{...m.register("confirmPassword"),id:"confirmPassword",type:i?"text":"password",placeholder:"Повторите пароль",disabled:s,className:"pr-10"}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",onClick:()=>o(!i),children:i?l.jsx(Us,{className:"h-4 w-4"}):l.jsx(qs,{className:"h-4 w-4"})})]}),m.formState.errors.confirmPassword&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.formState.errors.confirmPassword.message})]})]}),l.jsxs("div",{className:"space-y-3 pt-4",children:[l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(Ds,{id:"agreeTerms",checked:m.watch("agreeTerms"),onCheckedChange:S=>m.setValue("agreeTerms",S)}),l.jsxs(Te,{htmlFor:"agreeTerms",className:"text-sm leading-relaxed",children:["Я согласен с"," ",l.jsx("a",{href:"/terms",target:"_blank",className:"text-blue-600 underline",children:"условиями использования"})," ","*"]})]}),m.formState.errors.agreeTerms&&l.jsx("p",{className:"text-sm text-red-600",children:m.formState.errors.agreeTerms.message}),l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(Ds,{id:"agreePrivacy",checked:m.watch("agreePrivacy"),onCheckedChange:S=>m.setValue("agreePrivacy",S)}),l.jsxs(Te,{htmlFor:"agreePrivacy",className:"text-sm leading-relaxed",children:["Я согласен с"," ",l.jsx("a",{href:"/privacy",target:"_blank",className:"text-blue-600 underline",children:"политикой конфиденциальности"})," ","*"]})]}),m.formState.errors.agreePrivacy&&l.jsx("p",{className:"text-sm text-red-600",children:m.formState.errors.agreePrivacy.message}),l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(Ds,{id:"agreeMarketing",checked:m.watch("agreeMarketing"),onCheckedChange:S=>m.setValue("agreeMarketing",S)}),l.jsx(Te,{htmlFor:"agreeMarketing",className:"text-sm leading-relaxed",children:"Согласие на получение маркетинговых материалов"})]})]}),l.jsx(Fe,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200",disabled:s,children:s?l.jsxs(l.Fragment,{children:[l.jsx(zs,{className:"mr-2 h-4 w-4 animate-spin"}),"Создаем аккаунт..."]}):"Создать аккаунт"})]}),l.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center",children:l.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Уже есть аккаунт?"," ",l.jsx(Fe,{variant:"link",className:"p-0 h-auto font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",onClick:()=>e("/login"),disabled:s,children:"Войти в систему"})]})}),l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-center text-xs text-gray-500 space-x-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ar,{className:"h-3 w-3 text-green-500 mr-1"}),"SSL защищено"]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(pr,{className:"h-3 w-3 text-green-500 mr-1"}),"Данные защищены"]})]})})]})]})})}function Uf(){xt.clearToken()}function qf(){Uf()}const zf=()=>{const[,t]=rs();return h.useEffect(()=>{qf(),t("/login")},[t]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsx("div",{className:"max-w-md w-full space-y-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Logging out..."}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Please wait while we log you out safely."})]})})})};function Hf(){const[t,e]=h.useState(!1),[s,r]=h.useState(""),[n,a]=h.useState(!1),[i,o]=h.useState(""),{toast:c}=Un(),d=Vn({resolver:$n(Qu),defaultValues:{email:""}});async function u(f){if(e(!0),r(""),us.isRateLimited(f.email)){const b=us.getRemainingTime(f.email);r(`Слишком много попыток. Попробуйте через ${Math.ceil(b/1e3)} секунд.`),e(!1);return}try{await Hs.resetPassword(f,f.email),o(f.email),a(!0),c({title:"Письмо отправлено",description:"Проверьте почту для дальнейших инструкций"})}catch(b){b instanceof Be?b.code==="RATE_LIMITED"?r(`Слишком много попыток. Попробуйте через ${Math.ceil(b.retryAfter/1e3)} секунд.`):r(b.message||"Произошла ошибка при отправке письма"):r("Произошла ошибка. Проверьте подключение к интернету.")}finally{e(!1)}}return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100 px-4",children:l.jsxs(bt,{className:"w-full max-w-md shadow-2xl border-2 border-white/50 backdrop-blur-sm bg-white/95 dark:bg-slate-900/95 dark:border-slate-700/50",children:[l.jsxs(It,{className:"text-center space-y-2",children:[l.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center",children:l.jsx(Ar,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),l.jsx(Lt,{className:"text-2xl font-bold",children:"Письмо отправлено"})]}),l.jsxs(wt,{className:"space-y-4",children:[l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx("p",{children:"Мы отправили инструкции по восстановлению пароля на адрес:"}),l.jsx("p",{className:"font-medium text-foreground mt-2",children:i}),l.jsx("p",{className:"mt-2",children:"Проверьте почту и следуйте указанным в письме инструкциям."})]}),l.jsxs("div",{className:"text-center text-sm text-muted-foreground space-y-2",children:[l.jsx("p",{children:"Не получили письмо?"}),l.jsx("p",{children:'• Проверьте папку "Спам"'}),l.jsx("p",{children:"• Убедитесь, что email введен правильно"}),l.jsx("p",{children:"• Подождите несколько минут"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[l.jsxs(Fe,{variant:"outline",className:"w-full",onClick:()=>{a(!1),o(""),d.reset()},children:[l.jsx(Br,{className:"mr-2 h-4 w-4"}),"Отправить еще раз"]}),l.jsxs(Fe,{className:"w-full",onClick:()=>window.location.href="/login",children:[l.jsx(ca,{className:"mr-2 h-4 w-4"}),"Вернуться ко входу"]})]})]})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100 px-4",children:l.jsxs(bt,{className:"w-full max-w-md shadow-2xl border-2 border-white/50 backdrop-blur-sm bg-white/95 dark:bg-slate-900/95 dark:border-slate-700/50",children:[l.jsxs(It,{className:"text-center space-y-2",children:[l.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:l.jsx(Br,{className:"h-6 w-6 text-primary"})}),l.jsx(Lt,{className:"text-2xl font-bold",children:"Восстановление пароля"}),l.jsx("p",{className:"text-muted-foreground",children:"Укажите email, на который зарегистрирован аккаунт"})]}),l.jsx(wt,{children:l.jsxs("form",{onSubmit:d.handleSubmit(u),className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"email",children:"Email адрес"}),l.jsx(Ve,{...d.register("email"),id:"email",type:"email",placeholder:"Введите ваш email",disabled:t,className:"w-full"}),d.formState.errors.email&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.formState.errors.email.message})]}),s&&l.jsxs(Rr,{variant:"destructive",children:[l.jsx(An,{className:"h-4 w-4"}),l.jsx(Or,{children:s})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Fe,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200",disabled:t,children:t?l.jsxs(l.Fragment,{children:[l.jsx(zs,{className:"mr-2 h-4 w-4 animate-spin"}),"Отправляем инструкции..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Br,{className:"mr-2 h-4 w-4"}),"Отправить инструкции"]})}),l.jsxs(Fe,{type:"button",variant:"ghost",className:"w-full",onClick:()=>window.location.href="/login",disabled:t,children:[l.jsx(ca,{className:"mr-2 h-4 w-4"}),"Вернуться ко входу"]})]}),l.jsxs("div",{className:"text-center text-sm text-muted-foreground space-y-1",children:[l.jsx("p",{children:"Мы отправим письмо с инструкциями на указанный адрес,"}),l.jsx("p",{children:"если такой аккаунт существует в системе."})]})]})})]})})}function Bf({password:t}){const s=(r=>{if(!r)return{score:0,text:"",color:""};let n=0;r.length>=8&&n++,/[A-Z]/.test(r)&&n++,/[a-z]/.test(r)&&n++,/[0-9]/.test(r)&&n++,/[^A-Za-z0-9]/.test(r)&&n++;const a=[{score:0,text:"Очень слабый",color:"bg-red-500"},{score:1,text:"Слабый",color:"bg-red-400"},{score:2,text:"Средний",color:"bg-yellow-400"},{score:3,text:"Хороший",color:"bg-blue-400"},{score:4,text:"Отличный",color:"bg-green-500"},{score:5,text:"Превосходный",color:"bg-green-600"}];return a[n]||a[0]})(t);return l.jsxs("div",{className:"mt-2",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{children:"Надежность пароля:"}),l.jsx("span",{className:`font-medium ${s.score>=3?"text-green-600":s.score>=2?"text-yellow-600":"text-red-600"}`,children:s.text})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${s.color}`,style:{width:`${s.score/5*100}%`}})})]})}function Zf(){const[t,e]=rs(),[,s]=jn("/auth/reset-password"),[r,n]=h.useState(""),[a,i]=h.useState(""),[o,c]=h.useState(""),[d,u]=h.useState(!1),[f,x]=h.useState(!1),[b,m]=h.useState(!1),[y,S]=h.useState(!0),[C,g]=h.useState(!1),[N,R]=h.useState(!1),[E,M]=h.useState({});h.useEffect(()=>{const X=new URLSearchParams(window.location.search).get("token");X?(n(X),U(X)):(S(!1),M({token:"Токен для сброса пароля не найден в ссылке."}))},[]);const U=async V=>{try{const X=await Hs.validateResetToken(V);g(X.valid),X.valid||M({token:"Недействительный или истекший токен для сброса пароля."})}catch(X){console.error("Token validation failed:",X),g(!1),M({token:"Ошибка при проверке токена."})}finally{S(!1)}},pe=()=>{const V={};return a?a.length<8?V.newPassword="Пароль должен содержать минимум 8 символов":/[A-Z]/.test(a)?/[a-z]/.test(a)?/[0-9]/.test(a)?/[^A-Za-z0-9]/.test(a)||(V.newPassword="Пароль должен содержать специальный символ"):V.newPassword="Пароль должен содержать цифру":V.newPassword="Пароль должен содержать строчную букву":V.newPassword="Пароль должен содержать заглавную букву":V.newPassword="Новый пароль обязателен",o?a!==o&&(V.confirmPassword="Пароли не совпадают"):V.confirmPassword="Подтверждение пароля обязательно",M(V),Object.keys(V).length===0},re=async V=>{if(V.preventDefault(),!!pe()){m(!0);try{const X=await Hs.completePasswordReset(r,a);X.success?(R(!0),bo({title:"Пароль изменен",description:"Ваш пароль успешно изменен. Теперь вы можете войти с новым паролем."})):M({general:X.message||"Не удалось сбросить пароль"})}catch(X){X instanceof Be?M({general:X.message||"Произошла ошибка при сбросе пароля"}):M({general:"Произошла ошибка. Проверьте подключение к интернету."})}finally{m(!1)}}};return y?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100 px-4",children:l.jsx(bt,{className:"w-full max-w-md shadow-2xl border-2 border-white/50 backdrop-blur-sm bg-white/95 dark:bg-slate-900/95 dark:border-slate-700/50",children:l.jsx(wt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx(zs,{className:"h-6 w-6 animate-spin text-blue-600"}),l.jsx("span",{children:"Проверка ссылки..."})]})})})}):C?N?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100 px-4",children:l.jsxs(bt,{className:"w-full max-w-md shadow-2xl border-2 border-white/50 backdrop-blur-sm bg-white/95 dark:bg-slate-900/95 dark:border-slate-700/50",children:[l.jsxs(It,{className:"text-center",children:[l.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-green-100",children:l.jsx(id,{className:"h-6 w-6 text-green-600"})}),l.jsx(Lt,{className:"text-2xl font-bold",children:"Пароль изменен"}),l.jsx(cr,{children:"Ваш пароль успешно изменен"})]}),l.jsxs(wt,{className:"space-y-4",children:[l.jsx("div",{className:"text-center text-muted-foreground",children:l.jsx("p",{children:"Теперь вы можете войти в систему с новым паролем."})}),l.jsx(Fe,{className:"w-full",onClick:()=>e("/auth/login"),children:"Войти в систему"})]})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100 px-4",children:l.jsxs(bt,{className:"w-full max-w-md shadow-2xl border-2 border-white/50 backdrop-blur-sm bg-white/95 dark:bg-slate-900/95 dark:border-slate-700/50",children:[l.jsxs(It,{className:"text-center",children:[l.jsx(Lt,{className:"text-2xl font-bold",children:"Новый пароль"}),l.jsx(cr,{children:"Введите новый пароль для вашего аккаунта"})]}),l.jsx(wt,{children:l.jsxs("form",{onSubmit:re,className:"space-y-4",children:[E.general&&l.jsx("div",{className:"rounded-md bg-red-50 border border-red-200 p-3",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(nn,{className:"h-4 w-4 text-red-500 mr-2"}),l.jsx("span",{className:"text-sm text-red-700",children:E.general})]})}),l.jsxs("div",{children:[l.jsx(Te,{htmlFor:"newPassword",children:"Новый пароль"}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx(Ve,{id:"newPassword",type:d?"text":"password",value:a,onChange:V=>i(V.target.value),className:E.newPassword?"border-red-300":"",placeholder:"Введите новый пароль"}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!d),children:d?l.jsx(Us,{className:"h-4 w-4 text-gray-400"}):l.jsx(qs,{className:"h-4 w-4 text-gray-400"})})]}),E.newPassword&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.newPassword}),a&&l.jsx(Bf,{password:a})]}),l.jsxs("div",{children:[l.jsx(Te,{htmlFor:"confirmPassword",children:"Подтверждение пароля"}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx(Ve,{id:"confirmPassword",type:f?"text":"password",value:o,onChange:V=>c(V.target.value),className:E.confirmPassword?"border-red-300":"",placeholder:"Повторите новый пароль"}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>x(!f),children:f?l.jsx(Us,{className:"h-4 w-4 text-gray-400"}):l.jsx(qs,{className:"h-4 w-4 text-gray-400"})})]}),E.confirmPassword&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.confirmPassword})]}),l.jsx(Fe,{type:"submit",className:"w-full",disabled:b||!a||!o,children:b?l.jsxs(l.Fragment,{children:[l.jsx(zs,{className:"mr-2 h-4 w-4 animate-spin"}),"Изменение пароля..."]}):"Изменить пароль"}),l.jsx("div",{className:"text-center",children:l.jsx(Fe,{type:"button",variant:"ghost",size:"sm",onClick:()=>e("/auth/login"),children:"Вернуться к входу"})})]})})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100 px-4",children:l.jsxs(bt,{className:"w-full max-w-md shadow-2xl border-2 border-white/50 backdrop-blur-sm bg-white/95 dark:bg-slate-900/95 dark:border-slate-700/50",children:[l.jsxs(It,{className:"text-center",children:[l.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:l.jsx(nn,{className:"h-6 w-6 text-red-600"})}),l.jsx(Lt,{className:"text-2xl font-bold",children:"Ошибка"}),l.jsx(cr,{children:E.token||"Недействительная ссылка для сброса пароля"})]}),l.jsxs(wt,{className:"space-y-4",children:[l.jsxs("div",{className:"text-center text-sm text-muted-foreground space-y-2",children:[l.jsx("p",{children:"Возможные причины:"}),l.jsx("p",{children:"• Ссылка истекла (действительна 2 часа)"}),l.jsx("p",{children:"• Ссылка уже была использована"}),l.jsx("p",{children:"• Неверная ссылка"})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Fe,{variant:"outline",className:"flex-1",onClick:()=>e("/auth/forgot-password"),children:"Запросить новую ссылку"}),l.jsx(Fe,{className:"flex-1",onClick:()=>e("/auth/login"),children:"Вернуться к входу"})]})]})]})})}function Kf(t){if(!t)return null;try{const e=JSON.parse(atob((t.split(".")[1]||"").replace(/-/g,"+").replace(/_/g,"/")));return String(e.role||"").trim()}catch{return null}}const Wf=h.createContext(void 0);function Qf(){const t=h.useContext(Wf);if(!t)throw new Error("useGlobalState must be used within GlobalStateProvider");return t}const gl=new Map,Gf=5*60*1e3;function Jf(t){const e=gl.get(t);return e&&Date.now()-e.timestamp<Gf?e.user:null}function Ka(t,e){gl.set(t,{user:e,timestamp:Date.now()})}function Yf(){const t=at.getToken(),e=Kf(t);return e&&({partner:"partner",PARTNER:"partner",affiliate:"affiliate",AFFILIATE:"affiliate",advertiser:"advertiser",ADVERTISER:"advertiser",owner:"owner",OWNER:"owner",super_admin:"super_admin","super admin":"super_admin",SUPER_ADMIN:"super_admin",staff:"staff",STAFF:"staff"}[e.trim()]||e.toLowerCase())||null}function z({path:t,roles:e=[],component:s,children:r,requireAuth:n=!0,fallbackPath:a}){const[i,o]=jn(t),{isAuthenticated:c,isLoading:d,token:u,user:f,refreshUser:x}=qn(),{setLoading:b}=Qf();if(!i)return null;const y=new URLSearchParams(window.location.search).get("next")||a;if(d)return l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Проверяем доступ..."})]})});if(n&&!c&&!u&&!at.getToken()){const S=`/login${y?"?next="+encodeURIComponent(y):""}`;return l.jsx(Ls,{to:S})}if(!n||e.length===0)return s?l.jsx(s,{...o}):l.jsx(l.Fragment,{children:r});if(h.useEffect(()=>{(async()=>{if(!(!u||Jf(u))){if(f){Ka(u,f);return}try{b("auth",!0);const g=await x();g&&Ka(u,g)}catch(g){console.error("[PROTECTED_ROUTE] Failed to verify user role:",g)}finally{b("auth",!1)}}})()},[u,f,x,b]),e.length>0){const S=f?.role||Yf();if(!S)return console.warn("[PROTECTED_ROUTE] No user role found, denying access to:",t),l.jsx(Ls,{to:"/unauthorized"});if(!e.some(g=>S===g||S==="owner"||S==="super_admin"||g==="partner"&&S==="affiliate"||g==="affiliate"&&S==="partner")){console.warn("[PROTECTED_ROUTE] Access denied for role:",S,"Required:",e);const g=Xf(S);return l.jsx(Ls,{to:g})}}return s?l.jsx(s,{...o}):l.jsx(l.Fragment,{children:r})}function Xf(t){return{owner:"/dashboard/owner",super_admin:"/dashboard/super-admin",staff:"/dashboard/staff",advertiser:"/dashboard/advertiser",partner:"/dashboard/partner",affiliate:"/dashboard/partner"}[t]||"/unauthorized"}function eh(){return l.jsxs("div",{style:{padding:24},children:[l.jsx("h1",{children:"Нет доступа"}),l.jsx("p",{children:"У вас нет прав для этой страницы."})]})}const yl=h.createContext(void 0);function Wa({children:t}){const[e,s]=h.useState(!1);h.useEffect(()=>{if(typeof window<"u"){const a=localStorage.getItem("sidebar-collapsed");a&&s(JSON.parse(a))}},[]),h.useEffect(()=>{typeof window<"u"&&localStorage.setItem("sidebar-collapsed",JSON.stringify(e))},[e]);const r=()=>s(!e),n=e?64:256;return l.jsx(yl.Provider,{value:{collapsed:e,toggleCollapsed:r,setCollapsed:s,sidebarWidth:n},children:t})}function vl(){const t=h.useContext(yl);if(t===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return t}const xl={get:async t=>{const e=localStorage.getItem("auth:token"),s=await fetch(t,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!s.ok)throw new Error("API Error");return s.json()}};function Ws(t){if(!t)return{valid:!1,expired:!1};try{const e=t.split(".");if(e.length!==3)return{valid:!1,expired:!1};const s=JSON.parse(atob(e[1])),r=Date.now()/1e3,n=s.exp&&s.exp<r;return{valid:!n,expired:n,user:s,expiresAt:s.exp}}catch(e){return console.warn("Token validation error:",e),{valid:!1,expired:!1}}}async function th(){try{const t=localStorage.getItem("token");if(!Ws(t).valid)throw new Error("Invalid or expired token");return await xl("/menu/data")}catch(t){console.warn("Failed to fetch menu data from API, using fallback:",t);const e=localStorage.getItem("token"),s=Ws(e),r=s.user?.role?.toLowerCase()||"partner",n=s.user?.permissions||[];return{items:[],userRole:r,permissions:n}}}async function bl(){const t=localStorage.getItem("token"),e=Ws(t);if(e.valid&&e.expiresAt){const s=Date.now()/1e3+300;if(e.expiresAt>s)return!0}if(!t)return!1;try{const s=await xl("/api/auth/refresh",{method:"POST",headers:{Authorization:`Bearer ${t}`}});return s.token?(localStorage.setItem("token",s.token),!0):!1}catch(s){return console.warn("Token refresh failed:",s),localStorage.removeItem("token"),!1}}function sh(){const t=setInterval(async()=>{await bl()},6e4);return()=>clearInterval(t)}function Gr(t){return t?.role&&{partner:"/dashboard/partner",affiliate:"/dashboard/affiliate",advertiser:"/dashboard/advertiser",owner:"/dashboard/owner",super_admin:"/dashboard/super-admin",staff:"/dashboard/staff"}[t.role]||"/dashboard"}function rh(t,e){return()=>{t(),e&&e()}}function Dm(t){return t?t.name?t.name:t.username?t.username:t.email?t.email.split("@")[0]:"Пользователь":"Пользователь"}function nh(t){if(!t)return"U";if(t.name){const e=t.name.split(" ");return e.length>=2?`${e[0][0]}${e[1][0]}`.toUpperCase():e[0][0].toUpperCase()}return t.username?t.username.substring(0,2).toUpperCase():t.email?t.email[0].toUpperCase():"U"}function Fm(t){return t?{super_admin:"Супер админ",owner:"Владелец",advertiser:"Рекламодатель",affiliate:"Партнёр",partner:"Партнёр",staff:"Персонал"}[t]||t:"Пользователь"}const ah=[{title:"Дашборд",href:"/dashboard",icon:an,description:"Общий обзор системы"},{title:"Офферы",href:"/dashboard/affiliate/offers",icon:fa,description:"Доступные офферы",roles:["partner","affiliate"]},{title:"Запросы доступа",href:"/dashboard/affiliate/access-requests",icon:yd,description:"Запросы к приватным офферам",roles:["partner","affiliate"]},{title:"Ссылки",href:"/dashboard/affiliate/links",icon:pd,description:"Трекинговые ссылки",roles:["partner","affiliate"]},{title:"Статистика",href:"/dashboard/affiliate/statistics",icon:da,description:"Статистика переходов",roles:["partner","affiliate"]},{title:"Креативы",href:"/dashboard/affiliate/creatives",icon:gd,description:"Рекламные материалы",roles:["partner","affiliate"]},{title:"Постбэки",href:"/dashboard/affiliate/postbacks",icon:Sd,description:"Настройка постбэков",roles:["partner","affiliate"],requiresToken:!0},{title:"Команда",href:"/dashboard/affiliate/team",icon:ar,description:"Управление командой",roles:["partner","affiliate"]},{title:"Финансы",href:"/dashboard/affiliate/finances",icon:kd,description:"Выплаты и баланс",roles:["partner","affiliate"],requiresToken:!0},{title:"Офферы",href:"/dashboard/advertiser/offers",icon:fa,description:"Управление офферами",roles:["advertiser"]},{title:"Партнёры",href:"/dashboard/advertiser/partners",icon:ar,description:"Управление партнёрами",roles:["advertiser"]},{title:"Отчёты",href:"/dashboard/advertiser/reports",icon:xd,description:"Аналитика и отчёты",roles:["advertiser"],requiresToken:!0},{title:"Финансы",href:"/dashboard/advertiser/finances",icon:cd,description:"Финансовое управление",roles:["advertiser"],requiresToken:!0},{title:"Антифрод",href:"/dashboard/advertiser/antifraud",icon:pr,description:"Защита от мошенничества",roles:["advertiser"],requiresToken:!0},{title:"Пользователи",href:"/dashboard/owner/users",icon:ar,description:"Управление пользователями",roles:["owner"],requiresToken:!0},{title:"Системные настройки",href:"/dashboard/owner/settings",icon:dd,description:"Конфигурация системы",roles:["owner"],requiresToken:!0},{title:"Пользователи",href:"/dashboard/super-admin/users",icon:ar,description:"Управление всеми пользователями",roles:["super_admin"],requiresToken:!0},{title:"Аналитика",href:"/dashboard/super-admin/analytics",icon:da,description:"Системная аналитика",roles:["super_admin"],requiresToken:!0},{title:"Глобальные настройки",href:"/dashboard/super-admin/settings",icon:fd,description:"Глобальная конфигурация",roles:["super_admin"],requiresToken:!0},{title:"Профиль",href:"/profile",icon:vd,description:"Настройки профиля"},{title:"Безопасность",href:"/security",icon:pr,description:"Настройки безопасности",requiresToken:!0},{title:"Уведомления",href:"/notifications",icon:rd,description:"Управление уведомлениями"},{title:"Документы",href:"/documents",icon:ud,description:"Документооборот"},{title:"Управление ролями",href:"/role-management",icon:bd,description:"Управление ролями пользователей",roles:["owner","super_admin"],requiresToken:!0},{title:"Поддержка",href:"/support",icon:od,description:"Техническая поддержка"}];function Qa({isMobile:t=!1,onClose:e}){const[s]=rs(),{collapsed:r,toggleCollapsed:n}=vl(),{user:a,token:i,logout:o}=qn(),[c,d]=h.useState(!0),[u,f]=h.useState(null),[x,b]=h.useState([]);h.useEffect(()=>{(async()=>{try{const R=(await th()).items?.map(E=>({title:E.title,href:E.href,icon:an,description:E.description,roles:E.roles,requiresToken:E.requiresToken}))||[];R.length>0&&b(R)}catch(N){console.warn("Could not load dynamic menu data, using static fallback:",N)}})()},[a?.role]),h.useEffect(()=>{const g=async()=>{const E=i||localStorage.getItem("token"),M=Ws(E);if(d(M.valid),f(M.expiresAt||null),(!M.valid||M.expiresAt&&M.expiresAt<Date.now()/1e3+300)&&await bl()){const pe=Ws(localStorage.getItem("token"));d(pe.valid),f(pe.expiresAt||null)}};g();const N=sh(),R=setInterval(g,6e4);return()=>{N(),clearInterval(R)}},[i]);const y=(x.length>0?x:ah).filter(g=>!(g.roles&&!g.roles.includes(a?.role||"")||g.requiresToken&&!c)),S=rh(o,e),C=()=>{if(!u)return null;const g=Date.now()/1e3,N=u-g;return N<=0?"Истёк":N<300?`${Math.floor(N/60)}м`:N<3600?`${Math.floor(N/60)}м`:N<86400?`${Math.floor(N/3600)}ч`:`${Math.floor(N/86400)}д`};return l.jsxs("div",{className:ae("bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800 h-screen flex flex-col transition-all duration-300 ease-in-out",t?"w-64 shadow-lg":r?"w-16":"w-64"),children:[l.jsx("div",{className:"border-b border-gray-200 dark:border-gray-800 p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:ae("flex items-center space-x-3",r&&"justify-center"),children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:l.jsx(nd,{className:"w-6 h-6 text-white"})}),!r&&l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"AdLinkPro"}),l.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:a?.role==="partner"||a?.role==="affiliate"?"Партнёрская панель":a?.role==="advertiser"?"Панель рекламодателя":a?.role==="owner"?"Панель владельца":a?.role==="super_admin"?"Супер админ":"Панель управления"})]})]}),l.jsx("button",{onClick:t?e:n,className:ae("p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",r&&!t&&"mx-auto"),title:t?"Закрыть меню":r?"Развернуть меню":"Свернуть меню",children:t?l.jsx(ua,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):r?l.jsx(Xi,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):l.jsx(ua,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})}),!r&&a&&l.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-800",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:nh(a)})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:a.name||a.email}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:c?l.jsxs("span",{className:"text-green-500",children:["✓ Активен ",C()&&`(${C()})`]}):l.jsx("span",{className:"text-red-500",children:"⚠ Токен истёк"})})]})]})}),l.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[l.jsx(ia,{href:Gr(a),children:l.jsxs("div",{className:ae("flex items-center rounded-lg transition-colors group",r&&!t?"px-3 py-3 justify-center":"px-3 py-2 space-x-3",s===Gr(a)||s.startsWith("/dashboard")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200"),title:r&&!t?"Дашборд":"Главная панель управления","data-testid":"sidebar-link-dashboard",onClick:()=>t&&e?.(),children:[l.jsx(an,{className:ae("w-5 h-5 flex-shrink-0",s===Gr(a)||s.startsWith("/dashboard")?"text-blue-600 dark:text-blue-400":"")}),(!r||t)&&l.jsx("span",{className:"font-medium truncate",children:"Дашборд"})]})}),y.slice(1).map(g=>{const N=g.icon,R=s===g.href||g.href!=="/dashboard"&&g.href!=="/"&&s.startsWith(g.href);return l.jsx(ia,{href:g.href,children:l.jsxs("div",{className:ae("flex items-center rounded-lg transition-colors group",r&&!t?"px-3 py-3 justify-center":"px-3 py-2 space-x-3",R?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200",g.requiresToken&&!c&&"opacity-50 cursor-not-allowed"),title:r&&!t?g.title:g.description,"data-testid":`sidebar-link-${g.href.split("/").pop()}`,onClick:E=>{if(g.requiresToken&&!c){E.preventDefault();return}t&&e?.()},children:[l.jsx(N,{className:ae("w-5 h-5 flex-shrink-0",R?"text-blue-600 dark:text-blue-400":"")}),(!r||t)&&l.jsx("span",{className:"font-medium truncate",children:g.title}),g.requiresToken&&!c&&(!r||t)&&l.jsx("span",{className:"text-xs text-red-500 ml-auto",children:"!"})]})},g.href)}),l.jsxs("button",{onClick:S,className:ae("w-full flex items-center rounded-lg transition-colors group text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-700 dark:hover:text-red-300",r&&!t?"px-3 py-3 justify-center":"px-3 py-2 space-x-3"),title:r&&!t?"Выйти":"Выйти из системы",children:[l.jsx(md,{className:"w-5 h-5 flex-shrink-0"}),(!r||t)&&l.jsx("span",{className:"font-medium truncate",children:"Выход"})]})]}),!r&&l.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800",children:l.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["© 2025 AdLinkPro Platform",!c&&l.jsx("div",{className:"text-red-500 mt-1 font-medium",children:"⚠ Требуется обновление токена"})]})})]})}function ih({children:t}){const[e,s]=h.useState(!1),{sidebarWidth:r}=vl(),[n,a]=h.useState(!1);h.useEffect(()=>{const o=()=>{const c=window.innerWidth>=1024;a(c),c&&e&&s(!1)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[e]);const i=()=>{s(!1)};return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:[l.jsx("div",{className:"hidden lg:block fixed left-0 top-0 h-full z-40",children:l.jsx(Qa,{})}),e&&l.jsxs("div",{className:"lg:hidden fixed inset-0 z-50 flex",children:[l.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:i}),l.jsx("div",{className:"relative",children:l.jsx(Qa,{isMobile:!0,onClose:i})})]}),l.jsxs("div",{className:ae("flex-1 flex flex-col transition-all duration-300 ease-in-out","ml-0"),style:{marginLeft:n?`${r}px`:"0px"},children:[l.jsx("header",{className:"lg:hidden bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 px-4 py-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("button",{onClick:()=>s(!0),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Открыть меню",children:l.jsx(Xi,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-white text-sm font-bold",children:"A"})}),l.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"AdLinkPro"})]})]})}),l.jsx("main",{className:"flex-1 p-4 lg:p-6 overflow-y-auto",children:t})]})]})}const oh=h.lazy(()=>ue(()=>import("./AdvertiserDashboard-BSRBOCL1.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),ir=h.lazy(()=>ue(()=>import("./AdvertiserOffers-DQSvxryW.js"),__vite__mapDeps([14,1,2,4,15,16,17,18,19,20,21,22,23,24,25,26,27,10,11,28,29,30,31,32,33,9,34]))),lh=h.lazy(()=>ue(()=>import("./Reports--bxt5p4l.js"),__vite__mapDeps([35,1,2]))),ch=h.lazy(()=>ue(()=>import("./AdvertiserPartners-CET0Dbnv.js"),__vite__mapDeps([36,1,2,4,15,18,17,21,22,26,25,16,28,11,23,33,37,31,9]))),dh=h.lazy(()=>ue(()=>import("./AdvertiserProfile-_iPyHz1g.js"),__vite__mapDeps([38,1,2,4,15,22,25,26,18,17,27,21,7,28,31,39,37,30,9]))),uh=h.lazy(()=>ue(()=>import("./AdvertiserNotifications-CBJbDaOq.js"),__vite__mapDeps([40,1,2,4,15,17,16,9,30,31,41]))),fh=h.lazy(()=>ue(()=>import("./TeamManagement-Djz1D8AQ.js"),__vite__mapDeps([42,1,2,4,15,17,25,26,21,16,22,28,43,44,23,31,33,30,13,9]))),hh=h.lazy(()=>ue(()=>import("./Postbacks-BIDt7lD-.js"),__vite__mapDeps([45,1,2,4,15,22,26,17,25,21,16,28,7,32,30,31,39,9]))),ph=h.lazy(()=>ue(()=>import("./AdvertiserAnalytics-hL4VJ-mS.js"),__vite__mapDeps([46,1,2,4,25,9,47,24,41,8,7,43,12,11,13,44,48,20]))),mh=h.lazy(()=>ue(()=>import("./AdvertiserFinances-Dlmtpq-t.js"),__vite__mapDeps([49,1,2,4,25,17,31,28,11,9]))),Ga=h.lazy(()=>ue(()=>import("./AntiFraud-Bz9K0bYb.js"),__vite__mapDeps([50,1,2,4,15,17,25,26,21,16,18,7,13,43,39,29,9]))),Ja=h.lazy(()=>ue(()=>import("./PartnerDashboard-BKstAJWi.js"),__vite__mapDeps([51,1,2,3,4,5,6,7,8,9,10,11,12,13]))),gt=h.lazy(()=>ue(()=>import("./Offers-CtjGBqi4.js"),__vite__mapDeps([52,1,2,4,16,17,53,47,19,20,54,21,22,15,18,23,37,31,9]))),Ya=h.lazy(()=>ue(()=>import("./Statistics-Deqw5uJz.js"),__vite__mapDeps([55,1,2,4,17,16,5,25,21,54,43,44,12,11,48,23,37,20,47,9]))),Xa=h.lazy(()=>ue(()=>import("./Finances-TqpO-T53.js"),__vite__mapDeps([56,1,2,4,15,17,16,21,22,5,54,18,28,43,11,31,9]))),ei=h.lazy(()=>ue(()=>import("./Postbacks-BKayI3LD.js"),__vite__mapDeps([57,1,2,4,15,18,22,26,17,25,21,16,7,28,32,30,31,39,9]))),ti=h.lazy(()=>ue(()=>import("./PartnerProfile-C8uRRD1v.js"),__vite__mapDeps([58,1,2]))),si=h.lazy(()=>ue(()=>import("./PartnerNotifications-CDvQGRV4.js"),__vite__mapDeps([59,1,2,4,15,17,18,31,9,41]))),gh=h.lazy(()=>ue(()=>import("./OwnerDashboard-D8BCNnI7.js"),__vite__mapDeps([60,1,2,3,4,5,6,7,8,9,10,11,12,13]))),yh=h.lazy(()=>ue(()=>import("./Users-CQGyzpfu.js"),__vite__mapDeps([61,1,2]))),vh=h.lazy(()=>ue(()=>import("./Settings-ZRIb09Fl.js"),__vite__mapDeps([62,1,2]))),xh=h.lazy(()=>ue(()=>import("./dashboard-DIgumlLq.js"),__vite__mapDeps([63,1,2,3,4,5,6,7,8,9,10,11,12,13]))),bh=h.lazy(()=>ue(()=>import("./users-management-DUPRsnBI.js"),__vite__mapDeps([64,1,2]))),wh=h.lazy(()=>ue(()=>import("./offers-D-QDxEtK.js"),__vite__mapDeps([65,1,2]))),kh=h.lazy(()=>ue(()=>import("./analytics-qXd7gpKH.js"),__vite__mapDeps([66,1,2]))),Sh=h.lazy(()=>ue(()=>import("./StaffDashboard-DR1TDOms.js"),__vite__mapDeps([67,1,2,4,53,47,6,48,11,17,31,23,9]))),_h=h.lazy(()=>ue(()=>import("./SidebarDemo-DwTIADjp.js"),__vite__mapDeps([68,1,2]))),H=t=>function(){return l.jsx(ih,{children:l.jsx(t,{})})};function Ch(){const{i18n:t}=Xc();return Oe.useEffect(()=>{t.language!=="ru"&&t.changeLanguage("ru")},[t]),l.jsx(h.Suspense,{fallback:l.jsx("div",{style:{padding:24},children:"Загрузка…"}),children:l.jsxs(Dc,{children:[l.jsx(ht,{path:"/debug",component:()=>l.jsx("div",{style:{padding:24,color:"#fff"},children:"DEBUG OK"})}),l.jsx(ht,{path:"/",component:()=>l.jsx(Ls,{to:"/login"})}),l.jsx(ht,{path:"/login",component:Yu}),l.jsx(ht,{path:"/logout",component:zf}),l.jsx(ht,{path:"/forgot-password",component:Hf}),l.jsx(ht,{path:"/reset-password",component:Zf}),l.jsx(ht,{path:"/register",component:$f}),l.jsx(z,{path:"/dashboard/advertiser",roles:["advertiser"],component:H(oh)}),l.jsx(z,{path:"/dashboard/advertiser/offers",roles:["advertiser"],component:H(ir)}),l.jsx(z,{path:"/dashboard/advertiser/reports",roles:["advertiser"],component:H(lh)}),l.jsx(z,{path:"/dashboard/advertiser/partners",roles:["advertiser"],component:H(ch)}),l.jsx(z,{path:"/dashboard/advertiser/profile",roles:["advertiser"],component:H(dh)}),l.jsx(z,{path:"/dashboard/advertiser/notifications",roles:["advertiser"],component:H(uh)}),l.jsx(z,{path:"/dashboard/advertiser/team",roles:["advertiser"],component:H(fh)}),l.jsx(z,{path:"/dashboard/advertiser/postbacks",roles:["advertiser"],component:H(hh)}),l.jsx(z,{path:"/dashboard/advertiser/analytics",roles:["advertiser"],component:H(ph)}),l.jsx(z,{path:"/dashboard/advertiser/finances",roles:["advertiser"],component:H(mh)}),l.jsx(z,{path:"/dashboard/advertiser/anti-fraud",roles:["advertiser"],component:H(Ga)}),l.jsx(z,{path:"/dashboard/advertiser/access-requests",roles:["advertiser"],component:H(ir)}),l.jsx(z,{path:"/dashboard/advertiser/referrals",roles:["advertiser"],component:H(ir)}),l.jsx(z,{path:"/dashboard/advertiser/antifraud",roles:["advertiser"],component:H(Ga)}),l.jsx(z,{path:"/dashboard/advertiser/documents",roles:["advertiser"],component:H(ir)}),l.jsx(z,{path:"/dashboard/affiliate",roles:["partner","affiliate"],component:H(Ja)}),l.jsx(z,{path:"/dashboard/affiliate/offers",roles:["partner","affiliate"],component:H(gt)}),l.jsx(z,{path:"/dashboard/affiliate/statistics",roles:["partner","affiliate"],component:H(Ya)}),l.jsx(z,{path:"/dashboard/affiliate/finances",roles:["partner","affiliate"],component:H(Xa)}),l.jsx(z,{path:"/dashboard/affiliate/postbacks",roles:["partner","affiliate"],component:H(ei)}),l.jsx(z,{path:"/dashboard/affiliate/profile",roles:["partner","affiliate"],component:H(ti)}),l.jsx(z,{path:"/dashboard/affiliate/notifications",roles:["partner","affiliate"],component:H(si)}),l.jsx(z,{path:"/dashboard/affiliate/access-requests",roles:["partner","affiliate"],component:H(gt)}),l.jsx(z,{path:"/dashboard/affiliate/links",roles:["partner","affiliate"],component:H(gt)}),l.jsx(z,{path:"/dashboard/affiliate/creatives",roles:["partner","affiliate"],component:H(gt)}),l.jsx(z,{path:"/dashboard/affiliate/team",roles:["partner","affiliate"],component:H(gt)}),l.jsx(z,{path:"/dashboard/affiliate/referrals",roles:["partner","affiliate"],component:H(gt)}),l.jsx(z,{path:"/dashboard/affiliate/security",roles:["partner","affiliate"],component:H(gt)}),l.jsx(z,{path:"/dashboard/affiliate/documents",roles:["partner","affiliate"],component:H(gt)}),l.jsx(z,{path:"/dashboard/partner",roles:["partner"],component:H(Ja)}),l.jsx(z,{path:"/dashboard/partner/offers",roles:["partner"],component:H(gt)}),l.jsx(z,{path:"/dashboard/partner/statistics",roles:["partner"],component:H(Ya)}),l.jsx(z,{path:"/dashboard/partner/finances",roles:["partner"],component:H(Xa)}),l.jsx(z,{path:"/dashboard/partner/postbacks",roles:["partner"],component:H(ei)}),l.jsx(z,{path:"/dashboard/partner/profile",roles:["partner"],component:H(ti)}),l.jsx(z,{path:"/dashboard/partner/notifications",roles:["partner"],component:H(si)}),l.jsx(z,{path:"/dashboard/owner",roles:["owner"],component:H(gh)}),l.jsx(z,{path:"/dashboard/owner/users",roles:["owner"],component:H(yh)}),l.jsx(z,{path:"/dashboard/owner/settings",roles:["owner"],component:H(vh)}),l.jsx(z,{path:"/dashboard/super-admin",roles:["super_admin"],component:H(xh)}),l.jsx(z,{path:"/dashboard/super-admin/users",roles:["super_admin"],component:H(bh)}),l.jsx(z,{path:"/dashboard/super-admin/offers",roles:["super_admin"],component:H(wh)}),l.jsx(z,{path:"/dashboard/super-admin/analytics",roles:["super_admin"],component:H(kh)}),l.jsx(z,{path:"/dashboard/staff",roles:["staff"],component:H(Sh)}),l.jsx(z,{path:"/sidebar-demo",roles:["partner","affiliate","advertiser","owner","super_admin","staff"],component:H(_h)}),l.jsx(ht,{path:"/unauthorized",component:eh}),l.jsx(ht,{component:()=>l.jsx(Ls,{to:"/login"})})]})})}function ri(){return l.jsx(Ch,{})}const $=t=>typeof t=="string",Rs=()=>{let t,e;const s=new Promise((r,n)=>{t=r,e=n});return s.resolve=t,s.reject=e,s},ni=t=>t==null?"":""+t,Th=(t,e,s)=>{t.forEach(r=>{e[r]&&(s[r]=e[r])})},Nh=/###/g,ai=t=>t&&t.indexOf("###")>-1?t.replace(Nh,"."):t,ii=t=>!t||$(t),$s=(t,e,s)=>{const r=$(e)?e.split("."):e;let n=0;for(;n<r.length-1;){if(ii(t))return{};const a=ai(r[n]);!t[a]&&s&&(t[a]=new s),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++n}return ii(t)?{}:{obj:t,k:ai(r[n])}},oi=(t,e,s)=>{const{obj:r,k:n}=$s(t,e,Object);if(r!==void 0||e.length===1){r[n]=s;return}let a=e[e.length-1],i=e.slice(0,e.length-1),o=$s(t,i,Object);for(;o.obj===void 0&&i.length;)a=`${i[i.length-1]}.${a}`,i=i.slice(0,i.length-1),o=$s(t,i,Object),o?.obj&&typeof o.obj[`${o.k}.${a}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=s},Eh=(t,e,s,r)=>{const{obj:n,k:a}=$s(t,e,Object);n[a]=n[a]||[],n[a].push(s)},_r=(t,e)=>{const{obj:s,k:r}=$s(t,e);if(s&&Object.prototype.hasOwnProperty.call(s,r))return s[r]},jh=(t,e,s)=>{const r=_r(t,s);return r!==void 0?r:_r(e,s)},wl=(t,e,s)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?$(t[r])||t[r]instanceof String||$(e[r])||e[r]instanceof String?s&&(t[r]=e[r]):wl(t[r],e[r],s):t[r]=e[r]);return t},is=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ah={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Ph=t=>$(t)?t.replace(/[&<>"'\/]/g,e=>Ah[e]):t;class Rh{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const s=this.regExpMap.get(e);if(s!==void 0)return s;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const Oh=[" ",",","?","!",";"],Ih=new Rh(20),Lh=(t,e,s)=>{e=e||"",s=s||"";const r=Oh.filter(i=>e.indexOf(i)<0&&s.indexOf(i)<0);if(r.length===0)return!0;const n=Ih.getRegExp(`(${r.map(i=>i==="?"?"\\?":i).join("|")})`);let a=!n.test(t);if(!a){const i=t.indexOf(s);i>0&&!n.test(t.substring(0,i))&&(a=!0)}return a},wn=(t,e,s=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(s);let n=t;for(let a=0;a<r.length;){if(!n||typeof n!="object")return;let i,o="";for(let c=a;c<r.length;++c)if(c!==a&&(o+=s),o+=r[c],i=n[o],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&c<r.length-1)continue;a+=c-a+1;break}n=i}return n},Qs=t=>t?.replace("_","-"),Dh={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class Cr{constructor(e,s={}){this.init(e,s)}init(e,s={}){this.prefix=s.prefix||"i18next:",this.logger=e||Dh,this.options=s,this.debug=s.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,s,r,n){return n&&!this.debug?null:($(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[s](e))}create(e){return new Cr(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Cr(this.logger,e)}}var dt=new Cr;class Mr{constructor(){this.observers={}}on(e,s){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const n=this.observers[r].get(s)||0;this.observers[r].set(s,n+1)}),this}off(e,s){if(this.observers[e]){if(!s){delete this.observers[e];return}this.observers[e].delete(s)}}emit(e,...s){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([n,a])=>{for(let i=0;i<a;i++)n(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([n,a])=>{for(let i=0;i<a;i++)n.apply(n,[e,...s])})}}class li extends Mr{constructor(e,s={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const s=this.options.ns.indexOf(e);s>-1&&this.options.ns.splice(s,1)}getResource(e,s,r,n={}){const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,i=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,s],r&&(Array.isArray(r)?o.push(...r):$(r)&&a?o.push(...r.split(a)):o.push(r)));const c=_r(this.data,o);return!c&&!s&&!r&&e.indexOf(".")>-1&&(e=o[0],s=o[1],r=o.slice(2).join(".")),c||!i||!$(r)?c:wn(this.data?.[e]?.[s],r,a)}addResource(e,s,r,n,a={silent:!1}){const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let o=[e,s];r&&(o=o.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(o=e.split("."),n=s,s=o[1]),this.addNamespaces(s),oi(this.data,o,n),a.silent||this.emit("added",e,s,r,n)}addResources(e,s,r,n={silent:!1}){for(const a in r)($(r[a])||Array.isArray(r[a]))&&this.addResource(e,s,a,r[a],{silent:!0});n.silent||this.emit("added",e,s,r)}addResourceBundle(e,s,r,n,a,i={silent:!1,skipCopy:!1}){let o=[e,s];e.indexOf(".")>-1&&(o=e.split("."),n=r,r=s,s=o[1]),this.addNamespaces(s);let c=_r(this.data,o)||{};i.skipCopy||(r=JSON.parse(JSON.stringify(r))),n?wl(c,r,a):c={...c,...r},oi(this.data,o,c),i.silent||this.emit("added",e,s,r)}removeResourceBundle(e,s){this.hasResourceBundle(e,s)&&delete this.data[e][s],this.removeNamespaces(s),this.emit("removed",e,s)}hasResourceBundle(e,s){return this.getResource(e,s)!==void 0}getResourceBundle(e,s){return s||(s=this.options.defaultNS),this.getResource(e,s)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const s=this.getDataByLanguage(e);return!!(s&&Object.keys(s)||[]).find(n=>s[n]&&Object.keys(s[n]).length>0)}toJSON(){return this.data}}var kl={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,s,r,n){return t.forEach(a=>{e=this.processors[a]?.process(e,s,r,n)??e}),e}};const Sl=Symbol("i18next/PATH_KEY");function Fh(){const t=[],e=Object.create(null);let s;return e.get=(r,n)=>(s?.revoke?.(),n===Sl?t:(t.push(n),s=Proxy.revocable(r,e),s.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Mh(t,e){const{[Sl]:s}=t(Fh());return s.join(e?.keySeparator??".")}const ci={},di=t=>!$(t)&&typeof t!="boolean"&&typeof t!="number";class Tr extends Mr{constructor(e,s={}){super(),Th(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=dt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,s={interpolation:{}}){const r={...s};return e==null?!1:this.resolve(e,r)?.res!==void 0}extractFromKey(e,s){let r=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const n=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=s.ns||this.options.defaultNS||[];const i=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!Lh(e,r,n);if(i&&!o){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:$(a)?[a]:a};const d=e.split(r);(r!==n||r===n&&this.options.ns.indexOf(d[0])>-1)&&(a=d.shift()),e=d.join(n)}return{key:e,namespaces:$(a)?[a]:a}}translate(e,s,r){let n=typeof s=="object"?{...s}:s;if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(n={...n}),n||(n={}),e==null)return"";typeof e=="function"&&(e=Mh(e,n)),Array.isArray(e)||(e=[String(e)]);const a=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:c}=this.extractFromKey(e[e.length-1],n),d=c[c.length-1];let u=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const f=n.lng||this.language,x=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f?.toLowerCase()==="cimode")return x?a?{res:`${d}${u}${o}`,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:d,usedParams:this.getUsedParamsDetails(n)}:`${d}${u}${o}`:a?{res:o,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:d,usedParams:this.getUsedParamsDetails(n)}:o;const b=this.resolve(e,n);let m=b?.res;const y=b?.usedKey||o,S=b?.exactUsedKey||o,C=["[object Number]","[object Function]","[object RegExp]"],g=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,N=!this.i18nFormat||this.i18nFormat.handleAsObject,R=n.count!==void 0&&!$(n.count),E=Tr.hasDefaultValue(n),M=R?this.pluralResolver.getSuffix(f,n.count,n):"",U=n.ordinal&&R?this.pluralResolver.getSuffix(f,n.count,{ordinal:!1}):"",pe=R&&!n.ordinal&&n.count===0,re=pe&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${M}`]||n[`defaultValue${U}`]||n.defaultValue;let V=m;N&&!m&&E&&(V=re);const X=di(V),B=Object.prototype.toString.apply(V);if(N&&V&&X&&C.indexOf(B)<0&&!($(g)&&Array.isArray(V))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const F=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,V,{...n,ns:c}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(b.res=F,b.usedParams=this.getUsedParamsDetails(n),b):F}if(i){const F=Array.isArray(V),W=F?[]:{},oe=F?S:y;for(const G in V)if(Object.prototype.hasOwnProperty.call(V,G)){const ne=`${oe}${i}${G}`;E&&!m?W[G]=this.translate(ne,{...n,defaultValue:di(re)?re[G]:void 0,joinArrays:!1,ns:c}):W[G]=this.translate(ne,{...n,joinArrays:!1,ns:c}),W[G]===ne&&(W[G]=V[G])}m=W}}else if(N&&$(g)&&Array.isArray(m))m=m.join(g),m&&(m=this.extendTranslation(m,e,n,r));else{let F=!1,W=!1;!this.isValidLookup(m)&&E&&(F=!0,m=re),this.isValidLookup(m)||(W=!0,m=o);const G=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&W?void 0:m,ne=E&&re!==m&&this.options.updateMissing;if(W||F||ne){if(this.logger.log(ne?"updateKey":"missingKey",f,d,o,ne?re:m),i){const xe=this.resolve(o,{...n,keySeparator:!1});xe&&xe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ve=[];const ke=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ke&&ke[0])for(let xe=0;xe<ke.length;xe++)ve.push(ke[xe]);else this.options.saveMissingTo==="all"?ve=this.languageUtils.toResolveHierarchy(n.lng||this.language):ve.push(n.lng||this.language);const We=(xe,$e,qe)=>{const Qe=E&&qe!==m?qe:G;this.options.missingKeyHandler?this.options.missingKeyHandler(xe,d,$e,Qe,ne,n):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(xe,d,$e,Qe,ne,n),this.emit("missingKey",xe,d,$e,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&R?ve.forEach(xe=>{const $e=this.pluralResolver.getSuffixes(xe,n);pe&&n[`defaultValue${this.options.pluralSeparator}zero`]&&$e.indexOf(`${this.options.pluralSeparator}zero`)<0&&$e.push(`${this.options.pluralSeparator}zero`),$e.forEach(qe=>{We([xe],o+qe,n[`defaultValue${qe}`]||re)})}):We(ve,o,re))}m=this.extendTranslation(m,e,n,b,r),W&&m===o&&this.options.appendNamespaceToMissingKey&&(m=`${d}${u}${o}`),(W||F)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${u}${o}`:o,F?m:void 0,n))}return a?(b.res=m,b.usedParams=this.getUsedParamsDetails(n),b):m}extendTranslation(e,s,r,n,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=$(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const f=e.match(this.interpolator.nestingRegexp);d=f&&f.length}let u=r.replace&&!$(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),e=this.interpolator.interpolate(e,u,r.lng||this.language||n.usedLng,r),c){const f=e.match(this.interpolator.nestingRegexp),x=f&&f.length;d<x&&(r.nest=!1)}!r.lng&&n&&n.res&&(r.lng=this.language||n.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...f)=>a?.[0]===f[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${s[0]}`),null):this.translate(...f,s),r)),r.interpolation&&this.interpolator.reset()}const i=r.postProcess||this.options.postProcess,o=$(i)?[i]:i;return e!=null&&o?.length&&r.applyPostProcessor!==!1&&(e=kl.handle(o,e,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,s={}){let r,n,a,i,o;return $(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(r))return;const d=this.extractFromKey(c,s),u=d.key;n=u;let f=d.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const x=s.count!==void 0&&!$(s.count),b=x&&!s.ordinal&&s.count===0,m=s.context!==void 0&&($(s.context)||typeof s.context=="number")&&s.context!=="",y=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);f.forEach(S=>{this.isValidLookup(r)||(o=S,!ci[`${y[0]}-${S}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(ci[`${y[0]}-${S}`]=!0,this.logger.warn(`key "${n}" for languages "${y.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(C=>{if(this.isValidLookup(r))return;i=C;const g=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(g,u,C,S,s);else{let R;x&&(R=this.pluralResolver.getSuffix(C,s.count,s));const E=`${this.options.pluralSeparator}zero`,M=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(s.ordinal&&R.indexOf(M)===0&&g.push(u+R.replace(M,this.options.pluralSeparator)),g.push(u+R),b&&g.push(u+E)),m){const U=`${u}${this.options.contextSeparator||"_"}${s.context}`;g.push(U),x&&(s.ordinal&&R.indexOf(M)===0&&g.push(U+R.replace(M,this.options.pluralSeparator)),g.push(U+R),b&&g.push(U+E))}}let N;for(;N=g.pop();)this.isValidLookup(r)||(a=N,r=this.getResource(C,S,N,s))}))})}),{res:r,usedKey:n,exactUsedKey:a,usedLng:i,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,s,r,n={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,s,r,n):this.resourceStore.getResource(e,s,r,n)}getUsedParamsDetails(e={}){const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!$(e.replace);let n=r?e.replace:e;if(r&&typeof e.count<"u"&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!r){n={...n};for(const a of s)delete n[a]}return n}static hasDefaultValue(e){const s="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&s===r.substring(0,s.length)&&e[r]!==void 0)return!0;return!1}}class ui{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=dt.create("languageUtils")}getScriptPartFromCode(e){if(e=Qs(e),!e||e.indexOf("-")<0)return null;const s=e.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(e){if(e=Qs(e),!e||e.indexOf("-")<0)return e;const s=e.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(e){if($(e)&&e.indexOf("-")>-1){let s;try{s=Intl.getCanonicalLocales(e)[0]}catch{}return s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let s;return e.forEach(r=>{if(s)return;const n=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(n))&&(s=n)}),!s&&this.options.supportedLngs&&e.forEach(r=>{if(s)return;const n=this.getScriptPartFromCode(r);if(this.isSupportedCode(n))return s=n;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return s=a;s=this.options.supportedLngs.find(i=>{if(i===a)return i;if(!(i.indexOf("-")<0&&a.indexOf("-")<0)&&(i.indexOf("-")>0&&a.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===a||i.indexOf(a)===0&&a.length>1))return i})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(e,s){if(!e)return[];if(typeof e=="function"&&(e=e(s)),$(e)&&(e=[e]),Array.isArray(e))return e;if(!s)return e.default||[];let r=e[s];return r||(r=e[this.getScriptPartFromCode(s)]),r||(r=e[this.formatLanguageCode(s)]),r||(r=e[this.getLanguagePartFromCode(s)]),r||(r=e.default),r||[]}toResolveHierarchy(e,s){const r=this.getFallbackCodes((s===!1?[]:s)||this.options.fallbackLng||[],e),n=[],a=i=>{i&&(this.isSupportedCode(i)?n.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return $(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):$(e)&&a(this.formatLanguageCode(e)),r.forEach(i=>{n.indexOf(i)<0&&a(this.formatLanguageCode(i))}),n}}const fi={zero:0,one:1,two:2,few:3,many:4,other:5},hi={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Vh{constructor(e,s={}){this.languageUtils=e,this.options=s,this.logger=dt.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,s){this.rules[e]=s}clearCache(){this.pluralRulesCache={}}getRule(e,s={}){const r=Qs(e==="dev"?"en":e),n=s.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:n});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let i;try{i=new Intl.PluralRules(r,{type:n})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),hi;if(!e.match(/-|_/))return hi;const c=this.languageUtils.getLanguagePartFromCode(e);i=this.getRule(c,s)}return this.pluralRulesCache[a]=i,i}needsPlural(e,s={}){let r=this.getRule(e,s);return r||(r=this.getRule("dev",s)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,s,r={}){return this.getSuffixes(e,r).map(n=>`${s}${n}`)}getSuffixes(e,s={}){let r=this.getRule(e,s);return r||(r=this.getRule("dev",s)),r?r.resolvedOptions().pluralCategories.sort((n,a)=>fi[n]-fi[a]).map(n=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${n}`):[]}getSuffix(e,s,r={}){const n=this.getRule(e,r);return n?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n.select(s)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",s,r))}}const pi=(t,e,s,r=".",n=!0)=>{let a=jh(t,e,s);return!a&&n&&$(s)&&(a=wn(t,s,r),a===void 0&&(a=wn(e,s,r))),a},Jr=t=>t.replace(/\$/g,"$$$$");class $h{constructor(e={}){this.logger=dt.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(s=>s),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:s,escapeValue:r,useRawValueToEscape:n,prefix:a,prefixEscaped:i,suffix:o,suffixEscaped:c,formatSeparator:d,unescapeSuffix:u,unescapePrefix:f,nestingPrefix:x,nestingPrefixEscaped:b,nestingSuffix:m,nestingSuffixEscaped:y,nestingOptionsSeparator:S,maxReplaces:C,alwaysFormat:g}=e.interpolation;this.escape=s!==void 0?s:Ph,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=a?is(a):i||"{{",this.suffix=o?is(o):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=u?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=x?is(x):b||is("$t("),this.nestingSuffix=m?is(m):y||is(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=C||1e3,this.alwaysFormat=g!==void 0?g:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(s,r)=>s?.source===r?(s.lastIndex=0,s):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,s,r,n){let a,i,o;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=b=>{if(b.indexOf(this.formatSeparator)<0){const C=pi(s,c,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(C,void 0,r,{...n,...s,interpolationkey:b}):C}const m=b.split(this.formatSeparator),y=m.shift().trim(),S=m.join(this.formatSeparator).trim();return this.format(pi(s,c,y,this.options.keySeparator,this.options.ignoreJSONStructure),S,r,{...n,...s,interpolationkey:y})};this.resetRegExp();const u=n?.missingInterpolationHandler||this.options.missingInterpolationHandler,f=n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>Jr(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?Jr(this.escape(b)):Jr(b)}].forEach(b=>{for(o=0;a=b.regex.exec(e);){const m=a[1].trim();if(i=d(m),i===void 0)if(typeof u=="function"){const S=u(e,a,n);i=$(S)?S:""}else if(n&&Object.prototype.hasOwnProperty.call(n,m))i="";else if(f){i=a[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),i="";else!$(i)&&!this.useRawValueToEscape&&(i=ni(i));const y=b.safeValue(i);if(e=e.replace(a[0],y),f?(b.regex.lastIndex+=i.length,b.regex.lastIndex-=a[0].length):b.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,s,r={}){let n,a,i;const o=(c,d)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const f=c.split(new RegExp(`${u}[ ]*{`));let x=`{${f[1]}`;c=f[0],x=this.interpolate(x,i);const b=x.match(/'/g),m=x.match(/"/g);((b?.length??0)%2===0&&!m||m.length%2!==0)&&(x=x.replace(/'/g,'"'));try{i=JSON.parse(x),d&&(i={...d,...i})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,y),`${c}${u}${x}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,c};for(;n=this.nestingRegexp.exec(e);){let c=[];i={...r},i=i.replace&&!$(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;const d=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(d!==-1&&(c=n[1].slice(d).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),n[1]=n[1].slice(0,d)),a=s(o.call(this,n[1].trim(),i),i),a&&n[0]===e&&!$(a))return a;$(a)||(a=ni(a)),a||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),a=""),c.length&&(a=c.reduce((u,f)=>this.format(u,f,r.lng,{...r,interpolationkey:n[1].trim()}),a.trim())),e=e.replace(n[0],a),this.regexp.lastIndex=0}return e}}const Uh=t=>{let e=t.toLowerCase().trim();const s={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const n=r[1].substring(0,r[1].length-1);e==="currency"&&n.indexOf(":")<0?s.currency||(s.currency=n.trim()):e==="relativetime"&&n.indexOf(":")<0?s.range||(s.range=n.trim()):n.split(";").forEach(i=>{if(i){const[o,...c]=i.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();s[u]||(s[u]=d),d==="false"&&(s[u]=!1),d==="true"&&(s[u]=!0),isNaN(d)||(s[u]=parseInt(d,10))}})}return{formatName:e,formatOptions:s}},mi=t=>{const e={};return(s,r,n)=>{let a=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(a={...a,[n.interpolationkey]:void 0});const i=r+JSON.stringify(a);let o=e[i];return o||(o=t(Qs(r),n),e[i]=o),o(s)}},qh=t=>(e,s,r)=>t(Qs(s),r)(e);class zh{constructor(e={}){this.logger=dt.create("formatter"),this.options=e,this.init(e)}init(e,s={interpolation:{}}){this.formatSeparator=s.interpolation.formatSeparator||",";const r=s.cacheInBuiltFormats?mi:qh;this.formats={number:r((n,a)=>{const i=new Intl.NumberFormat(n,{...a});return o=>i.format(o)}),currency:r((n,a)=>{const i=new Intl.NumberFormat(n,{...a,style:"currency"});return o=>i.format(o)}),datetime:r((n,a)=>{const i=new Intl.DateTimeFormat(n,{...a});return o=>i.format(o)}),relativetime:r((n,a)=>{const i=new Intl.RelativeTimeFormat(n,{...a});return o=>i.format(o,a.range||"day")}),list:r((n,a)=>{const i=new Intl.ListFormat(n,{...a});return o=>i.format(o)})}}add(e,s){this.formats[e.toLowerCase().trim()]=s}addCached(e,s){this.formats[e.toLowerCase().trim()]=mi(s)}format(e,s,r,n={}){const a=s.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(o=>o.indexOf(")")>-1)){const o=a.findIndex(c=>c.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,o)].join(this.formatSeparator)}return a.reduce((o,c)=>{const{formatName:d,formatOptions:u}=Uh(c);if(this.formats[d]){let f=o;try{const x=n?.formatParams?.[n.interpolationkey]||{},b=x.locale||x.lng||n.locale||n.lng||r;f=this.formats[d](o,b,{...u,...n,...x})}catch(x){this.logger.warn(x)}return f}else this.logger.warn(`there was no format function for ${d}`);return o},e)}}const Hh=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Bh extends Mr{constructor(e,s,r,n={}){super(),this.backend=e,this.store=s,this.services=r,this.languageUtils=r.languageUtils,this.options=n,this.logger=dt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,n.backend,n)}queueLoad(e,s,r,n){const a={},i={},o={},c={};return e.forEach(d=>{let u=!0;s.forEach(f=>{const x=`${d}|${f}`;!r.reload&&this.store.hasResourceBundle(d,f)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?i[x]===void 0&&(i[x]=!0):(this.state[x]=1,u=!1,i[x]===void 0&&(i[x]=!0),a[x]===void 0&&(a[x]=!0),c[f]===void 0&&(c[f]=!0)))}),u||(o[d]=!0)}),(Object.keys(a).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(a),pending:Object.keys(i),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(c)}}loaded(e,s,r){const n=e.split("|"),a=n[0],i=n[1];s&&this.emit("failedLoading",a,i,s),!s&&r&&this.store.addResourceBundle(a,i,r,void 0,void 0,{skipCopy:!0}),this.state[e]=s?-1:2,s&&r&&(this.state[e]=0);const o={};this.queue.forEach(c=>{Eh(c.loaded,[a],i),Hh(c,e),s&&c.errors.push(s),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{o[d]||(o[d]={});const u=c.loaded[d];u.length&&u.forEach(f=>{o[d][f]===void 0&&(o[d][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(c=>!c.done)}read(e,s,r,n=0,a=this.retryTimeout,i){if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:s,fcName:r,tried:n,wait:a,callback:i});return}this.readingCalls++;const o=(d,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(d&&u&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,s,r,n+1,a*2,i)},a);return}i(d,u)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const d=c(e,s);d&&typeof d.then=="function"?d.then(u=>o(null,u)).catch(o):o(null,d)}catch(d){o(d)}return}return c(e,s,o)}prepareLoading(e,s,r={},n){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();$(e)&&(e=this.languageUtils.toResolveHierarchy(e)),$(s)&&(s=[s]);const a=this.queueLoad(e,s,r,n);if(!a.toLoad.length)return a.pending.length||n(),null;a.toLoad.forEach(i=>{this.loadOne(i)})}load(e,s,r){this.prepareLoading(e,s,{},r)}reload(e,s,r){this.prepareLoading(e,s,{reload:!0},r)}loadOne(e,s=""){const r=e.split("|"),n=r[0],a=r[1];this.read(n,a,"read",void 0,void 0,(i,o)=>{i&&this.logger.warn(`${s}loading namespace ${a} for language ${n} failed`,i),!i&&o&&this.logger.log(`${s}loaded namespace ${a} for language ${n}`,o),this.loaded(e,i,o)})}saveMissing(e,s,r,n,a,i={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${r}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const c={...i,isUpdate:a},d=this.backend.create.bind(this.backend);if(d.length<6)try{let u;d.length===5?u=d(e,s,r,n,c):u=d(e,s,r,n),u&&typeof u.then=="function"?u.then(f=>o(null,f)).catch(o):o(null,u)}catch(u){o(u)}else d(e,s,r,n,o,c)}!e||!e[0]||this.store.addResource(e[0],s,r,n)}}}const gi=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),$(t[1])&&(e.defaultValue=t[1]),$(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const s=t[3]||t[2];Object.keys(s).forEach(r=>{e[r]=s[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),yi=t=>($(t.ns)&&(t.ns=[t.ns]),$(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),$(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),or=()=>{},Zh=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(s=>{typeof t[s]=="function"&&(t[s]=t[s].bind(t))})};class Gs extends Mr{constructor(e={},s){if(super(),this.options=yi(e),this.services={},this.logger=dt,this.modules={external:[]},Zh(this),s&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,s),this;setTimeout(()=>{this.init(e,s)},0)}}init(e={},s){this.isInitializing=!0,typeof e=="function"&&(s=e,e={}),e.defaultNS==null&&e.ns&&($(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=gi();this.options={...r,...this.options,...yi(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const n=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?dt.init(n(this.modules.logger),this.options):dt.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=zh;const u=new ui(this.options);this.store=new li(this.options.resources,this.options);const f=this.services;f.logger=dt,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new Vh(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=n(d),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new $h(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new Bh(n(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(b,...m)=>{this.emit(b,...m)}),this.modules.languageDetector&&(f.languageDetector=n(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=n(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Tr(this.services,this.options),this.translator.on("*",(b,...m)=>{this.emit(b,...m)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,s||(s=or),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...u)=>this.store[d](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...u)=>(this.store[d](...u),this)});const o=Rs(),c=()=>{const d=(u,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(f),s(u,f)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),o}loadResources(e,s=or){let r=s;const n=$(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(n?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],i=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(d=>{d!=="cimode"&&a.indexOf(d)<0&&a.push(d)})};n?i(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>i(c)),this.options.preload?.forEach?.(o=>i(o)),this.services.backendConnector.load(a,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(e,s,r){const n=Rs();return typeof e=="function"&&(r=e,e=void 0),typeof s=="function"&&(r=s,s=void 0),e||(e=this.languages),s||(s=this.options.ns),r||(r=or),this.services.backendConnector.reload(e,s,a=>{n.resolve(),r(a)}),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&kl.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let s=0;s<this.languages.length;s++){const r=this.languages[s];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,s){this.isLanguageChangingTo=e;const r=Rs();this.emit("languageChanging",e);const n=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},a=(o,c)=>{c?this.isLanguageChangingTo===e&&(n(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...d)=>this.t(...d)),s&&s(o,(...d)=>this.t(...d))},i=o=>{!e&&!o&&this.services.languageDetector&&(o=[]);const c=$(o)?o:o&&o[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes($(o)?[o]:o);d&&(this.language||n(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector?.cacheUserLanguage?.(d)),this.loadResources(d,u=>{a(u,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?i(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(e),r}getFixedT(e,s,r){const n=(a,i,...o)=>{let c;typeof i!="object"?c=this.options.overloadTranslationOptionHandler([a,i].concat(o)):c={...i},c.lng=c.lng||n.lng,c.lngs=c.lngs||n.lngs,c.ns=c.ns||n.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||n.keyPrefix);const d=this.options.keySeparator||".";let u;return c.keyPrefix&&Array.isArray(a)?u=a.map(f=>`${c.keyPrefix}${d}${f}`):u=c.keyPrefix?`${c.keyPrefix}${d}${a}`:a,this.t(u,c)};return $(e)?n.lng=e:n.lngs=e,n.ns=s,n.keyPrefix=r,n}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,s={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=s.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const i=(o,c)=>{const d=this.services.backendConnector.state[`${o}|${c}`];return d===-1||d===0||d===2};if(s.precheck){const o=s.precheck(this,i);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(r,e)&&(!n||i(a,e)))}loadNamespaces(e,s){const r=Rs();return this.options.ns?($(e)&&(e=[e]),e.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{r.resolve(),s&&s(n)}),r):(s&&s(),Promise.resolve())}loadLanguages(e,s){const r=Rs();$(e)&&(e=[e]);const n=this.options.preload||[],a=e.filter(i=>n.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return a.length?(this.options.preload=n.concat(a),this.loadResources(i=>{r.resolve(),s&&s(i)}),r):(s&&s(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const n=new Intl.Locale(e);if(n&&n.getTextInfo){const a=n.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new ui(gi());return e.toLowerCase().indexOf("-latn")>1?"ltr":s.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},s){return new Gs(e,s)}cloneInstance(e={},s=or){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},a=new Gs(n);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(o=>{a[o]=this[o]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const o=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},c[d]=Object.keys(c[d]).reduce((u,f)=>(u[f]={...c[d][f]},u),c[d]),c),{});a.store=new li(o,n),a.services.resourceStore=a.store}return a.translator=new Tr(a.services,n),a.translator.on("*",(o,...c)=>{a.emit(o,...c)}),a.init(n,s),a.translator.options=n,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const de=Gs.createInstance();de.createInstance=Gs.createInstance;de.createInstance;de.dir;de.init;de.loadResources;de.reloadResources;de.use;de.changeLanguage;de.getFixedT;de.t;de.exists;de.setDefaultNamespace;de.hasLoadedNamespace;de.loadNamespaces;de.loadLanguages;const{slice:Kh,forEach:Wh}=[];function Qh(t){return Wh.call(Kh.call(arguments,1),e=>{if(e)for(const s in e)t[s]===void 0&&(t[s]=e[s])}),t}function Gh(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(s=>s.test(t))}const vi=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Jh=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},n=encodeURIComponent(e);let a=`${t}=${n}`;if(r.maxAge>0){const i=r.maxAge-0;if(Number.isNaN(i))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(i)}`}if(r.domain){if(!vi.test(r.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${r.domain}`}if(r.path){if(!vi.test(r.path))throw new TypeError("option path is invalid");a+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(a+="; Partitioned"),a},xi={create(t,e,s,r){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};s&&(n.expires=new Date,n.expires.setTime(n.expires.getTime()+s*60*1e3)),r&&(n.domain=r),document.cookie=Jh(t,e,n)},read(t){const e=`${t}=`,s=document.cookie.split(";");for(let r=0;r<s.length;r++){let n=s[r];for(;n.charAt(0)===" ";)n=n.substring(1,n.length);if(n.indexOf(e)===0)return n.substring(e.length,n.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var Yh={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return xi.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:s,cookieMinutes:r,cookieDomain:n,cookieOptions:a}=e;s&&typeof document<"u"&&xi.create(s,t,r,n,a)}},Xh={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,s;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const a=r.substring(1).split("&");for(let i=0;i<a.length;i++){const o=a[i].indexOf("=");o>0&&a[i].substring(0,o)===e&&(s=a[i].substring(o+1))}}return s}},ep={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:s}=t,r;if(typeof window<"u"){const{hash:n}=window.location;if(n&&n.length>2){const a=n.substring(1);if(e){const i=a.split("&");for(let o=0;o<i.length;o++){const c=i[o].indexOf("=");c>0&&i[o].substring(0,c)===e&&(r=i[o].substring(c+1))}}if(r)return r;if(!r&&s>-1){const i=n.match(/\/([a-zA-Z-]*)/g);return Array.isArray(i)?i[typeof s=="number"?s:0]?.replace("/",""):void 0}}}return r}};let os=null;const bi=()=>{if(os!==null)return os;try{if(os=typeof window<"u"&&window.localStorage!==null,!os)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{os=!1}return os};var tp={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&bi())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:s}=e;s&&bi()&&window.localStorage.setItem(s,t)}};let ls=null;const wi=()=>{if(ls!==null)return ls;try{if(ls=typeof window<"u"&&window.sessionStorage!==null,!ls)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{ls=!1}return ls};var sp={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&wi())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:s}=e;s&&wi()&&window.sessionStorage.setItem(s,t)}},rp={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:s,userLanguage:r,language:n}=navigator;if(s)for(let a=0;a<s.length;a++)e.push(s[a]);r&&e.push(r),n&&e.push(n)}return e.length>0?e:void 0}},np={name:"htmlTag",lookup(t){let{htmlTag:e}=t,s;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(s=r.getAttribute("lang")),s}},ap={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const s=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?s[typeof e=="number"?e:0]?.replace("/",""):void 0}},ip={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const s=typeof e=="number"?e+1:1,r=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[s]}};let _l=!1;try{document.cookie,_l=!0}catch{}const Cl=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];_l||Cl.splice(1,1);const op=()=>({order:Cl,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class Tl{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,s)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=Qh(s,this.options||{},op()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=n=>n.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Yh),this.addDetector(Xh),this.addDetector(tp),this.addDetector(sp),this.addDetector(rp),this.addDetector(np),this.addDetector(ap),this.addDetector(ip),this.addDetector(ep)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,s=[];return e.forEach(r=>{if(this.detectors[r]){let n=this.detectors[r].lookup(this.options);n&&typeof n=="string"&&(n=[n]),n&&(s=s.concat(n))}}),s=s.filter(r=>r!=null&&!Gh(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}cacheUserLanguage(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;s&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||s.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}Tl.type="languageDetector";const lp={update:"Update",create:"Create",active:"Active",settings:"Settings",profile:"Profile",logout:"Logout",error:"Error",loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",view:"View",copy:"Copy",back:"Back",next:"Next",search:"Search",filter:"Filter",actions:"Actions",status:"Status",date:"Date",name:"Name",description:"Description"},cp={light:"Light theme",dark:"Dark theme",system:"System theme"},dp={russian:"Русский",english:"English",select:"Select Language"},up={dashboard:"Dashboard",statistics:"Statistics",offers:"Offers",accessRequests:"Access Requests",creatives:"Creatives",team:"Team",finances:"Finances",postbacks:"Postbacks",profile:"Profile",settings:"Settings",notifications:"Notifications",logout:"Logout",help:"Help"},fp={title:"Dashboard",subtitle:"Overview of key metrics",totalClicks:"Total Clicks",revenue:"Revenue",conversionRate:"CR",uniqueClicks:"Unique Clicks",activeOffers:"Active Offers",status:"Status",active:"Active",avgEPC:"EPC",quickActions:"Quick Actions",findNewOffers:"Find New Offers",checkStatistics:"Check Statistics",contactManager:"Contact Manager",goToOffers:"Go to offers page",viewDetailedStats:"View detailed statistics",contactManagerTitle:"Contact manager",welcome:"Welcome!",welcomeMessage:"Start by exploring available offers",system:"System",today:"today",available:"Available",avg7Days:"7-day average",partnerApproved:"Partner approved",dataUpdated:"Data updated",dataUpdatedDescription:"Dashboard information successfully updated",navigateToOffers:"Navigate to offers",navigateToOffersDescription:"Opening available offers page",navigateToStatistics:"Navigate to statistics",navigateToStatisticsDescription:"Opening detailed statistics",todayClicks:"Today's Clicks",todayRevenue:"Today's Revenue",recentActivity:"Recent Activity",topOffers:"Top Offers",refresh:"Refresh",partnerTitle:"Partner Dashboard",partnerWelcome:"Welcome to your partner dashboard"},hp={title:"Offers",subtitle:"Available offers for promotion",availableOffers:"Available Offers",partnerOffers:"Partner Offers",offerDetails:"Offer Details",requestAccess:"Request access",accessRequested:"Access requested",accessApproved:"Access approved",getLink:"Get Link",viewDetails:"View details",category:"Category",payout:"Payout",countries:"Countries",conversionFlow:"Conversion flow",trafficSources:"Traffic sources",requestAccessToOffer:"Request Access to Offer",myAccessRequests:"My Access Requests",accessRequests:"Access Requests",requestSent:"Request Sent",requestSentDesc:"Your access request has been sent to the advertiser",requestError:"Failed to send request",loading:"Loading offers...",pending:"Pending",rejected:"Rejected",accessApprovedTooltip:"Access approved - get link",requestPendingTooltip:"Request sent, awaiting advertiser review",accessRejected:"Access rejected",requestAccessTooltip:"Request access to offer",details:"Details",statistics:"Statistics",retryRequest:"Retry Request",retry:"Retry"},pp={title:"Team",subtitle:"Manage team members"},mp={title:"Profile",subtitle:"Partner profile settings"},gp={title:"Settings",subtitle:"Account and system settings"},yp={title:"Notifications",subtitle:"System notifications and messages"},vp={title:"Postbacks",subtitle:"Integration setup with external trackers",createProfile:"Create Profile",createProfileTitle:"Create New Profile",createProfileDescription:"Configure parameters for sending postbacks to external systems",editProfileTitle:"Edit Profile",editProfileDescription:"Modify tracker integration settings",testTitle:"Postback Testing",testDescription:"Send test postback to verify settings",profiles:"Profiles",deliveryLogs:"Delivery Logs",clickId:"Click ID",eventType:"Event Type",amount:"Amount",currency:"Currency",sendTest:"Send Test",configuredPostbacks:"Configured Postbacks",createPostbackProfile:"Create Postback Profile",name:"Name",trackerType:"Tracker Type",scope:"Scope",priority:"Priority",endpointUrl:"Endpoint URL",method:"Method",statusMapping:"Status Mapping",paramsTemplate:"Parameters Template",endpoint:"Endpoint",lastDelivery:"Last Delivery",never:"Never",global:"Global",offer:"Offer",custom:"Custom",placeholderName:"My Tracker",placeholderEndpoint:"https://mytracker.com/postback",time:"Time",profile:"Profile",status:"Status",responseCode:"Response Code",attempt:"Attempt",responseTime:"Response Time",success:"Success",error:"Error",noLogsYet:"No delivery logs yet",quickSetup:"Quick setup with template",templateHelp:"Select a template to automatically fill settings for popular trackers",endpointSettings:"Endpoint Settings",testProfile:"Test Profile",testSuccess:"Test Success",testFailed:"Test Failed",testError:"Test Error",postbackSent:"Postback Sent",deleteProfile:"Delete Profile",editProfile:"Edit Profile",loading:"Loading profiles...",noProfilesFound:"NO PROFILES FOUND!",debugInfo:"DEBUG - FULL INFORMATION",refreshWarning:"IF BUTTONS ARE WHITE: Refresh page (Ctrl+F5) or clear cache!",deliveryHistory:"History of postback delivery to trackers",createError:"Creation Error",deleteError:"Deletion Error",basicTab:"Basic",settingsTab:"Settings",advancedSettings:"Advanced Settings",comingSoon:"Advanced configuration parameters will be added in future versions."},xp={title:"Finances",subtitle:"Balance and withdrawal management",currentBalance:"Current Balance",availableForWithdrawal:"Available for withdrawal",pendingPayouts:"Pending",awaitingConfirmation:"Awaiting confirmation",totalRevenue:"Total Revenue",allTime:"All time",avgEPC:"Average EPC",earningsPerClick:"Earnings per click",withdrawal:"Withdrawal",createWithdrawal:"Create withdrawal request",availableAmount:"Available",withdrawalAmount:"Amount",paymentMethod:"Payment method",paymentDetails:"Payment details",selectMethod:"Select method",enterDetails:"Enter payment details",submitRequest:"Submit request",transactionHistory:"Transaction History",downloadReport:"Download report",commission:"Commission",bonus:"Bonus",payout:"Payout",paymentMethods:{paypal:"PayPal",bankCard:"Bank Card",bankTransfer:"Bank Transfer",crypto:"Cryptocurrency"},messages:{withdrawalRequested:"Request submitted",withdrawalRequestedDesc:"Withdrawal request created and will be processed within 24 hours.",fillAllFields:"Fill all fields",fillAllFieldsDesc:"All fields are required",insufficientFunds:"Insufficient funds",insufficientFundsDesc:"Withdrawal amount exceeds available balance",reportDownloaded:"Report downloaded",reportDownloadedDesc:"Financial report in {{format}} format downloaded successfully",downloadError:"Error",downloadErrorDesc:"Failed to download report",withdrawalError:"Failed to create withdrawal request"}},bp={login:"Sign In",username:"Username",email:"Email",password:"Password",sign_in:"Sign In",loginSubtitle:"Enter your credentials to sign in",register:"Register",registerSubtitle:"Create a new account",confirmPassword:"Confirm Password",firstName:"First Name",lastName:"Last Name",company:"Company",phone:"Phone",alreadyHaveAccount:"Already have an account?",noAccount:"No account?",loginHere:"Sign in here",registerHere:"Register here"},wp={title:"Partner Statistics",subtitle:"Detailed analytics of clicks and conversions with real data",filters:"Filters",dateFrom:"Date from",dateTo:"Date to",offer:"Offer",geo:"Geo",device:"Device",allOffers:"All offers",allCountries:"All countries",allDevices:"All devices",desktop:"Desktop",mobile:"Mobile",tablet:"Tablet",applyFilters:"Apply filters",resetFilters:"Reset",export:"Export",tabs:{overview:"Overview",geography:"Geography",devices:"Devices",sources:"Sources",subid:"SubID",details:"Details"},columns:{date:"Date/Time",offer:"Offer",country:"Country",clickId:"ClickID",status:"Status",revenue:"Revenue",actions:"Actions",cr:"CR",epc:"EPC",device:"Device",source:"Source",ip:"IP",sub1:"Sub1",sub2:"Sub2",sub3:"Sub3",sub4:"Sub4",sub5:"Sub5"},status:{click:"Click",conversion:"Conversion"},actions:{copyClickId:"Copy ClickID",viewSubId:"View SubID parameters",viewAllSub:"View all Sub1-Sub16"},messages:{loadingError:"Loading error",loadingErrorDesc:"Failed to load partner statistics",copied:"Copied",copiedDesc:"{{type}} copied to clipboard",copyError:"Failed to copy to clipboard"},pagination:{showing:"Showing",of:"of",records:"records",previous:"Previous",next:"Next"},geography:"Geography",countries:{IN:"India",US:"United States",DE:"Germany",UK:"United Kingdom"},devices:{desktop:"Desktop",mobile:"Mobile",tablet:"Tablet"},subid:{title:"SubID Analysis",description:"Detailed analysis of all Sub1-Sub16 parameters with data preservation",detailsTitle:"Detailed Statistics",parametersFor:"SubID Parameters for",fullList:"Complete list of all Sub1-Sub16 parameters with exact data preservation"}},kp={home:"Home",homeDesc:"Dashboard Overview",myOffers:"My Offers",dashboard:"Dashboard",users:"Users",userAnalytics:"User Analytics",roles:"Roles",offers:"Offers",blacklist:"Blacklist",auditLogs:"Audit Logs",systemSettings:"System Settings",support:"Support",myOffersDesc:"Offer Management",receivedOffers:"Received Offers",receivedOffersDesc:"Offers from Suppliers",partners:"Partners",partnersDesc:"Partner Management",accessRequests:"Access Requests",accessRequestsDesc:"Process partner access requests to offers",finances:"Finances",financesDesc:"Financial Operations",teamMode:"Team Mode",teamModeDesc:"Team management and access rights",antifraud:"Anti-fraud",antifraudDesc:"Fraud traffic protection system",analytics:"Analytics",analyticsDesc:"Detailed analytics and reports",postbacks:"Postbacks",postbacksDesc:"Tracker integration settings",profile:"Profile",profileDesc:"Profile Settings",documents:"Documents",documentsDesc:"Document Management"},Sp={country:"Country",geoIp:"Geo IP",registrationDateFrom:"Registration date from:",registrationDateTo:"Registration date to:",lastLoginFrom:"Last login from:",lastLoginTo:"Last login to:",resetFilters:"Reset Filters"},_p={addUser:"Add User",editUser:"Edit User",deleteUser:"Delete User",username:"Username",role:"Role",userType:"Type",accountName:"Account Name",registrationDate:"Registration Date",lastLogin:"Last Login",linkedAdvertiser:"Linked Advertiser",actions:"Actions",administrator:"Administrator"},Cp={title:"Creatives and Materials",banners:"Banners",landing:"Landing Pages",subtitle:"Banners, landing pages, pre-landings and text materials for your campaigns",searchPlaceholder:"Search creatives...",allTypes:"All Types",banner:"Banners",prelanding:"Pre-landings",text:"Text Materials",video:"Video",bannerType:"Banner",landingType:"Landing",prelandingType:"Pre-landing",textType:"Text",videoType:"Video"},Tp="Sign In",Np="Username",Ep="Email",jp="Password",Ap="Sign In",Pp={common:lp,theme:cp,language:dp,navigation:up,dashboard:fp,offers:hp,team:pp,profile:mp,settings:gp,notifications:yp,postbacks:vp,finances:xp,auth:bp,statistics:wp,sidebar:kp,filters:Sp,users:_p,creatives:Cp,login:Tp,username:Np,email:Ep,password:jp,sign_in:Ap},Rp={update:"Обновить",create:"Создать",active:"Включен",settings:"Настройки",profile:"Профиль",logout:"Выход",error:"Ошибка",loading:"Загрузка...",save:"Сохранить",cancel:"Отмена",delete:"Удалить",edit:"Редактировать",view:"Просмотр",copy:"Копировать",back:"Назад",next:"Далее",search:"Поиск",filter:"Фильтр",actions:"Действия",status:"Статус",date:"Дата",name:"Название",description:"Описание"},Op={dashboard:"Дашборд",statistics:"Статистика",offers:"Офферы",accessRequests:"Запросы доступа",creatives:"Креативы",team:"Команда",finances:"Финансы",postbacks:"Постбеки",profile:"Профиль",settings:"Настройки",notifications:"Уведомления",logout:"Выход",help:"Помощь"},Ip="Войти",Lp="Имя пользователя",Dp="Email",Fp="Пароль",Mp="Войти",Vp={title:"Дашборд",partnerTitle:"Панель партнёра",partnerWelcome:"Добро пожаловать в ваш кабинет партнёра",subtitle:"Обзор основных показателей",totalClicks:"Всего кликов",revenue:"Доход",conversionRate:"CR",uniqueClicks:"Уникальные клики",activeOffers:"Активные офферы",status:"Статус",active:"Активен",avgEPC:"EPC",quickActions:"Быстрые действия",findNewOffers:"Найти новые офферы",checkStatistics:"Проверить статистику",contactManager:"Связаться с менеджером",goToOffers:"Перейти к странице офферов",viewDetailedStats:"Посмотреть детальную статистику",contactManagerTitle:"Связаться с менеджером",welcome:"Добро пожаловать!",welcomeMessage:"Начните работу с изучения доступных офферов",system:"Система",today:"сегодня",available:"Доступно",avg7Days:"Средний за 7 дней",partnerApproved:"Партнёр одобрен",dataUpdated:"Данные обновлены",dataUpdatedDescription:"Информация дашборда успешно обновлена",navigateToOffers:"Переход к офферам",navigateToOffersDescription:"Открываю страницу доступных офферов",navigateToStatistics:"Переход к статистике",navigateToStatisticsDescription:"Открываю детальную статистику",todayClicks:"Клики сегодня",todayRevenue:"Доход сегодня",recentActivity:"Последняя активность",topOffers:"Топ офферы",refresh:"Обновить"},$p={home:"Главная",homeDesc:"Обзор кабинета",myOffers:"Мои офферы",dashboard:"Дашборд",users:"Пользователи",userAnalytics:"Аналитика пользователей",roles:"Роли",offers:"Офферы",blacklist:"Черный список",auditLogs:"Логи аудита",systemSettings:"Настройки системы",support:"Поддержка",myOffersDesc:"Управление офферами",receivedOffers:"Полученные офферы",receivedOffersDesc:"Офферы от поставщиков",partners:"Партнёры",partnersDesc:"Управление партнёрами",accessRequests:"Запросы доступа",accessRequestsDesc:"Обработка запросов партнёров на доступ к офферам",finances:"Финансы",financesDesc:"Финансовые операции",teamMode:"Командный режим",teamModeDesc:"Управление командой и права доступа",antifraud:"Антифрод",antifraudDesc:"Система защиты от фродового трафика",analytics:"Аналитика",analyticsDesc:"Детальная аналитика и отчёты",postbacks:"Постбеки",postbacksDesc:"Настройка интеграций с трекерами",profile:"Профиль",profileDesc:"Настройки профиля",documents:"Документы",documentsDesc:"Документооборот"},Up={title:"Офферы",subtitle:"Доступные офферы для продвижения",availableOffers:"Доступные офферы",partnerOffers:"Партнерские офферы",offerDetails:"Детали оффера",requestAccess:"Запросить",accessRequested:"Доступ запрошен",accessApproved:"Доступ одобрен",getLink:"Забрать ссылку",viewDetails:"Подробнее",category:"Категория",payout:"Выплата",countries:"Страны",conversionFlow:"Флоу конверсии",trafficSources:"Источники трафика",requestAccessToOffer:"Запросить доступ к офферу",myAccessRequests:"Мои запросы доступа",accessRequests:"Запросы доступа",requestSent:"Запрос отправлен",requestSentDesc:"Ваш запрос на доступ к офферу был отправлен рекламодателю",requestError:"Не удалось отправить запрос",loading:"Загрузка офферов...",pending:"В ожидании",rejected:"Отклонен",accessApprovedTooltip:"Доступ одобрен - получить ссылку",requestPendingTooltip:"Запрос отправлен, ожидает рассмотрения рекламодателем",accessRejected:"Доступ отклонен",requestAccessTooltip:"Запросить доступ к офферу",details:"Детали",statistics:"Статистика",retryRequest:"Повторный запрос",retry:"Повторить"},qp={title:"Постбеки",subtitle:"Настройка интеграции с внешними трекерами",createProfile:"Создать профиль",createProfileTitle:"Создать новый профиль",createProfileDescription:"Настройте параметры отправки постбеков во внешние системы",editProfileTitle:"Редактировать профиль",editProfileDescription:"Изменить настройки интеграции с трекером",testTitle:"Тестирование постбека",testDescription:"Отправить тестовый постбек для проверки настроек",profiles:"Профили",deliveryLogs:"Логи доставок",clickId:"Click ID",eventType:"Тип события",amount:"Сумма",currency:"Валюта",sendTest:"Отправить тест",configuredPostbacks:"Настроенные постбеки",createPostbackProfile:"Создать постбек профиль",name:"Название",trackerType:"Тип трекера",scope:"Область применения",priority:"Приоритет",endpointUrl:"URL эндпоинта",method:"Метод",statusMapping:"Маппинг статусов",paramsTemplate:"Шаблон параметров",endpoint:"Эндпоинт",lastDelivery:"Последняя доставка",never:"Не было",global:"Глобально",offer:"Оффер",custom:"Пользовательский",placeholderName:"Мой трекер",placeholderEndpoint:"https://mytracker.com/postback",time:"Время",profile:"Профиль",status:"Статус",responseCode:"Код ответа",attempt:"Попытка",responseTime:"Время ответа",success:"Успех",error:"Ошибка",noLogsYet:"Пока нет логов доставок",quickSetup:"Быстрая настройка по шаблону",templateHelp:"Выберите шаблон для автоматического заполнения настроек популярных трекеров",endpointSettings:"Настройки эндпоинта",testProfile:"Тестировать профиль",testSuccess:"Тест успешен",testFailed:"Тест неудачен",testError:"Ошибка тестирования",postbackSent:"Постбек отправлен",deleteProfile:"Удалить профиль",editProfile:"Редактировать профиль",loading:"Загрузка профилей...",noProfilesFound:"ПРОФИЛИ НЕ НАЙДЕНЫ!",debugInfo:"ОТЛАДКА - ПОЛНАЯ ИНФОРМАЦИЯ",refreshWarning:"ЕСЛИ КНОПКИ БЕЛЫЕ: Обновите страницу (Ctrl+F5) или очистите кеш!",deliveryHistory:"История отправки постбеков в трекеры",createError:"Ошибка создания",deleteError:"Ошибка удаления профиля",basicTab:"Основные",settingsTab:"Настройки",advancedSettings:"Дополнительные настройки",comingSoon:"Расширенные параметры конфигурации будут добавлены в следующих версиях."},zp={country:"Страна",geoIp:"Geo IP",registrationDateFrom:"Дата регистрации от:",registrationDateTo:"Дата регистрации до:",lastLoginFrom:"Последний вход от:",lastLoginTo:"Последний вход до:",resetFilters:"Сброс фильтров"},Hp={addUser:"Добавить пользователя",editUser:"Редактировать пользователя",deleteUser:"Удалить пользователя",username:"Имя пользователя",role:"Роль",userType:"Тип",accountName:"Название аккаунта",registrationDate:"Дата регистрации",lastLogin:"Последний вход",linkedAdvertiser:"Привязанный рекламодатель",actions:"Действия",administrator:"Администратор"},Bp={light:"Светлая тема",dark:"Тёмная тема",system:"Системная тема"},Zp={russian:"Русский",english:"English",select:"Выбрать язык"},Kp={title:"Статистика партнёра",subtitle:"Детальная аналитика по кликам и конверсиям с реальными данными",filters:"Фильтры",dateFrom:"Дата от",dateTo:"Дата до",offer:"Оффер",geo:"Гео",device:"Устройство",allOffers:"Все офферы",allCountries:"Все страны",allDevices:"Все устройства",desktop:"Десктоп",mobile:"Мобильное",tablet:"Планшет",applyFilters:"Применить фильтры",resetFilters:"Сбросить",export:"Экспорт",tabs:{overview:"Обзор",geography:"География",devices:"Устройства",sources:"Источники",subid:"SubID",details:"Детали"},columns:{date:"Дата/Время",offer:"Оффер",country:"Страна",clickId:"ClickID",status:"Статус",revenue:"Доход",actions:"Действия",cr:"CR",epc:"EPC",device:"Устройство",source:"Источник",ip:"IP",sub1:"Sub1",sub2:"Sub2",sub3:"Sub3",sub4:"Sub4",sub5:"Sub5"},status:{click:"Клик",conversion:"Конверсия"},actions:{copyClickId:"Копировать ClickID",viewSubId:"Просмотр SubID параметров",viewAllSub:"Посмотреть все Sub1-Sub16"},messages:{loadingError:"Ошибка загрузки данных",loadingErrorDesc:"Не удалось загрузить статистику партнера",copied:"Скопировано",copiedDesc:"{{type}} скопирован в буфер обмена",copyError:"Ошибка копирования"},pagination:{showing:"Показано",of:"из",records:"записей",previous:"Назад",next:"Вперед"},geography:"География",countries:{IN:"Индия",US:"США",DE:"Германия",UK:"Великобритания"},devices:{desktop:"Компьютер",mobile:"Мобильный",tablet:"Планшет"},subid:{title:"Анализ SubID параметров",description:"Детальный анализ всех Sub1-Sub16 параметров с сохранением исходных данных",detailsTitle:"Детальная статистика",parametersFor:"SubID Параметры для",fullList:"Полный список всех Sub1-Sub16 параметров с точным сохранением данных"}},Wp={title:"Креативы и инструменты",subtitle:"Баннеры, лендинги, преленды и текстовки для ваших кампаний",searchPlaceholder:"Поиск креативов...",allTypes:"Все типы",banner:"Баннеры",landing:"Лендинги",prelanding:"Преленды",text:"Текстовки",video:"Видео",bannerType:"Баннер",landingType:"Лендинг",prelandingType:"Преленд",textType:"Текст",videoType:"Видео",banners:"Баннеры"},Qp={title:"Команда",subtitle:"Управление участниками команды"},Gp={title:"Профиль",subtitle:"Настройки профиля партнёра"},Jp={title:"Настройки",subtitle:"Настройки аккаунта и системы"},Yp={title:"Уведомления",subtitle:"Системные уведомления и сообщения"},Xp={title:"Финансы",subtitle:"Управление балансом и выводом средств",currentBalance:"Текущий баланс",availableForWithdrawal:"Доступно к выводу",pendingPayouts:"В ожидании",awaitingConfirmation:"Ожидает подтверждения",totalRevenue:"Общий доход",allTime:"За всё время",avgEPC:"Средний EPC",earningsPerClick:"Доходность на клик",withdrawal:"Вывод средств",createWithdrawal:"Создание заявки на вывод средств",availableAmount:"Доступно",withdrawalAmount:"Сумма",paymentMethod:"Способ получения",paymentDetails:"Реквизиты",selectMethod:"Выберите способ",enterDetails:"Укажите реквизиты для получения средств",submitRequest:"Отправить заявку",transactionHistory:"История операций",downloadReport:"Скачать отчёт",commission:"Комиссия",bonus:"Бонус",payout:"Вывод",paymentMethods:{paypal:"PayPal",bankCard:"Банковская карта",bankTransfer:"Банковский перевод",crypto:"Криптовалюта"},messages:{withdrawalRequested:"Запрос отправлен",withdrawalRequestedDesc:"Заявка на вывод средств создана и будет обработана в течение 24 часов.",fillAllFields:"Заполните все поля",fillAllFieldsDesc:"Все поля обязательны для заполнения",insufficientFunds:"Недостаточно средств",insufficientFundsDesc:"Сумма вывода превышает доступный баланс",reportDownloaded:"Отчёт загружен",reportDownloadedDesc:"Финансовый отчёт в формате {{format}} успешно загружен",downloadError:"Ошибка",downloadErrorDesc:"Не удалось загрузить отчёт",withdrawalError:"Не удалось создать заявку на вывод средств"}},em={login:"Вход в систему",loginSubtitle:"Введите ваши данные для входа",register:"Регистрация",registerSubtitle:"Создайте новый аккаунт",username:"Имя пользователя",email:"Email",password:"Пароль",confirmPassword:"Подтвердите пароль",firstName:"Имя",lastName:"Фамилия",company:"Компания",phone:"Телефон",alreadyHaveAccount:"Уже есть аккаунт?",noAccount:"Нет аккаунта?",loginHere:"Войдите здесь",registerHere:"Зарегистрируйтесь здесь",sign_in:"Войти"},tm={common:Rp,navigation:Op,login:Ip,username:Lp,email:Dp,password:Fp,sign_in:Mp,dashboard:Vp,sidebar:$p,offers:Up,postbacks:qp,filters:zp,users:Hp,theme:Bp,language:Zp,statistics:Kp,creatives:Wp,team:Qp,profile:Gp,settings:Jp,notifications:Yp,finances:Xp,auth:em},ki={defaultLanguage:"ru",supportedLanguages:["ru","en"],fallbackLanguage:"ru",namespace:"translation",storageKey:"i18nextLng"};class fs{constructor(e=ki){this.initialized=!1,this.config={...ki,...e}}static getInstance(e){return fs.instance||(fs.instance=new fs(e)),fs.instance}async initialize(){if(!this.initialized)try{await de.use(Tl).use(Wc).init({resources:{en:{[this.config.namespace]:Pp},ru:{[this.config.namespace]:tm}},lng:this.config.defaultLanguage,fallbackLng:this.config.fallbackLanguage,supportedLngs:this.config.supportedLanguages,debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],lookupLocalStorage:this.config.storageKey,caches:["localStorage"],checkWhitelist:!1},react:{bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","i","em","span"]}}),this.initialized=!0,console.debug("I18n service initialized with language:",de.language)}catch(e){throw console.error("Failed to initialize I18n service:",e),e}}getCurrentLanguage(){return de.language}getSupportedLanguages(){return this.config.supportedLanguages}async changeLanguage(e){if(!this.config.supportedLanguages.includes(e)){console.warn(`Language '${e}' is not supported`);return}try{await de.changeLanguage(e),localStorage.setItem(this.config.storageKey,e),window.dispatchEvent(new CustomEvent("languageChanged",{detail:{language:e,previousLanguage:this.getCurrentLanguage()}})),console.debug("Language changed to:",e)}catch(s){console.error("Failed to change language:",s)}}translate(e,s,r){const n=de.t(e,s,r);return typeof n=="string"?n:String(n)}translateWithNamespace(e,s,r,n){const a=de.t(`${e}:${s}`,r,n);return typeof a=="string"?a:String(a)}getLanguageConfig(e=this.getCurrentLanguage()){const s={ru:{dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",dateTimeFormat:"dd.MM.yyyy HH:mm",numberFormat:{decimal:",",thousands:" ",currency:"₽"},rtl:!1},en:{dateFormat:"MM/dd/yyyy",timeFormat:"h:mm a",dateTimeFormat:"MM/dd/yyyy h:mm a",numberFormat:{decimal:".",thousands:",",currency:"$"},rtl:!1}};return s[e]||s.en}formatNumber(e,s={}){const r=this.getCurrentLanguage();return new Intl.NumberFormat(r,s).format(e)}formatCurrency(e,s="USD"){const r=this.getCurrentLanguage();return this.getLanguageConfig(r),new Intl.NumberFormat(r,{style:"currency",currency:s,currencyDisplay:"symbol"}).format(e)}formatDate(e,s={}){const r=this.getCurrentLanguage(),n=new Date(e);return new Intl.DateTimeFormat(r,{year:"numeric",month:"2-digit",day:"2-digit",...s}).format(n)}formatRelativeTime(e){const s=this.getCurrentLanguage(),r=new Date(e),a=Math.floor((new Date().getTime()-r.getTime())/1e3),i=new Intl.RelativeTimeFormat(s,{numeric:"auto"});return a<60?i.format(-a,"second"):a<3600?i.format(-Math.floor(a/60),"minute"):a<86400?i.format(-Math.floor(a/3600),"hour"):a<2592e3?i.format(-Math.floor(a/86400),"day"):a<31536e3?i.format(-Math.floor(a/2592e3),"month"):i.format(-Math.floor(a/31536e3),"year")}getMissingTranslations(e=this.config.namespace){const s=this.getCurrentLanguage(),r=this.config.fallbackLanguage,n=de.getResourceBundle(s,e)||{},a=de.getResourceBundle(r,e)||{},i=[],o=(c,d,u="")=>{Object.keys(d).forEach(f=>{const x=u?`${u}.${f}`:f;typeof d[f]=="object"&&d[f]!==null?o(c[f]||{},d[f],x):(!(f in c)||c[f]==="")&&i.push(x)})};return o(n,a),i}async loadTranslationsFromServer(e){try{const s=await fetch(`/api/i18n/translations/${e}`);if(!s.ok)throw new Error(`Failed to load translations: ${s.statusText}`);const r=await s.json();de.addResourceBundle(e,this.config.namespace,r.translations,!0,!0),console.debug(`Loaded ${e} translations from server`)}catch{throw console.error(`Failed to load ${e} translations from server:`,error),error}}async getAvailableLanguagesFromServer(){try{const e=await fetch("/api/i18n/languages");if(!e.ok)throw new Error(`Failed to load languages: ${e.statusText}`);return(await e.json()).languages||[]}catch(e){return console.error("Failed to load available languages from server:",e),this.config.supportedLanguages}}async changeLanguageWithServerSync(e){if(!this.config.supportedLanguages.includes(e)){console.warn(`Language '${e}' is not supported`);return}try{await this.loadTranslationsFromServer(e),await de.changeLanguage(e),localStorage.setItem(this.config.storageKey,e),window.dispatchEvent(new CustomEvent("languageChanged",{detail:{language:e,previousLanguage:this.getCurrentLanguage()}})),console.debug("Language changed to:",e,"with server sync")}catch(s){console.warn("Server sync failed, falling back to cached translations:",s),await this.changeLanguage(e)}}addTranslations(e,s,r){de.addResourceBundle(e,s,r,!0,!0)}getAllTranslations(e,s){const r=e||this.getCurrentLanguage(),n=s||this.config.namespace;return de.getResourceBundle(r,n)||{}}}const sm=fs.getInstance();var Vr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$r=typeof window>"u"||"Deno"in globalThis;function Ye(){}function rm(t,e){return typeof t=="function"?t(e):t}function nm(t){return typeof t=="number"&&t>=0&&t!==1/0}function am(t,e){return Math.max(t+(e||0)-Date.now(),0)}function kn(t,e){return typeof t=="function"?t(e):t}function im(t,e){return typeof t=="function"?t(e):t}function Si(t,e){const{type:s="all",exact:r,fetchStatus:n,predicate:a,queryKey:i,stale:o}=t;if(i){if(r){if(e.queryHash!==Wn(i,e.options))return!1}else if(!Ys(e.queryKey,i))return!1}if(s!=="all"){const c=e.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||n&&n!==e.state.fetchStatus||a&&!a(e))}function _i(t,e){const{exact:s,status:r,predicate:n,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(s){if(Js(e.options.mutationKey)!==Js(a))return!1}else if(!Ys(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||n&&!n(e))}function Wn(t,e){return(e?.queryKeyHashFn||Js)(t)}function Js(t){return JSON.stringify(t,(e,s)=>Sn(s)?Object.keys(s).sort().reduce((r,n)=>(r[n]=s[n],r),{}):s)}function Ys(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(s=>Ys(t[s],e[s])):!1}function Nl(t,e){if(t===e)return t;const s=Ci(t)&&Ci(e);if(s||Sn(t)&&Sn(e)){const r=s?t:Object.keys(t),n=r.length,a=s?e:Object.keys(e),i=a.length,o=s?[]:{},c=new Set(r);let d=0;for(let u=0;u<i;u++){const f=s?u:a[u];(!s&&c.has(f)||s)&&t[f]===void 0&&e[f]===void 0?(o[f]=void 0,d++):(o[f]=Nl(t[f],e[f]),o[f]===t[f]&&t[f]!==void 0&&d++)}return n===i&&d===n?t:o}return e}function Mm(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function Ci(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Sn(t){if(!Ti(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!Ti(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ti(t){return Object.prototype.toString.call(t)==="[object Object]"}function om(t){return new Promise(e=>{setTimeout(e,t)})}function lm(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?Nl(t,e):e}function cm(t,e,s=0){const r=[...t,e];return s&&r.length>s?r.slice(1):r}function dm(t,e,s=0){const r=[e,...t];return s&&r.length>s?r.slice(0,-1):r}var Qn=Symbol();function El(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Qn?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Vm(t,e){return typeof t=="function"?t(...e):!!t}var Kt,Et,hs,Oi,um=(Oi=class extends Vr{constructor(){super();te(this,Kt);te(this,Et);te(this,hs);Q(this,hs,e=>{if(!$r&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){k(this,Et)||this.setEventListener(k(this,hs))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,Et))==null||e.call(this),Q(this,Et,void 0))}setEventListener(e){var s;Q(this,hs,e),(s=k(this,Et))==null||s.call(this),Q(this,Et,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){k(this,Kt)!==e&&(Q(this,Kt,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){return typeof k(this,Kt)=="boolean"?k(this,Kt):globalThis.document?.visibilityState!=="hidden"}},Kt=new WeakMap,Et=new WeakMap,hs=new WeakMap,Oi),jl=new um,ps,jt,ms,Ii,fm=(Ii=class extends Vr{constructor(){super();te(this,ps,!0);te(this,jt);te(this,ms);Q(this,ms,e=>{if(!$r&&window.addEventListener){const s=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){k(this,jt)||this.setEventListener(k(this,ms))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,jt))==null||e.call(this),Q(this,jt,void 0))}setEventListener(e){var s;Q(this,ms,e),(s=k(this,jt))==null||s.call(this),Q(this,jt,e(this.setOnline.bind(this)))}setOnline(e){k(this,ps)!==e&&(Q(this,ps,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return k(this,ps)}},ps=new WeakMap,jt=new WeakMap,ms=new WeakMap,Ii),Nr=new fm;function hm(){let t,e;const s=new Promise((n,a)=>{t=n,e=a});s.status="pending",s.catch(()=>{});function r(n){Object.assign(s,n),delete s.resolve,delete s.reject}return s.resolve=n=>{r({status:"fulfilled",value:n}),t(n)},s.reject=n=>{r({status:"rejected",reason:n}),e(n)},s}function pm(t){return Math.min(1e3*2**t,3e4)}function Al(t){return(t??"online")==="online"?Nr.isOnline():!0}var Pl=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Rl(t){let e=!1,s=0,r;const n=hm(),a=()=>n.status!=="pending",i=y=>{a()||(x(new Pl(y)),t.abort?.())},o=()=>{e=!0},c=()=>{e=!1},d=()=>jl.isFocused()&&(t.networkMode==="always"||Nr.isOnline())&&t.canRun(),u=()=>Al(t.networkMode)&&t.canRun(),f=y=>{a()||(r?.(),n.resolve(y))},x=y=>{a()||(r?.(),n.reject(y))},b=()=>new Promise(y=>{r=S=>{(a()||d())&&y(S)},t.onPause?.()}).then(()=>{r=void 0,a()||t.onContinue?.()}),m=()=>{if(a())return;let y;const S=s===0?t.initialPromise:void 0;try{y=S??t.fn()}catch(C){y=Promise.reject(C)}Promise.resolve(y).then(f).catch(C=>{if(a())return;const g=t.retry??($r?0:3),N=t.retryDelay??pm,R=typeof N=="function"?N(s,C):N,E=g===!0||typeof g=="number"&&s<g||typeof g=="function"&&g(s,C);if(e||!E){x(C);return}s++,t.onFail?.(s,C),om(R).then(()=>d()?void 0:b()).then(()=>{e?x(C):m()})})};return{promise:n,status:()=>n.status,cancel:i,continue:()=>(r?.(),n),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?m():b().then(m),n)}}var mm=t=>setTimeout(t,0);function gm(){let t=[],e=0,s=o=>{o()},r=o=>{o()},n=mm;const a=o=>{e?t.push(o):n(()=>{s(o)})},i=()=>{const o=t;t=[],o.length&&n(()=>{r(()=>{o.forEach(c=>{s(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||i()}return c},batchCalls:o=>(...c)=>{a(()=>{o(...c)})},schedule:a,setNotifyFunction:o=>{s=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{n=o}}}var De=gm(),Wt,Li,Ol=(Li=class{constructor(){te(this,Wt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nm(this.gcTime)&&Q(this,Wt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??($r?1/0:5*60*1e3))}clearGcTimeout(){k(this,Wt)&&(clearTimeout(k(this,Wt)),Q(this,Wt,void 0))}},Wt=new WeakMap,Li),gs,ys,He,Qt,je,Xs,Gt,Xe,yt,Di,ym=(Di=class extends Ol{constructor(e){super();te(this,Xe);te(this,gs);te(this,ys);te(this,He);te(this,Qt);te(this,je);te(this,Xs);te(this,Gt);Q(this,Gt,!1),Q(this,Xs,e.defaultOptions),this.setOptions(e.options),this.observers=[],Q(this,Qt,e.client),Q(this,He,k(this,Qt).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Q(this,gs,xm(this.options)),this.state=e.state??k(this,gs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return k(this,je)?.promise}setOptions(e){this.options={...k(this,Xs),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,He).remove(this)}setData(e,s){const r=lm(this.state.data,e,this.options);return Re(this,Xe,yt).call(this,{data:r,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),r}setState(e,s){Re(this,Xe,yt).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){const s=k(this,je)?.promise;return k(this,je)?.cancel(e),s?s.then(Ye).catch(Ye):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,gs))}isActive(){return this.observers.some(e=>im(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qn||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>kn(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!am(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),k(this,je)?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),k(this,je)?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),k(this,He).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(k(this,je)&&(k(this,Gt)?k(this,je).cancel({revert:!0}):k(this,je).cancelRetry()),this.scheduleGc()),k(this,He).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Re(this,Xe,yt).call(this,{type:"invalidate"})}async fetch(e,s){if(this.state.fetchStatus!=="idle"&&k(this,je)?.status()!=="rejected"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(k(this,je))return k(this,je).continueRetry(),k(this,je).promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(Q(this,Gt,!0),r.signal)})},a=()=>{const c=El(this.options,s),u=(()=>{const f={client:k(this,Qt),queryKey:this.queryKey,meta:this.meta};return n(f),f})();return Q(this,Gt,!1),this.options.persister?this.options.persister(c,u,this):c(u)},o=(()=>{const c={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:k(this,Qt),state:this.state,fetchFn:a};return n(c),c})();this.options.behavior?.onFetch(o,this),Q(this,ys,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&Re(this,Xe,yt).call(this,{type:"fetch",meta:o.fetchOptions?.meta}),Q(this,je,Rl({initialPromise:s?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onFail:(c,d)=>{Re(this,Xe,yt).call(this,{type:"failed",failureCount:c,error:d})},onPause:()=>{Re(this,Xe,yt).call(this,{type:"pause"})},onContinue:()=>{Re(this,Xe,yt).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const c=await k(this,je).start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),k(this,He).config.onSuccess?.(c,this),k(this,He).config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof Pl){if(c.silent)return k(this,je).promise;if(c.revert){if(this.setState({...k(this,ys),fetchStatus:"idle"}),this.state.data===void 0)throw c;return this.state.data}}throw Re(this,Xe,yt).call(this,{type:"error",error:c}),k(this,He).config.onError?.(c,this),k(this,He).config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}},gs=new WeakMap,ys=new WeakMap,He=new WeakMap,Qt=new WeakMap,je=new WeakMap,Xs=new WeakMap,Gt=new WeakMap,Xe=new WeakSet,yt=function(e){const s=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...vm(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Q(this,ys,e.manual?n:void 0),n;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=s(this.state),De.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),k(this,He).notify({query:this,type:"updated",action:e})})},Di);function vm(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Al(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function xm(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,r=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var it,Fi,bm=(Fi=class extends Vr{constructor(e={}){super();te(this,it);this.config=e,Q(this,it,new Map)}build(e,s,r){const n=s.queryKey,a=s.queryHash??Wn(n,s);let i=this.get(a);return i||(i=new ym({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(s),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){k(this,it).has(e.queryHash)||(k(this,it).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=k(this,it).get(e.queryHash);s&&(e.destroy(),s===e&&k(this,it).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){De.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return k(this,it).get(e)}getAll(){return[...k(this,it).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(r=>Si(s,r))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(r=>Si(e,r)):s}notify(e){De.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){De.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){De.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},it=new WeakMap,Fi),ot,Ie,Jt,lt,Ct,Mi,wm=(Mi=class extends Ol{constructor(e){super();te(this,lt);te(this,ot);te(this,Ie);te(this,Jt);this.mutationId=e.mutationId,Q(this,Ie,e.mutationCache),Q(this,ot,[]),this.state=e.state||km(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){k(this,ot).includes(e)||(k(this,ot).push(e),this.clearGcTimeout(),k(this,Ie).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Q(this,ot,k(this,ot).filter(s=>s!==e)),this.scheduleGc(),k(this,Ie).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){k(this,ot).length||(this.state.status==="pending"?this.scheduleGc():k(this,Ie).remove(this))}continue(){return k(this,Jt)?.continue()??this.execute(this.state.variables)}async execute(e){const s=()=>{Re(this,lt,Ct).call(this,{type:"continue"})};Q(this,Jt,Rl({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,i)=>{Re(this,lt,Ct).call(this,{type:"failed",failureCount:a,error:i})},onPause:()=>{Re(this,lt,Ct).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,Ie).canRun(this)}));const r=this.state.status==="pending",n=!k(this,Jt).canStart();try{if(r)s();else{Re(this,lt,Ct).call(this,{type:"pending",variables:e,isPaused:n}),await k(this,Ie).config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&Re(this,lt,Ct).call(this,{type:"pending",context:i,variables:e,isPaused:n})}const a=await k(this,Jt).start();return await k(this,Ie).config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await k(this,Ie).config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),Re(this,lt,Ct).call(this,{type:"success",data:a}),a}catch(a){try{throw await k(this,Ie).config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await k(this,Ie).config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{Re(this,lt,Ct).call(this,{type:"error",error:a})}}finally{k(this,Ie).runNext(this)}}},ot=new WeakMap,Ie=new WeakMap,Jt=new WeakMap,lt=new WeakSet,Ct=function(e){const s=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),De.batch(()=>{k(this,ot).forEach(r=>{r.onMutationUpdate(e)}),k(this,Ie).notify({mutation:this,type:"updated",action:e})})},Mi);function km(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vt,et,er,Vi,Sm=(Vi=class extends Vr{constructor(e={}){super();te(this,vt);te(this,et);te(this,er);this.config=e,Q(this,vt,new Set),Q(this,et,new Map),Q(this,er,0)}build(e,s,r){const n=new wm({mutationCache:this,mutationId:++nr(this,er)._,options:e.defaultMutationOptions(s),state:r});return this.add(n),n}add(e){k(this,vt).add(e);const s=lr(e);if(typeof s=="string"){const r=k(this,et).get(s);r?r.push(e):k(this,et).set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(k(this,vt).delete(e)){const s=lr(e);if(typeof s=="string"){const r=k(this,et).get(s);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&k(this,et).delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=lr(e);if(typeof s=="string"){const n=k(this,et).get(s)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const s=lr(e);return typeof s=="string"?k(this,et).get(s)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){De.batch(()=>{k(this,vt).forEach(e=>{this.notify({type:"removed",mutation:e})}),k(this,vt).clear(),k(this,et).clear()})}getAll(){return Array.from(k(this,vt))}find(e){const s={exact:!0,...e};return this.getAll().find(r=>_i(s,r))}findAll(e={}){return this.getAll().filter(s=>_i(e,s))}notify(e){De.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return De.batch(()=>Promise.all(e.map(s=>s.continue().catch(Ye))))}},vt=new WeakMap,et=new WeakMap,er=new WeakMap,Vi);function lr(t){return t.options.scope?.id}function Ni(t){return{onFetch:(e,s)=>{const r=e.options,n=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],i=e.state.data?.pageParams||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let u=!1;const f=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},x=El(e.options,e.fetchOptions),b=async(m,y,S)=>{if(u)return Promise.reject();if(y==null&&m.pages.length)return Promise.resolve(m);const g=(()=>{const M={client:e.client,queryKey:e.queryKey,pageParam:y,direction:S?"backward":"forward",meta:e.options.meta};return f(M),M})(),N=await x(g),{maxPages:R}=e.options,E=S?dm:cm;return{pages:E(m.pages,N,R),pageParams:E(m.pageParams,y,R)}};if(n&&a.length){const m=n==="backward",y=m?_m:Ei,S={pages:a,pageParams:i},C=y(r,S);o=await b(S,C,m)}else{const m=t??a.length;do{const y=c===0?i[0]??r.initialPageParam:Ei(r,o);if(c>0&&y==null)break;o=await b(o,y),c++}while(c<m)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s):e.fetchFn=d}}}function Ei(t,{pages:e,pageParams:s}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,s[r],s):void 0}function _m(t,{pages:e,pageParams:s}){return e.length>0?t.getPreviousPageParam?.(e[0],e,s[0],s):void 0}var ge,At,Pt,vs,xs,Rt,bs,ws,$i,Cm=($i=class{constructor(t={}){te(this,ge);te(this,At);te(this,Pt);te(this,vs);te(this,xs);te(this,Rt);te(this,bs);te(this,ws);Q(this,ge,t.queryCache||new bm),Q(this,At,t.mutationCache||new Sm),Q(this,Pt,t.defaultOptions||{}),Q(this,vs,new Map),Q(this,xs,new Map),Q(this,Rt,0)}mount(){nr(this,Rt)._++,k(this,Rt)===1&&(Q(this,bs,jl.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,ge).onFocus())})),Q(this,ws,Nr.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,ge).onOnline())})))}unmount(){var t,e;nr(this,Rt)._--,k(this,Rt)===0&&((t=k(this,bs))==null||t.call(this),Q(this,bs,void 0),(e=k(this,ws))==null||e.call(this),Q(this,ws,void 0))}isFetching(t){return k(this,ge).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return k(this,At).findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return k(this,ge).get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=k(this,ge).build(this,e),r=s.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(kn(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return k(this,ge).findAll(t).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(t,e,s){const r=this.defaultQueryOptions({queryKey:t}),a=k(this,ge).get(r.queryHash)?.state.data,i=rm(e,a);if(i!==void 0)return k(this,ge).build(this,r).setData(i,{...s,manual:!0})}setQueriesData(t,e,s){return De.batch(()=>k(this,ge).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return k(this,ge).get(e.queryHash)?.state}removeQueries(t){const e=k(this,ge);De.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=k(this,ge);return De.batch(()=>(s.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},r=De.batch(()=>k(this,ge).findAll(t).map(n=>n.cancel(s)));return Promise.all(r).then(Ye).catch(Ye)}invalidateQueries(t,e={}){return De.batch(()=>(k(this,ge).findAll(t).forEach(s=>{s.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},r=De.batch(()=>k(this,ge).findAll(t).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let a=n.fetch(void 0,s);return s.throwOnError||(a=a.catch(Ye)),n.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Ye)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=k(this,ge).build(this,e);return s.isStaleByTime(kn(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ye).catch(Ye)}fetchInfiniteQuery(t){return t.behavior=Ni(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ye).catch(Ye)}ensureInfiniteQueryData(t){return t.behavior=Ni(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Nr.isOnline()?k(this,At).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,ge)}getMutationCache(){return k(this,At)}getDefaultOptions(){return k(this,Pt)}setDefaultOptions(t){Q(this,Pt,t)}setQueryDefaults(t,e){k(this,vs).set(Js(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...k(this,vs).values()],s={};return e.forEach(r=>{Ys(t,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(t,e){k(this,xs).set(Js(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...k(this,xs).values()],s={};return e.forEach(r=>{Ys(t,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...k(this,Pt).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Wn(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Qn&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...k(this,Pt).mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){k(this,ge).clear(),k(this,At).clear()}},ge=new WeakMap,At=new WeakMap,Pt=new WeakMap,vs=new WeakMap,xs=new WeakMap,Rt=new WeakMap,bs=new WeakMap,ws=new WeakMap,$i),Il=h.createContext(void 0),$m=t=>{const e=h.useContext(Il);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},ji=({client:t,children:e})=>(h.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(Il.Provider,{value:t,children:e}));const Tm={theme:"light",setTheme:()=>null},Nm=h.createContext(Tm);function Ai({children:t,storageKey:e="vite-ui-theme",...s}){const[r,n]=h.useState(()=>(localStorage.removeItem(e),localStorage.setItem(e,"light"),"light"));h.useEffect(()=>{const i=window.document.documentElement;if(i.classList.remove("light","dark"),r==="system"){const o=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";i.classList.add(o);return}i.classList.add(r)},[r]);const a={theme:r,setTheme:i=>{localStorage.setItem(e,i),n(i)}};return l.jsx(Nm.Provider,{...s,value:a,children:t})}function Pi(t){return t.replace(/\/api\/api\//g,"/api/")}const Em=window.fetch;window.fetch=async(t,e)=>(typeof t=="string"?t=Pi(t):t instanceof URL&&(t=new URL(Pi(t.toString()))),Em(t,e));window.fetchDashboard=async()=>{console.log("fetchDashboard called - fetching dashboard data");try{return{success:!0,message:"Dashboard data fetched successfully"}}catch(t){return console.error("Error fetching dashboard:",t),{success:!1,message:"Failed to fetch dashboard data"}}};const Ri=new Cm({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:!1,staleTime:5*60*1e3}}});sm.initialize().then(()=>{Xr(document.getElementById("root")).render(l.jsx(h.StrictMode,{children:l.jsx(Ai,{defaultTheme:"light",storageKey:"affiliate-platform-theme",children:l.jsx(ji,{client:Ri,children:l.jsx(Za,{children:l.jsx(ja,{children:l.jsx(Wa,{children:l.jsx(ri,{})})})})})})}))}).catch(t=>{console.error("Failed to initialize i18n service:",t),Xr(document.getElementById("root")).render(l.jsx(h.StrictMode,{children:l.jsx(Ai,{defaultTheme:"light",storageKey:"affiliate-platform-theme",children:l.jsx(ji,{client:Ri,children:l.jsx(Za,{children:l.jsx(ja,{children:l.jsx(Wa,{children:l.jsx(ri,{})})})})})})}))});export{zs as $,id as A,Fe as B,bt as C,hd as D,qs as E,Rr as F,fd as G,Or as H,Ve as I,Us as J,Xc as K,Te as L,Br as M,rd as N,An as O,yd as P,ua as Q,xd as R,vd as S,fa as T,wd as U,pd as V,ud as W,_d as X,kd as Y,Ba as Z,so as _,ae as a,an as a0,Cm as a1,Vr as a2,Mm as a3,Js as a4,km as a5,De as a6,Ye as a7,Vm as a8,Gr as a9,ia as aa,Fm as ab,nh as ac,Dm as ad,od as ae,rh as af,md as ag,Pn as ah,hm as ai,im as aj,kn as ak,$r as al,nm as am,am as an,jl as ao,vm as ap,lm as aq,Cd as b,J as c,Un as d,It as e,Lt as f,wt as g,Af as h,ul as i,Pf as j,pl as k,hr as l,Ji as m,pr as n,Ar as o,nn as p,Ds as q,$m as r,rs as s,vl as t,qn as u,ar as v,bd as w,da as x,ld as y,cr as z};
