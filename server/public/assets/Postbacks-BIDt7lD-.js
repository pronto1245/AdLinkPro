import{j as e}from"./ui-CkQMVfNu.js";import{r as x}from"./vendor-DazevGLP.js";import{u as Q}from"./useQuery-IUx4ZSsA.js";import{d as de,r as oe,B as o,C as M,e as R,f as V,g as B,S as he,P as O,z as xe,y as me,E as ue,L as r,I as l,h as g,i as f,j as y,k as N,l as n,G as q,T as pe}from"./index-Hu68kGEe.js";import{u as T}from"./useMutation-HxEtoRum.js";import{T as je}from"./textarea-DGF4QzFC.js";import{S as k}from"./switch-BurhKlWt.js";import{B as h}from"./badge-BPEJ7H1K.js";import{T as ve,a as ge,b as K,c as L}from"./tabs-BOkB6Db_.js";import{D as $,a as F,b as _,c as A,d as z}from"./dialog-CMra4o9L.js";import{T as fe,a as ye,b as G,c as m,d as Ne,e as u}from"./table-D9zFYVHJ.js";import{P as J}from"./plus-CDknCoO7.js";import{R as Z}from"./refresh-cw-h8d32cyt.js";import{P as ke}from"./play-7Q2Ehrbv.js";import{T as be}from"./trash-2-BgkAOTI8.js";import{C as Ce}from"./clock-HOqnpwZm.js";import{Z as we}from"./zap-CRlwIYkF.js";import"./utils-B-_CankM.js";const Te={name:"",trackerType:"custom",scopeType:"global",priority:100,enabled:!0,endpointUrl:"",method:"GET",idParam:"clickid",statusMap:{open:"open",reg:"lead",deposit:"sale",lp_click:"click"},paramsTemplate:{clickid:"{{clickid}}",status:"{{status}}",revenue:"{{revenue}}",currency:"{{currency}}",country:"{{country_iso}}"},urlEncode:!0,hmacEnabled:!1,retries:5,timeoutMs:4e3,backoffBaseSec:2,filterRevenueGt0:!1,filterCountryWhitelist:[],filterCountryBlacklist:[],filterExcludeBots:!0};function qe(){const[p,S]=x.useState(null),[W,j]=x.useState(!1),[X,b]=x.useState(!1),[Y,E]=x.useState(!1),[ee,se]=x.useState("profiles"),[d,C]=x.useState({clickid:"",type:"reg",revenue:"100",currency:"USD"}),{toast:D}=de(),P=oe(),{data:I,isLoading:ae}=Q({queryKey:["/api/postback/profiles"],queryFn:async()=>{const s=localStorage.getItem("auth_token"),c=await fetch("/api/postback/profiles",{headers:{Authorization:`Bearer ${s}`}});if(!c.ok)throw new Error("Failed to fetch profiles");return c.json()}}),{data:te}=Q({queryKey:["/api/postback/deliveries"],queryFn:async()=>{const s=localStorage.getItem("auth_token"),c=await fetch("/api/postback/deliveries",{headers:{Authorization:`Bearer ${s}`}});if(!c.ok)throw new Error("Failed to fetch deliveries");return c.json()}}),ie=T({mutationFn:async s=>{const c=localStorage.getItem("auth_token"),a=await fetch("/api/postback/profiles",{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok)throw new Error("Failed to create profile");return a.json()},onSuccess:()=>{P.invalidateQueries({queryKey:["/api/postback/profiles"]}),j(!1),D({title:"Профиль создан",description:"Постбек профиль успешно создан"})}}),H=T({mutationFn:async({id:s,...c})=>{const a=localStorage.getItem("auth_token"),i=await fetch(`/api/postback/profiles/${s}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(c)});if(!i.ok)throw new Error("Failed to update profile");return i.json()},onSuccess:()=>{P.invalidateQueries({queryKey:["/api/postback/profiles"]}),b(!1),S(null),D({title:"Профиль обновлен",description:"Постбек профиль успешно обновлен"})}}),re=T({mutationFn:async s=>{const c=localStorage.getItem("auth_token");if(!(await fetch(`/api/postback/profiles/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${c}`}})).ok)throw new Error("Failed to delete profile")},onSuccess:()=>{P.invalidateQueries({queryKey:["/api/postback/profiles"]}),D({title:"Профиль удален",description:"Постбек профиль успешно удален"})}}),v=T({mutationFn:async({profileId:s,testData:c})=>{const a=localStorage.getItem("auth_token"),i=await fetch(`/api/postback/profiles/${s}/test`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(c)});if(!i.ok)throw new Error("Failed to test postback");return i.json()}}),ce=s=>{switch(s){case"global":return e.jsx(q,{className:"h-4 w-4"});case"campaign":return e.jsx(pe,{className:"h-4 w-4"});case"offer":return e.jsx(we,{className:"h-4 w-4"});case"flow":return e.jsx(O,{className:"h-4 w-4"});default:return e.jsx(q,{className:"h-4 w-4"})}},le=(s,c)=>s?c?e.jsx(h,{variant:"default",children:"Активен"}):e.jsx(h,{variant:"outline",children:"Нет доставок"}):e.jsx(h,{variant:"secondary",children:"Отключен"}),U=({profile:s,onSave:c})=>{const[a,i]=x.useState(s);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Название"}),e.jsx(l,{value:a.name||"",onChange:t=>i({...a,name:t.target.value}),placeholder:"Keitaro Tracker","data-testid":"input-profile-name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Тип трекера"}),e.jsxs(g,{value:a.trackerType,onValueChange:t=>i({...a,trackerType:t}),children:[e.jsx(f,{"data-testid":"select-tracker-type",children:e.jsx(y,{})}),e.jsxs(N,{children:[e.jsx(n,{value:"keitaro",children:"Keitaro"}),e.jsx(n,{value:"custom",children:"Пользовательский"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Область применения"}),e.jsxs(g,{value:a.scopeType,onValueChange:t=>i({...a,scopeType:t}),children:[e.jsx(f,{"data-testid":"select-scope-type",children:e.jsx(y,{})}),e.jsxs(N,{children:[e.jsx(n,{value:"global",children:"Глобально"}),e.jsx(n,{value:"campaign",children:"Кампания"}),e.jsx(n,{value:"offer",children:"Оффер"}),e.jsx(n,{value:"flow",children:"Поток"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Приоритет"}),e.jsx(l,{type:"number",value:a.priority||100,onChange:t=>i({...a,priority:parseInt(t.target.value)}),"data-testid":"input-priority"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium",children:"Настройки эндпоинта"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(r,{children:"URL эндпоинта"}),e.jsx(l,{value:a.endpointUrl||"",onChange:t=>i({...a,endpointUrl:t.target.value}),placeholder:"https://tracker.com/postback","data-testid":"input-endpoint-url"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Метод"}),e.jsxs(g,{value:a.method,onValueChange:t=>i({...a,method:t}),children:[e.jsx(f,{"data-testid":"select-method",children:e.jsx(y,{})}),e.jsxs(N,{children:[e.jsx(n,{value:"GET",children:"GET"}),e.jsx(n,{value:"POST",children:"POST"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"ID параметр"}),e.jsxs(g,{value:a.idParam,onValueChange:t=>i({...a,idParam:t}),children:[e.jsx(f,{"data-testid":"select-id-param",children:e.jsx(y,{})}),e.jsxs(N,{children:[e.jsx(n,{value:"clickid",children:"clickid"}),e.jsx(n,{value:"subid",children:"subid"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[e.jsx(k,{checked:a.urlEncode||!1,onCheckedChange:t=>i({...a,urlEncode:t}),"data-testid":"switch-url-encode"}),e.jsx(r,{children:"URL-кодирование"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium",children:"Маппинг статусов"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(a.statusMap||{}).map(([t,w])=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:t}),e.jsx(l,{value:w,onChange:ne=>i({...a,statusMap:{...a.statusMap,[t]:ne.target.value}}),"data-testid":`input-status-${t}`})]},t))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium",children:"Шаблон параметров"}),e.jsx(je,{value:JSON.stringify(a.paramsTemplate||{},null,2),onChange:t=>{try{const w=JSON.parse(t.target.value);i({...a,paramsTemplate:w})}catch{}},className:"font-mono text-sm",rows:8,placeholder:'{\\n  "clickid": "{{clickid}}",\\n  "status": "{{status}}",\\n  "revenue": "{{revenue}}"\\n}',"data-testid":"textarea-params-template"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium",children:"Аутентификация"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Query ключ"}),e.jsx(l,{value:a.authQueryKey||"",onChange:t=>i({...a,authQueryKey:t.target.value}),placeholder:"api_key","data-testid":"input-auth-query-key"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Query значение"}),e.jsx(l,{type:"password",value:a.authQueryVal||"",onChange:t=>i({...a,authQueryVal:t.target.value}),placeholder:"your_api_key","data-testid":"input-auth-query-val"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Header имя"}),e.jsx(l,{value:a.authHeaderName||"",onChange:t=>i({...a,authHeaderName:t.target.value}),placeholder:"Authorization","data-testid":"input-auth-header-name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Header значение"}),e.jsx(l,{type:"password",value:a.authHeaderVal||"",onChange:t=>i({...a,authHeaderVal:t.target.value}),placeholder:"Bearer token","data-testid":"input-auth-header-val"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{checked:a.hmacEnabled||!1,onCheckedChange:t=>i({...a,hmacEnabled:t}),"data-testid":"switch-hmac-enabled"}),e.jsx(r,{children:"Включить HMAC подпись"})]}),a.hmacEnabled&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"HMAC секрет"}),e.jsx(l,{type:"password",value:a.hmacSecret||"",onChange:t=>i({...a,hmacSecret:t.target.value}),"data-testid":"input-hmac-secret"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Имя параметра подписи"}),e.jsx(l,{value:a.hmacParamName||"signature",onChange:t=>i({...a,hmacParamName:t.target.value}),"data-testid":"input-hmac-param-name"})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(r,{children:"Шаблон для подписи"}),e.jsx(l,{value:a.hmacPayloadTpl||"",onChange:t=>i({...a,hmacPayloadTpl:t.target.value}),placeholder:"{{clickid}}{{status}}{{revenue}}","data-testid":"input-hmac-payload"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium",children:"Настройки повторов"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Попытки"}),e.jsx(l,{type:"number",value:a.retries||5,onChange:t=>i({...a,retries:parseInt(t.target.value)}),"data-testid":"input-retries"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Таймаут (мс)"}),e.jsx(l,{type:"number",value:a.timeoutMs||4e3,onChange:t=>i({...a,timeoutMs:parseInt(t.target.value)}),"data-testid":"input-timeout"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Базовая задержка (сек)"}),e.jsx(l,{type:"number",value:a.backoffBaseSec||2,onChange:t=>i({...a,backoffBaseSec:parseInt(t.target.value)}),"data-testid":"input-backoff"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium",children:"Фильтры"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{checked:a.filterRevenueGt0||!1,onCheckedChange:t=>i({...a,filterRevenueGt0:t}),"data-testid":"switch-filter-revenue"}),e.jsx(r,{children:"Только с доходом > 0"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{checked:a.filterExcludeBots||!1,onCheckedChange:t=>i({...a,filterExcludeBots:t}),"data-testid":"switch-filter-bots"}),e.jsx(r,{children:"Исключать ботов"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(o,{variant:"outline",onClick:()=>{j(!1),b(!1)},"data-testid":"button-cancel",children:"Отмена"}),e.jsx(o,{onClick:()=>c(a),disabled:!a.name||!a.endpointUrl,"data-testid":"button-save",children:"Сохранить"})]})]})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Постбеки"}),e.jsx("p",{className:"text-muted-foreground",children:"Управление интеграциями с трекерами и системами аналитики"})]}),e.jsxs(o,{onClick:()=>j(!0),"data-testid":"button-create-profile",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Создать профиль"]})]}),e.jsxs(ve,{value:ee,onValueChange:se,children:[e.jsxs(ge,{children:[e.jsx(K,{value:"profiles",children:"Профили"}),e.jsx(K,{value:"logs",children:"Логи доставок"})]}),e.jsx(L,{value:"profiles",className:"space-y-4",children:ae?e.jsxs("div",{className:"flex items-center justify-center h-32",children:[e.jsx(Z,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Загрузка профилей..."})]}):e.jsxs("div",{className:"grid gap-4",children:[I?.map(s=>e.jsxs(M,{className:"hover:shadow-md transition-shadow",children:[e.jsx(R,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[ce(s.scopeType),e.jsx(V,{className:"text-lg",children:s.name}),e.jsx(h,{variant:"outline",children:s.trackerType})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[le(s.enabled,s.lastDelivery),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Приоритет: ",s.priority]})]})]})}),e.jsxs(B,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Эндпоинт"}),e.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[s.method," ",s.endpointUrl]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Область"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.scopeType," ",s.scopeId?`(${s.scopeId})`:""]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Последняя доставка"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.lastDelivery?new Date(s.lastDelivery).toLocaleString("ru-RU"):"Не было"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{checked:s.enabled,onCheckedChange:c=>{H.mutate({...s,enabled:c})},"data-testid":`switch-enabled-${s.id}`}),e.jsx("span",{className:"text-sm",children:"Включен"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>{S(s),E(!0)},"data-testid":`button-test-${s.id}`,children:[e.jsx(ke,{className:"h-3 w-3 mr-1"}),"Тест"]}),e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>{S(s),b(!0)},"data-testid":`button-edit-${s.id}`,children:[e.jsx(he,{className:"h-3 w-3 mr-1"}),"Настройки"]}),e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>re.mutate(s.id),"data-testid":`button-delete-${s.id}`,children:[e.jsx(be,{className:"h-3 w-3 mr-1"}),"Удалить"]})]})]})]})]},s.id)),(!I||I.length===0)&&e.jsx(M,{children:e.jsxs(B,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(O,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Нет постбек профилей"}),e.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Создайте первый профиль для интеграции с трекерами"}),e.jsxs(o,{onClick:()=>j(!0),children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Создать профиль"]})]})})]})}),e.jsx(L,{value:"logs",className:"space-y-4",children:e.jsxs(M,{children:[e.jsxs(R,{children:[e.jsx(V,{children:"Логи доставок"}),e.jsx(xe,{children:"История отправки постбеков в трекеры"})]}),e.jsx(B,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(fe,{children:[e.jsx(ye,{children:e.jsxs(G,{children:[e.jsx(m,{children:"Время"}),e.jsx(m,{children:"Профиль"}),e.jsx(m,{children:"ClickID"}),e.jsx(m,{children:"Попытка"}),e.jsx(m,{children:"Статус"}),e.jsx(m,{children:"Длительность"}),e.jsx(m,{children:"Действия"})]})}),e.jsx(Ne,{children:te?.map(s=>e.jsxs(G,{children:[e.jsx(u,{children:new Date(s.createdAt).toLocaleString("ru-RU")}),e.jsx(u,{children:e.jsx(h,{variant:"outline",children:s.profileName})}),e.jsx(u,{className:"font-mono text-sm",children:s.clickid}),e.jsxs(u,{children:[s.attempt,"/",s.maxAttempts]}),e.jsx(u,{children:s.responseCode?e.jsx(h,{variant:s.responseCode>=200&&s.responseCode<300?"default":"destructive",children:s.responseCode}):s.error?e.jsxs(h,{variant:"destructive",children:[e.jsx(me,{className:"h-3 w-3 mr-1"}),"Ошибка"]}):e.jsxs(h,{variant:"secondary",children:[e.jsx(Ce,{className:"h-3 w-3 mr-1"}),"В обработке"]})}),e.jsx(u,{children:s.durationMs?`${s.durationMs}мс`:"-"}),e.jsx(u,{children:e.jsx(o,{variant:"outline",size:"sm",onClick:()=>{},"data-testid":`button-view-delivery-${s.id}`,children:e.jsx(ue,{className:"h-3 w-3"})})})]},s.id))})]})})})]})})]}),e.jsx($,{open:W,onOpenChange:j,children:e.jsxs(F,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(_,{children:[e.jsx(A,{children:"Создать постбек профиль"}),e.jsx(z,{children:"Настройте интеграцию с трекером для автоматической передачи событий"})]}),e.jsx(U,{profile:Te,onSave:s=>ie.mutate(s)})]})}),e.jsx($,{open:X,onOpenChange:b,children:e.jsxs(F,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(_,{children:[e.jsx(A,{children:"Редактировать профиль"}),e.jsx(z,{children:"Изменить настройки постбек профиля"})]}),p&&e.jsx(U,{profile:p,onSave:s=>H.mutate({...p,...s})})]})}),e.jsx($,{open:Y,onOpenChange:E,children:e.jsxs(F,{children:[e.jsxs(_,{children:[e.jsx(A,{children:"Тестировать постбек"}),e.jsx(z,{children:"Отправить тестовое событие для проверки интеграции"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"ClickID"}),e.jsx(l,{value:d.clickid,onChange:s=>C({...d,clickid:s.target.value}),placeholder:"test-click-123","data-testid":"input-test-clickid"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Тип события"}),e.jsxs(g,{value:d.type,onValueChange:s=>C({...d,type:s}),children:[e.jsx(f,{"data-testid":"select-test-type",children:e.jsx(y,{})}),e.jsxs(N,{children:[e.jsx(n,{value:"open",children:"open"}),e.jsx(n,{value:"reg",children:"reg"}),e.jsx(n,{value:"deposit",children:"deposit"}),e.jsx(n,{value:"lp_click",children:"lp_click"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Сумма"}),e.jsx(l,{value:d.revenue,onChange:s=>C({...d,revenue:s.target.value}),placeholder:"100","data-testid":"input-test-revenue"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Валюта"}),e.jsx(l,{value:d.currency,onChange:s=>C({...d,currency:s.target.value}),placeholder:"USD","data-testid":"input-test-currency"})]})]}),v.data&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Результат теста"}),e.jsx("div",{className:"p-3 bg-muted rounded-md",children:e.jsx("pre",{className:"text-sm overflow-x-auto",children:JSON.stringify(v.data,null,2)})})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(o,{variant:"outline",onClick:()=>E(!1),"data-testid":"button-test-cancel",children:"Отмена"}),e.jsxs(o,{onClick:()=>p&&v.mutate({profileId:p.id,testData:d}),disabled:!d.clickid||v.isPending,"data-testid":"button-test-send",children:[v.isPending?e.jsx(Z,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(O,{className:"h-4 w-4 mr-2"}),"Отправить тест"]})]})]})]})})]})}export{qe as AdvertiserPostbacks,qe as default};
