import{j as e,c as Te,P as z,u as es,g as ss,d as X,b as J,p as ts,e as as}from"./ui-CkQMVfNu.js";import{r as p}from"./vendor-DazevGLP.js";import{c as ge,a as Ie,Z as Ee,_ as rs,u as ns,d as is,r as cs,n as we,h as Q,i as Z,j as ee,k as se,l as g,B as L,C as R,e as T,f as I,g as E,O as ls,L as m,I as ae,E as ds,o as ke,y as Se,G as os,N as xs}from"./index-Hu68kGEe.js";import{u as he}from"./useQuery-IUx4ZSsA.js";import{u as ue}from"./useMutation-HxEtoRum.js";import{B as F}from"./badge-BPEJ7H1K.js";import{T as hs,a as us,b as re,c as ne}from"./tabs-BOkB6Db_.js";import{S as A}from"./switch-BurhKlWt.js";import{D as ms,a as fs,b as ps,c as js}from"./dialog-CMra4o9L.js";import{T as gs,a as vs,b as ie,c as B,d as bs,e as V}from"./table-D9zFYVHJ.js";import{a as G}from"./queryClient-Cc5pa0C1.js";import{R as ys}from"./refresh-cw-h8d32cyt.js";import{A as Ns}from"./activity-aTdJAE09.js";import{D as me}from"./download-BE2ywTvs.js";import{Z as ws}from"./zap-CRlwIYkF.js";import{U as ks}from"./upload-DfoVTwZM.js";import"./utils-B-_CankM.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=ge("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=ge("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=ge("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var ve="Progress",be=100,[Ps,pt]=Te(ve),[Ds,Rs]=Ps(ve),_e=p.forwardRef((t,a)=>{const{__scopeProgress:i,value:n=null,max:c,getValueLabel:h=Ts,...o}=t;(c||c===0)&&!Pe(c)&&console.error(Is(`${c}`,"Progress"));const r=Pe(c)?c:be;n!==null&&!De(n,r)&&console.error(Es(`${n}`,"Progress"));const f=De(n,r)?n:null,x=de(f)?h(f,r):void 0;return e.jsx(Ds,{scope:i,value:f,max:r,children:e.jsx(z.div,{"aria-valuemax":r,"aria-valuemin":0,"aria-valuenow":de(f)?f:void 0,"aria-valuetext":x,role:"progressbar","data-state":Ve(f,r),"data-value":f??void 0,"data-max":r,...o,ref:a})})});_e.displayName=ve;var Me="ProgressIndicator",Ae=p.forwardRef((t,a)=>{const{__scopeProgress:i,...n}=t,c=Rs(Me,i);return e.jsx(z.div,{"data-state":Ve(c.value,c.max),"data-value":c.value??void 0,"data-max":c.max,...n,ref:a})});Ae.displayName=Me;function Ts(t,a){return`${Math.round(t/a*100)}%`}function Ve(t,a){return t==null?"indeterminate":t===a?"complete":"loading"}function de(t){return typeof t=="number"}function Pe(t){return de(t)&&!isNaN(t)&&t>0}function De(t,a){return de(t)&&!isNaN(t)&&t<=a&&t>=0}function Is(t,a){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${a}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${be}\`.`}function Es(t,a){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${a}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${be} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Le=_e,_s=Ae;const le=p.forwardRef(({className:t,value:a,...i},n)=>e.jsx(Le,{ref:n,className:Ie("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...i,children:e.jsx(_s,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})}));le.displayName=Le.displayName;var Be=["PageUp","PageDown"],Oe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Fe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},W="Slider",[fe,Ms,As]=ss(W),[Ke,jt]=Te(W,[As]),[Vs,oe]=Ke(W),$e=p.forwardRef((t,a)=>{const{name:i,min:n=0,max:c=100,step:h=1,orientation:o="horizontal",disabled:r=!1,minStepsBetweenThumbs:f=0,defaultValue:x=[n],value:b,onValueChange:l=()=>{},onValueCommit:j=()=>{},inverted:k=!1,form:P,...S}=t,y=p.useRef(new Set),d=p.useRef(0),C=o==="horizontal"?Ls:Bs,[w=[],U]=es({prop:b,defaultProp:x,onChange:s=>{[...y.current][d.current]?.focus(),l(s)}}),N=p.useRef(w);function $(s){const u=Us(w,s);O(s,u)}function xe(s){O(s,d.current)}function q(){const s=N.current[d.current];w[d.current]!==s&&j(w)}function O(s,u,{commit:_}={commit:!1}){const D=Ys(h),M=Gs(Math.round((s-n)/h)*h+n,D),v=Ee(M,[n,c]);U((Y=[])=>{const H=Ks(Y,v,u);if(qs(H,f*h)){d.current=H.indexOf(v);const Ne=String(H)!==String(Y);return Ne&&_&&j(H),Ne?H:Y}else return Y})}return e.jsx(Vs,{scope:t.__scopeSlider,name:i,disabled:r,min:n,max:c,valueIndexToChangeRef:d,thumbs:y.current,values:w,orientation:o,form:P,children:e.jsx(fe.Provider,{scope:t.__scopeSlider,children:e.jsx(fe.Slot,{scope:t.__scopeSlider,children:e.jsx(C,{"aria-disabled":r,"data-disabled":r?"":void 0,...S,ref:a,onPointerDown:X(S.onPointerDown,()=>{r||(N.current=w)}),min:n,max:c,inverted:k,onSlideStart:r?void 0:$,onSlideMove:r?void 0:xe,onSlideEnd:r?void 0:q,onHomeKeyDown:()=>!r&&O(n,0,{commit:!0}),onEndKeyDown:()=>!r&&O(c,w.length-1,{commit:!0}),onStepKeyDown:({event:s,direction:u})=>{if(!r){const M=Be.includes(s.key)||s.shiftKey&&Oe.includes(s.key)?10:1,v=d.current,Y=w[v],H=h*M*u;O(Y+H,v,{commit:!0})}}})})})})});$e.displayName=W;var[Ue,He]=Ke(W,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ls=p.forwardRef((t,a)=>{const{min:i,max:n,dir:c,inverted:h,onSlideStart:o,onSlideMove:r,onSlideEnd:f,onStepKeyDown:x,...b}=t,[l,j]=p.useState(null),k=J(a,C=>j(C)),P=p.useRef(void 0),S=ts(c),y=S==="ltr",d=y&&!h||!y&&h;function K(C){const w=P.current||l.getBoundingClientRect(),U=[0,w.width],$=ye(U,d?[i,n]:[n,i]);return P.current=w,$(C-w.left)}return e.jsx(Ue,{scope:t.__scopeSlider,startEdge:d?"left":"right",endEdge:d?"right":"left",direction:d?1:-1,size:"width",children:e.jsx(ze,{dir:S,"data-orientation":"horizontal",...b,ref:k,style:{...b.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:C=>{const w=K(C.clientX);o?.(w)},onSlideMove:C=>{const w=K(C.clientX);r?.(w)},onSlideEnd:()=>{P.current=void 0,f?.()},onStepKeyDown:C=>{const U=Fe[d?"from-left":"from-right"].includes(C.key);x?.({event:C,direction:U?-1:1})}})})}),Bs=p.forwardRef((t,a)=>{const{min:i,max:n,inverted:c,onSlideStart:h,onSlideMove:o,onSlideEnd:r,onStepKeyDown:f,...x}=t,b=p.useRef(null),l=J(a,b),j=p.useRef(void 0),k=!c;function P(S){const y=j.current||b.current.getBoundingClientRect(),d=[0,y.height],C=ye(d,k?[n,i]:[i,n]);return j.current=y,C(S-y.top)}return e.jsx(Ue,{scope:t.__scopeSlider,startEdge:k?"bottom":"top",endEdge:k?"top":"bottom",size:"height",direction:k?1:-1,children:e.jsx(ze,{"data-orientation":"vertical",...x,ref:l,style:{...x.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const y=P(S.clientY);h?.(y)},onSlideMove:S=>{const y=P(S.clientY);o?.(y)},onSlideEnd:()=>{j.current=void 0,r?.()},onStepKeyDown:S=>{const d=Fe[k?"from-bottom":"from-top"].includes(S.key);f?.({event:S,direction:d?-1:1})}})})}),ze=p.forwardRef((t,a)=>{const{__scopeSlider:i,onSlideStart:n,onSlideMove:c,onSlideEnd:h,onHomeKeyDown:o,onEndKeyDown:r,onStepKeyDown:f,...x}=t,b=oe(W,i);return e.jsx(z.span,{...x,ref:a,onKeyDown:X(t.onKeyDown,l=>{l.key==="Home"?(o(l),l.preventDefault()):l.key==="End"?(r(l),l.preventDefault()):Be.concat(Oe).includes(l.key)&&(f(l),l.preventDefault())}),onPointerDown:X(t.onPointerDown,l=>{const j=l.target;j.setPointerCapture(l.pointerId),l.preventDefault(),b.thumbs.has(j)?j.focus():n(l)}),onPointerMove:X(t.onPointerMove,l=>{l.target.hasPointerCapture(l.pointerId)&&c(l)}),onPointerUp:X(t.onPointerUp,l=>{const j=l.target;j.hasPointerCapture(l.pointerId)&&(j.releasePointerCapture(l.pointerId),h(l))})})}),qe="SliderTrack",Ye=p.forwardRef((t,a)=>{const{__scopeSlider:i,...n}=t,c=oe(qe,i);return e.jsx(z.span,{"data-disabled":c.disabled?"":void 0,"data-orientation":c.orientation,...n,ref:a})});Ye.displayName=qe;var pe="SliderRange",Ge=p.forwardRef((t,a)=>{const{__scopeSlider:i,...n}=t,c=oe(pe,i),h=He(pe,i),o=p.useRef(null),r=J(a,o),f=c.values.length,x=c.values.map(j=>We(j,c.min,c.max)),b=f>1?Math.min(...x):0,l=100-Math.max(...x);return e.jsx(z.span,{"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,...n,ref:r,style:{...t.style,[h.startEdge]:b+"%",[h.endEdge]:l+"%"}})});Ge.displayName=pe;var je="SliderThumb",Xe=p.forwardRef((t,a)=>{const i=Ms(t.__scopeSlider),[n,c]=p.useState(null),h=J(a,r=>c(r)),o=p.useMemo(()=>n?i().findIndex(r=>r.ref.current===n):-1,[i,n]);return e.jsx(Os,{...t,ref:h,index:o})}),Os=p.forwardRef((t,a)=>{const{__scopeSlider:i,index:n,name:c,...h}=t,o=oe(je,i),r=He(je,i),[f,x]=p.useState(null),b=J(a,K=>x(K)),l=f?o.form||!!f.closest("form"):!0,j=as(f),k=o.values[n],P=k===void 0?0:We(k,o.min,o.max),S=$s(n,o.values.length),y=j?.[r.size],d=y?Hs(y,P,r.direction):0;return p.useEffect(()=>{if(f)return o.thumbs.add(f),()=>{o.thumbs.delete(f)}},[f,o.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[r.startEdge]:`calc(${P}% + ${d}px)`},children:[e.jsx(fe.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(z.span,{role:"slider","aria-label":t["aria-label"]||S,"aria-valuemin":o.min,"aria-valuenow":k,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...h,ref:b,style:k===void 0?{display:"none"}:t.style,onFocus:X(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),l&&e.jsx(Je,{name:c??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:k},n)]})});Xe.displayName=je;var Fs="RadioBubbleInput",Je=p.forwardRef(({__scopeSlider:t,value:a,...i},n)=>{const c=p.useRef(null),h=J(c,n),o=rs(a);return p.useEffect(()=>{const r=c.current;if(!r)return;const f=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(f,"value").set;if(o!==a&&b){const l=new Event("input",{bubbles:!0});b.call(r,a),r.dispatchEvent(l)}},[o,a]),e.jsx(z.input,{style:{display:"none"},...i,ref:h,defaultValue:a})});Je.displayName=Fs;function Ks(t=[],a,i){const n=[...t];return n[i]=a,n.sort((c,h)=>c-h)}function We(t,a,i){const h=100/(i-a)*(t-a);return Ee(h,[0,100])}function $s(t,a){return a>2?`Value ${t+1} of ${a}`:a===2?["Minimum","Maximum"][t]:void 0}function Us(t,a){if(t.length===1)return 0;const i=t.map(c=>Math.abs(c-a)),n=Math.min(...i);return i.indexOf(n)}function Hs(t,a,i){const n=t/2,h=ye([0,50],[0,n]);return(n-h(a)*i)*i}function zs(t){return t.slice(0,-1).map((a,i)=>t[i+1]-a)}function qs(t,a){if(a>0){const i=zs(t);return Math.min(...i)>=a}return!0}function ye(t,a){return i=>{if(t[0]===t[1]||a[0]===a[1])return a[0];const n=(a[1]-a[0])/(t[1]-t[0]);return a[0]+n*(i-t[0])}}function Ys(t){return(String(t).split(".")[1]||"").length}function Gs(t,a){const i=Math.pow(10,a);return Math.round(t*i)/i}var Qe=$e,Xs=Ye,Js=Ge,Ws=Xe;const Ze=p.forwardRef(({className:t,...a},i)=>e.jsxs(Qe,{ref:i,className:Ie("relative flex w-full touch-none select-none items-center",t),...a,children:[e.jsx(Xs,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(Js,{className:"absolute h-full bg-primary"})}),e.jsx(Ws,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Ze.displayName=Qe.displayName;const te={bot:"Бот-трафик",vpn:"VPN",proxy:"Прокси",duplicate:"Дубликаты",suspicious_cr:"Подозр. CR",click_spam:"Клик-спам",tor:"TOR-сеть"},ce={bot:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",vpn:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",proxy:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",duplicate:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",suspicious_cr:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-300",click_spam:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",tor:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"},Re={blocked:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",flagged:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",ignored:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",pending:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300"},Qs={confirmed:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",false_positive:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"};function gt(){const{user:t}=ns(),{toast:a}=is(),i=cs(),[n,c]=p.useState("dashboard"),[h,o]=p.useState("24h"),[r,f]=p.useState(null),[x,b]=p.useState({search:"",fraudType:"all",action:"all",status:"all",partner:"all",country:"all"}),{data:l,isLoading:j,refetch:k}=he({queryKey:["/api/advertiser/antifraud/dashboard",h],queryFn:async()=>await G(`/api/advertiser/antifraud/dashboard?range=${h}`)}),{data:P,isLoading:S,refetch:y}=he({queryKey:["/api/advertiser/antifraud/events",x],queryFn:async()=>{const s=new URLSearchParams;return Object.entries(x).forEach(([_,D])=>{D&&D!=="all"&&s.append(_,D)}),await G(`/api/advertiser/antifraud/events?${s}`)}}),{data:d,isLoading:K}=he({queryKey:["/api/advertiser/antifraud/settings"],queryFn:async()=>await G("/api/advertiser/antifraud/settings")}),C=ue({mutationFn:async s=>await G("/api/advertiser/antifraud/settings","POST",s),onSuccess:()=>{a({title:"Настройки сохранены",description:"Настройки антифрод системы успешно обновлены"}),i.invalidateQueries({queryKey:["/api/advertiser/antifraud/settings"]})},onError:()=>{a({title:"Ошибка",description:"Не удалось сохранить настройки",variant:"destructive"})}}),w=ue({mutationFn:async({eventId:s,status:u})=>await G("/api/advertiser/antifraud/confirm-event","POST",{eventId:s,status:u}),onSuccess:()=>{a({title:"Событие обновлено",description:"Статус события успешно изменен"}),y(),k()},onError:()=>{a({title:"Ошибка",description:"Не удалось обновить событие",variant:"destructive"})}}),U=ue({mutationFn:async({partnerId:s,reason:u})=>await G("/api/advertiser/antifraud/block-partner","POST",{partnerId:s,reason:u}),onSuccess:()=>{a({title:"Партнер заблокирован",description:"Партнер успешно заблокирован из-за фродовой активности"}),y()},onError:()=>{a({title:"Ошибка",description:"Не удалось заблокировать партнера",variant:"destructive"})}}),N=(s,u)=>{if(!d)return;const _={...d},D=s.split(".");let M=_;for(let v=0;v<D.length-1;v++)M=M[D[v]];M[D[D.length-1]]=u,C.mutate(_)},$=(s,u)=>{w.mutate({eventId:s,status:u}),f(null)},xe=(s,u)=>{U.mutate({partnerId:s,reason:"Автоблокировка из-за высокой фродовой активности"})},q=s=>{if(s==="csv"){const u=[["Дата","Партнер","Оффер","SubID","IP","Страна","Тип фрода","Действие","Статус"],...(P||[]).map(v=>[v.timestamp,v.partnerName,v.offerName,v.subId,v.ip,v.country,te[v.fraudType],v.action,v.status])].map(v=>v.join(",")).join(`
`),_=new Blob([u],{type:"text/csv"}),D=URL.createObjectURL(_),M=document.createElement("a");M.href=D,M.download=`antifraud-events-${new Date().toISOString().split("T")[0]}.csv`,M.click()}a({title:"Экспорт завершен",description:`Данные антифрод системы экспортированы в формате ${s.toUpperCase()}`})},O=Array.isArray(P)?P.filter(s=>{const u=s.partnerName.toLowerCase().includes(x.search.toLowerCase())||s.offerName.toLowerCase().includes(x.search.toLowerCase())||s.subId.toLowerCase().includes(x.search.toLowerCase())||s.ip.includes(x.search),_=x.fraudType==="all"||s.fraudType===x.fraudType,D=x.action==="all"||s.action===x.action,M=x.status==="all"||s.status===x.status,v=x.country==="all"||s.country===x.country;return u&&_&&D&&M&&v}):[];return t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[e.jsx(we,{className:"h-8 w-8 text-red-500"}),"Антифрод-система"]}),e.jsx("p",{className:"text-muted-foreground",children:"Анализ, мониторинг и защита от фродового трафика"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(Q,{value:h,onValueChange:o,children:[e.jsx(Z,{className:"w-32","data-testid":"select-date-range",children:e.jsx(ee,{})}),e.jsxs(se,{children:[e.jsx(g,{value:"1h",children:"1 час"}),e.jsx(g,{value:"24h",children:"24 часа"}),e.jsx(g,{value:"7d",children:"7 дней"}),e.jsx(g,{value:"30d",children:"30 дней"})]})]}),e.jsxs(L,{variant:"outline",onClick:()=>{k(),y()},"data-testid":"button-refresh",children:[e.jsx(ys,{className:"h-4 w-4 mr-2"}),"Обновить"]})]})]}),e.jsxs(hs,{value:n,onValueChange:c,className:"w-full",children:[e.jsxs(us,{className:"grid w-full grid-cols-4 bg-gradient-to-r from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-700 p-1",children:[e.jsx(re,{value:"dashboard",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-500 data-[state=active]:to-blue-500 data-[state=active]:text-white data-[state=active]:shadow-lg hover:bg-cyan-100 dark:hover:bg-cyan-900",children:"🎯 Дашборд"}),e.jsx(re,{value:"events",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500 data-[state=active]:to-red-500 data-[state=active]:text-white data-[state=active]:shadow-lg hover:bg-orange-100 dark:hover:bg-orange-900",children:"⚡ События"}),e.jsx(re,{value:"settings",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-pink-500 data-[state=active]:text-white data-[state=active]:shadow-lg hover:bg-purple-100 dark:hover:bg-purple-900",children:"⚙️ Настройки"}),e.jsx(re,{value:"reports",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-green-500 data-[state=active]:text-white data-[state=active]:shadow-lg hover:bg-emerald-100 dark:hover:bg-emerald-900",children:"📊 Отчеты"})]}),e.jsxs(ne,{value:"dashboard",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(R,{className:"bg-gradient-to-br from-cyan-50 to-blue-50 dark:from-cyan-900/20 dark:to-blue-900/20 border-cyan-200 dark:border-cyan-700",children:[e.jsxs(T,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(I,{className:"text-sm font-medium text-cyan-700 dark:text-cyan-300",children:"Всего событий"}),e.jsx("div",{className:"p-2 bg-cyan-500 rounded-xl shadow-lg",children:e.jsx(Ns,{className:"h-4 w-4 text-white"})})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold text-cyan-900 dark:text-cyan-100",children:j?"...":l?.totalEvents?.toLocaleString()||"0"}),e.jsx("p",{className:"text-xs text-cyan-600 dark:text-cyan-400",children:"За выбранный период"})]})]}),e.jsxs(R,{className:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 border-red-200 dark:border-red-700",children:[e.jsxs(T,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(I,{className:"text-sm font-medium text-red-700 dark:text-red-300",children:"Заблокировано"}),e.jsx("div",{className:"p-2 bg-red-500 rounded-xl shadow-lg",children:e.jsx(Ce,{className:"h-4 w-4 text-white"})})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-900 dark:text-red-100",children:j?"...":l?.blockedEvents?.toLocaleString()||"0"}),e.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:"Фродовых событий"})]})]}),e.jsxs(R,{className:"bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 border-orange-200 dark:border-orange-700",children:[e.jsxs(T,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(I,{className:"text-sm font-medium text-orange-700 dark:text-orange-300",children:"Уровень фрода"}),e.jsx("div",{className:"p-2 bg-orange-500 rounded-xl shadow-lg",children:e.jsx(ls,{className:"h-4 w-4 text-white"})})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold text-orange-900 dark:text-orange-100",children:j?"...":`${l?.fraudRate?.toFixed(2)||"0"}%`}),e.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400",children:"От общего трафика"})]})]}),e.jsxs(R,{className:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 border-emerald-200 dark:border-emerald-700",children:[e.jsxs(T,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(I,{className:"text-sm font-medium text-emerald-700 dark:text-emerald-300",children:"Защищено"}),e.jsx("div",{className:"p-2 bg-emerald-500 rounded-xl shadow-lg",children:e.jsx(we,{className:"h-4 w-4 text-white"})})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-900 dark:text-emerald-100",children:j?"...":`${(100-(l?.fraudRate||0)).toFixed(2)}%`}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Чистого трафика"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsx(T,{children:e.jsx(I,{children:"Топ типы фрода"})}),e.jsx(E,{children:j?e.jsx("div",{children:"Загрузка..."}):e.jsx("div",{className:"space-y-3",children:l?.topFraudTypes?.map((s,u)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(F,{className:ce[s.type],children:te[s.type]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(le,{value:s.percentage,className:"w-20"}),e.jsx("span",{className:"text-sm font-medium",children:s.count})]})]},s.type))})})]}),e.jsxs(R,{children:[e.jsx(T,{children:e.jsx(I,{children:"Проблемные партнеры"})}),e.jsx(E,{children:j?e.jsx("div",{children:"Загрузка..."}):e.jsx("div",{className:"space-y-3",children:l?.topFraudPartners?.map((s,u)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.partnerName}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",s.partnerId]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(F,{variant:"destructive",children:[s.fraudRate.toFixed(1),"% фрода"]}),e.jsx(L,{size:"sm",variant:"destructive",onClick:()=>xe(s.partnerId,s.partnerName),"data-testid":`button-block-partner-${s.partnerId}`,children:e.jsx(Ce,{className:"h-3 w-3"})})]})]},s.partnerId))})})]})]}),e.jsxs(R,{children:[e.jsx(T,{children:e.jsx(I,{children:"Недавние события"})}),e.jsx(E,{children:j?e.jsx("div",{children:"Загрузка..."}):e.jsx("div",{className:"space-y-3",children:l?.recentEvents?.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(F,{className:ce[s.fraudType],children:te[s.fraudType]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.partnerName}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.ip," • ",s.country," • ",new Date(s.timestamp).toLocaleString("ru-RU")]})]})]}),e.jsx(F,{className:Re[s.action],children:s.action})]},s.id))})})]})]}),e.jsxs(ne,{value:"events",className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(T,{children:e.jsx(I,{children:"⚡ Фильтры событий"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"Поиск"}),e.jsx(ae,{placeholder:"Партнер, IP, SubID...",value:x.search,onChange:s=>b(u=>({...u,search:s.target.value})),"data-testid":"input-search-events"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"Тип фрода"}),e.jsxs(Q,{value:x.fraudType,onValueChange:s=>b(u=>({...u,fraudType:s})),children:[e.jsx(Z,{"data-testid":"select-fraud-type-filter",children:e.jsx(ee,{})}),e.jsxs(se,{children:[e.jsx(g,{value:"all",children:"Все типы"}),e.jsx(g,{value:"bot",children:"Боты"}),e.jsx(g,{value:"vpn",children:"VPN"}),e.jsx(g,{value:"proxy",children:"Прокси"}),e.jsx(g,{value:"duplicate",children:"Дубликаты"}),e.jsx(g,{value:"suspicious_cr",children:"Подозр. CR"}),e.jsx(g,{value:"click_spam",children:"Клик-спам"}),e.jsx(g,{value:"tor",children:"TOR"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"Действие"}),e.jsxs(Q,{value:x.action,onValueChange:s=>b(u=>({...u,action:s})),children:[e.jsx(Z,{"data-testid":"select-action-filter",children:e.jsx(ee,{})}),e.jsxs(se,{children:[e.jsx(g,{value:"all",children:"Все действия"}),e.jsx(g,{value:"blocked",children:"Заблокировано"}),e.jsx(g,{value:"flagged",children:"Помечено"}),e.jsx(g,{value:"ignored",children:"Игнорировано"}),e.jsx(g,{value:"pending",children:"В ожидании"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"Статус"}),e.jsxs(Q,{value:x.status,onValueChange:s=>b(u=>({...u,status:s})),children:[e.jsx(Z,{"data-testid":"select-status-filter",children:e.jsx(ee,{})}),e.jsxs(se,{children:[e.jsx(g,{value:"all",children:"Все статусы"}),e.jsx(g,{value:"confirmed",children:"Подтвержден"}),e.jsx(g,{value:"false_positive",children:"Ложноположительный"}),e.jsx(g,{value:"pending",children:"В ожидании"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"Страна"}),e.jsxs(Q,{value:x.country,onValueChange:s=>b(u=>({...u,country:s})),children:[e.jsx(Z,{"data-testid":"select-country-filter",children:e.jsx(ee,{})}),e.jsxs(se,{children:[e.jsx(g,{value:"all",children:"Все страны"}),e.jsx(g,{value:"RU",children:"Россия"}),e.jsx(g,{value:"US",children:"США"}),e.jsx(g,{value:"DE",children:"Германия"}),e.jsx(g,{value:"BR",children:"Бразилия"}),e.jsx(g,{value:"IN",children:"Индия"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(L,{onClick:()=>q("csv"),variant:"outline","data-testid":"button-export-events",children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Экспорт"]})})]})})]}),e.jsxs(R,{children:[e.jsx(T,{children:e.jsxs(I,{children:["События фрода (",O.length,")"]})}),e.jsx(E,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(gs,{children:[e.jsx(vs,{children:e.jsxs(ie,{children:[e.jsx(B,{children:"Время"}),e.jsx(B,{children:"Партнер"}),e.jsx(B,{children:"Оффер"}),e.jsx(B,{children:"SubID"}),e.jsx(B,{children:"IP / Страна"}),e.jsx(B,{children:"Тип фрода"}),e.jsx(B,{children:"Риск"}),e.jsx(B,{children:"Действие"}),e.jsx(B,{children:"Статус"}),e.jsx(B,{children:"Действия"})]})}),e.jsx(bs,{children:S?e.jsx(ie,{children:e.jsx(V,{colSpan:10,className:"text-center",children:"Загрузка..."})}):O.length===0?e.jsx(ie,{children:e.jsx(V,{colSpan:10,className:"text-center",children:"События не найдены"})}):O.map(s=>e.jsxs(ie,{children:[e.jsx(V,{children:e.jsx("div",{className:"text-sm",children:new Date(s.timestamp).toLocaleString("ru-RU")})}),e.jsx(V,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.partnerName}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",s.partnerId]})]})}),e.jsx(V,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.offerName}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",s.offerId]})]})}),e.jsx(V,{children:e.jsx(F,{variant:"outline",children:s.subId})}),e.jsx(V,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-mono text-sm",children:s.ip}),e.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(Cs,{className:"h-3 w-3"}),s.country]})]})}),e.jsx(V,{children:e.jsx(F,{className:ce[s.fraudType],children:te[s.fraudType]})}),e.jsx(V,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(le,{value:s.riskScore,className:"w-16"}),e.jsxs("span",{className:"text-sm",children:[s.riskScore,"%"]})]})}),e.jsx(V,{children:e.jsx(F,{className:Re[s.action],children:s.action})}),e.jsx(V,{children:e.jsx(F,{className:Qs[s.status],children:s.status})}),e.jsx(V,{children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(L,{size:"sm",variant:"ghost",onClick:()=>f(s),"data-testid":`button-view-event-${s.id}`,title:"Просмотреть детали",children:e.jsx(ds,{className:"h-3 w-3"})}),s.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"sm",variant:"ghost",onClick:()=>$(s.id,"confirmed"),"data-testid":`button-confirm-event-${s.id}`,title:"Подтвердить фрод",children:e.jsx(ke,{className:"h-3 w-3 text-red-500"})}),e.jsx(L,{size:"sm",variant:"ghost",onClick:()=>$(s.id,"false_positive"),"data-testid":`button-false-positive-${s.id}`,title:"Отметить как ложное срабатывание",children:e.jsx(Se,{className:"h-3 w-3 text-green-500"})})]})]})})]},s.id))})]})})})]})]}),e.jsx(ne,{value:"settings",className:"space-y-6",children:K?e.jsx("div",{children:"Загрузка настроек..."}):e.jsxs(e.Fragment,{children:[e.jsxs(R,{children:[e.jsx(T,{children:e.jsx(I,{children:"⚙️ Основные настройки"})}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(m,{className:"text-base",children:"Включить антифрод защиту"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Основной переключатель антифрод системы"})]}),e.jsx(A,{checked:d?.enabled||!1,onCheckedChange:s=>N("enabled",s),"data-testid":"switch-antifraud-enabled"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(m,{className:"text-base",children:["Уровень чувствительности: ",d?.sensitivity||5]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"1 - минимальный, 10 - максимальный"}),e.jsx(Ze,{value:[d?.sensitivity||5],onValueChange:s=>N("sensitivity",s[0]),min:1,max:10,step:1,className:"w-full","data-testid":"slider-sensitivity"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(m,{className:"text-base",children:"Автоматическая блокировка"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Блокировать подозрительный трафик автоматически"})]}),e.jsx(A,{checked:d?.autoBlock||!1,onCheckedChange:s=>N("autoBlock",s),"data-testid":"switch-auto-block"})]})]})]}),e.jsxs(R,{children:[e.jsx(T,{children:e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(Ss,{className:"h-5 w-5"}),"🤖 Детекция ботов"]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{children:"Включить детекцию ботов"}),e.jsx(A,{checked:d?.botDetection?.enabled||!1,onCheckedChange:s=>N("botDetection.enabled",s),"data-testid":"switch-bot-detection"})]}),d?.botDetection?.enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{children:"Проверка JavaScript"}),e.jsx(A,{checked:d?.botDetection?.checkJs||!1,onCheckedChange:s=>N("botDetection.checkJs",s),"data-testid":"switch-check-js"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{children:"Детекция headless браузеров"}),e.jsx(A,{checked:d?.botDetection?.checkHeadless||!1,onCheckedChange:s=>N("botDetection.checkHeadless",s),"data-testid":"switch-check-headless"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{children:"Проверка взаимодействий"}),e.jsx(A,{checked:d?.botDetection?.checkInteraction||!1,onCheckedChange:s=>N("botDetection.checkInteraction",s),"data-testid":"switch-check-interaction"})]})]})]})]}),e.jsxs(R,{children:[e.jsx(T,{children:e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-5 w-5"}),"🌐 VPN/Proxy детекция"]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{children:"Включить детекцию VPN/Proxy"}),e.jsx(A,{checked:d?.vpnProxyDetection?.enabled||!1,onCheckedChange:s=>N("vpnProxyDetection.enabled",s),"data-testid":"switch-vpn-proxy-detection"})]}),d?.vpnProxyDetection?.enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{children:"Блокировать VPN"}),e.jsx(A,{checked:d?.vpnProxyDetection?.blockVpn||!1,onCheckedChange:s=>N("vpnProxyDetection.blockVpn",s),"data-testid":"switch-block-vpn"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{children:"Блокировать Proxy"}),e.jsx(A,{checked:d?.vpnProxyDetection?.blockProxy||!1,onCheckedChange:s=>N("vpnProxyDetection.blockProxy",s),"data-testid":"switch-block-proxy"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{children:"Блокировать TOR"}),e.jsx(A,{checked:d?.vpnProxyDetection?.blockTor||!1,onCheckedChange:s=>N("vpnProxyDetection.blockTor",s),"data-testid":"switch-block-tor"})]})]})]})]}),e.jsxs(R,{children:[e.jsx(T,{children:e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(ws,{className:"h-5 w-5"}),"⚡ Детекция клик-спама"]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{children:"Включить детекцию клик-спама"}),e.jsx(A,{checked:d?.clickSpamDetection?.enabled||!1,onCheckedChange:s=>N("clickSpamDetection.enabled",s),"data-testid":"switch-click-spam-detection"})]}),d?.clickSpamDetection?.enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"Макс. кликов с одного IP"}),e.jsx(ae,{type:"number",value:d?.clickSpamDetection?.maxClicksPerIp||5,onChange:s=>N("clickSpamDetection.maxClicksPerIp",parseInt(s.target.value)),"data-testid":"input-max-clicks-per-ip"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"Временное окно (минуты)"}),e.jsx(ae,{type:"number",value:d?.clickSpamDetection?.timeWindow||60,onChange:s=>N("clickSpamDetection.timeWindow",parseInt(s.target.value)),"data-testid":"input-time-window"})]})]})]})]}),e.jsxs(R,{children:[e.jsx(T,{children:e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(xs,{className:"h-5 w-5"}),"🔔 Уведомления"]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{children:"Email уведомления"}),e.jsx(A,{checked:d?.notifications?.email||!1,onCheckedChange:s=>N("notifications.email",s),"data-testid":"switch-email-notifications"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{children:"Telegram уведомления"}),e.jsx(A,{checked:d?.notifications?.telegram||!1,onCheckedChange:s=>N("notifications.telegram",s),"data-testid":"switch-telegram-notifications"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"Порог уведомлений (событий в час)"}),e.jsx(ae,{type:"number",value:d?.notifications?.threshold||10,onChange:s=>N("notifications.threshold",parseInt(s.target.value)),"data-testid":"input-notification-threshold"})]})]})]})]})}),e.jsx(ne,{value:"reports",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(T,{children:e.jsx(I,{children:"📊 Генерация отчетов"})}),e.jsx(E,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(L,{onClick:()=>q("pdf"),className:"h-24 flex-col gap-2",variant:"outline","data-testid":"button-export-pdf",children:[e.jsx(me,{className:"h-6 w-6"}),"📄 PDF Отчет"]}),e.jsxs(L,{onClick:()=>q("csv"),className:"h-24 flex-col gap-2",variant:"outline","data-testid":"button-export-csv",children:[e.jsx(ks,{className:"h-6 w-6"}),"📊 CSV Экспорт"]}),e.jsxs(L,{onClick:()=>q("json"),className:"h-24 flex-col gap-2",variant:"outline","data-testid":"button-export-json",children:[e.jsx(me,{className:"h-6 w-6"}),"💾 JSON Данные"]})]})})]})})]}),e.jsx(ms,{open:!!r,onOpenChange:()=>f(null),children:e.jsxs(fs,{className:"max-w-2xl",children:[e.jsx(ps,{children:e.jsx(js,{children:"Детали события фрода"})}),r&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Время"}),e.jsx("p",{children:new Date(r.timestamp).toLocaleString("ru-RU")})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Тип фрода"}),e.jsx(F,{className:ce[r.fraudType],children:te[r.fraudType]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Партнер"}),e.jsxs("p",{children:[r.partnerName," (ID: ",r.partnerId,")"]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Оффер"}),e.jsxs("p",{children:[r.offerName," (ID: ",r.offerId,")"]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"SubID"}),e.jsx("p",{children:r.subId})]}),e.jsxs("div",{children:[e.jsx(m,{children:"IP адрес"}),e.jsx("p",{className:"font-mono",children:r.ip})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Страна"}),e.jsx("p",{children:r.country})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Оценка риска"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(le,{value:r.riskScore,className:"w-20"}),e.jsxs("span",{children:[r.riskScore,"%"]})]})]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"User Agent"}),e.jsx("p",{className:"text-sm font-mono bg-gray-100 dark:bg-gray-800 p-2 rounded",children:r.userAgent})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Детали"}),e.jsx("p",{className:"text-sm",children:r.details})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Отпечаток браузера"}),e.jsx("p",{className:"text-sm font-mono bg-gray-100 dark:bg-gray-800 p-2 rounded",children:r.fingerprint})]}),r.status==="pending"&&e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsxs(L,{onClick:()=>$(r.id,"confirmed"),variant:"destructive","data-testid":"button-confirm-fraud",children:[e.jsx(ke,{className:"h-4 w-4 mr-2"}),"Подтвердить фрод"]}),e.jsxs(L,{onClick:()=>$(r.id,"false_positive"),variant:"outline","data-testid":"button-false-positive-fraud",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Ложное срабатывание"]})]})]})]})})]}):e.jsx("div",{children:"Загрузка..."})}export{gt as default};
