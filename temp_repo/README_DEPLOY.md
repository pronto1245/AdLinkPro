# üöÄ Affiliate Pro - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é

## üìã –û –ø—Ä–æ–µ–∫—Ç–µ
–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–æ–≥–æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞ —Å:
- React 18 + TypeScript + Vite (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥)
- Node.js + Express + Drizzle ORM (–±–µ–∫–µ–Ω–¥)
- PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π (super_admin, advertiser, affiliate, staff)
- –ê–Ω—Ç–∏—Ñ—Ä–æ–¥ —Å–∏—Å—Ç–µ–º–∞ —Å AI
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç—Ä–µ–∫–µ—Ä–∞–º–∏ (Voluum, Keitaro, Binom, RedTrack)
- WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- Object Storage –¥–ª—è —Ñ–∞–π–ª–æ–≤

## üîß –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª:
```env
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
DATABASE_URL="postgresql://user:pass@host:5432/dbname"
JWT_SECRET="your-256-bit-secret"
SESSION_SECRET="your-session-secret"

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ (–¥–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏)
SENDGRID_API_KEY="sg.xxx"
VOLUUM_TOKEN="xxx"
KEITARO_TOKEN="xxx"
BINOM_TOKEN="xxx"
REDTRACK_TOKEN="xxx"
GOOGLE_CLOUD_PROJECT_ID="project-id"
GOOGLE_CLOUD_STORAGE_BUCKET="bucket-name"
```

### 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
npm run db:push
```

### 4. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev

# –ü—Ä–æ–¥–∞–∫—à–Ω
npm run build
npm start
```

## üåê –î–µ–ø–ª–æ–π –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

### Railway
1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç

### Vercel
1. `npm install -g vercel`
2. `vercel --prod`
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ dashboard

### Netlify
1. –î–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏: `npm run build`
2. –ó–∞–≥—Ä—É–∑–∏—Ç—å `dist/` –ø–∞–ø–∫—É
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã –¥–ª—è SPA

### Docker
```bash
docker build -t affiliate-pro .
docker run -p 5000:5000 --env-file .env affiliate-pro
```

## üë• –¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã

### Super Admin
- Email: `admin@example.com`
- Password: `admin123`
- –î–æ—Å—Ç—É–ø: –ü–æ–ª–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π

### Advertiser (–†–µ–∫–ª–∞–º–æ–¥–∞—Ç–µ–ª—å)
- Email: `advertiser1@example.com`
- Password: `adv123`
- –î–æ—Å—Ç—É–ø: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ñ—Ñ–µ—Ä–∞–º–∏ –∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º–∏

### Affiliate (–ü–∞—Ä—Ç–Ω–µ—Ä)
- Email: `affiliate@test.com`
- Password: `aff123`
- –î–æ—Å—Ç—É–ø: –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ñ—Ñ–µ—Ä–æ–≤ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –°—Ö–µ–º–∞
- **users** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Ä–æ–ª–∏
- **offers** - –æ—Ñ—Ñ–µ—Ä—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- **partners** - –ø–∞—Ä—Ç–Ω–µ—Ä—ã –∏ –∏—Ö –¥–∞–Ω–Ω—ã–µ
- **clicks/conversions** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç—Ä–∞—Ñ–∏–∫–∞
- **postbacks** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Å—Ç–±–µ–∫–æ–≤
- **fraud_alerts** - –∞–Ω—Ç–∏—Ñ—Ä–æ–¥ —Å–∏—Å—Ç–µ–º–∞

### –ú–∏–≥—Ä–∞—Ü–∏–∏
```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏
npm run db:push

# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é
npm run db:generate
```

## üîå API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /api/auth/login` - –≤—Ö–æ–¥
- `POST /api/auth/register` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `GET /api/auth/me` - —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

### –û—Ñ—Ñ–µ—Ä—ã
- `GET /api/offers` - —Å–ø–∏—Å–æ–∫ –æ—Ñ—Ñ–µ—Ä–æ–≤
- `POST /api/offers` - —Å–æ–∑–¥–∞—Ç—å –æ—Ñ—Ñ–µ—Ä
- `PUT /api/offers/:id` - –æ–±–Ω–æ–≤–∏—Ç—å –æ—Ñ—Ñ–µ—Ä
- `DELETE /api/offers/:id` - —É–¥–∞–ª–∏—Ç—å –æ—Ñ—Ñ–µ—Ä

### –¢—Ä–µ–∫–∏–Ω–≥
- `GET /api/track/:id` - –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ
- `POST /api/postback` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å—Ç–±–µ–∫–æ–≤

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `GET /api/statistics` - –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `GET /api/analytics` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:**
- `JWT_SECRET` - –∫–ª—é—á –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤ (256 –±–∏—Ç)
- `SESSION_SECRET` - –∫–ª—é—á –¥–ª—è —Å–µ—Å—Å–∏–π
- `DATABASE_URL` - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î

**–î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π:**
- `SENDGRID_API_KEY` - –æ—Ç–ø—Ä–∞–≤–∫–∞ email
- `VOLUUM_TOKEN` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Voluum
- `KEITARO_TOKEN` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Keitaro
- `BINOM_TOKEN` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Binom
- `REDTRACK_TOKEN` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å RedTrack

**Google Cloud (–¥–ª—è Object Storage):**
- `GOOGLE_CLOUD_PROJECT_ID`
- `GOOGLE_CLOUD_STORAGE_BUCKET`
- `GOOGLE_APPLICATION_CREDENTIALS` - –ø—É—Ç—å –∫ JSON –∫–ª—é—á—É

## üö® –ê–Ω—Ç–∏—Ñ—Ä–æ–¥ —Å–∏—Å—Ç–µ–º–∞

### –§—É–Ω–∫—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ IP –∞–¥—Ä–µ—Å–æ–≤
- –ê–Ω–∞–ª–∏–∑ User-Agent
- –î–µ—Ç–µ–∫—Ü–∏—è –±–æ—Ç–æ–≤
- –ì–µ–æ—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- –ö–æ–Ω—Ç—Ä–æ–ª—å —á–∞—Å—Ç–æ—Ç—ã –∫–ª–∏–∫–æ–≤

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –∞–¥–º–∏–Ω–ø–∞–Ω–µ–ª–∏:
- –£—Ä–æ–≤–Ω–∏ –∑–∞—â–∏—Ç—ã (low/medium/high)
- –ë–µ–ª—ã–µ/—á–µ—Ä–Ω—ã–µ —Å–ø–∏—Å–∫–∏ IP
- –ü—Ä–∞–≤–∏–ª–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

## üìä –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç—Ä–µ–∫–µ—Ä–∞–º–∏

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ
- **Voluum** - –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **Keitaro** - –ø–æ—Å—Ç–±–µ–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞  
- **Binom** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–π
- **RedTrack** - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ç—Ä–∞—Ñ–∏–∫–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Å—Ç–±–µ–∫–æ–≤
URL –¥–ª—è –ø–æ—Å—Ç–±–µ–∫–æ–≤: `https://yourdomain.com/api/postback?token={click_id}&event={event_type}`

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `{click_id}` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–∫–∞
- `{event_type}` - —Ç–∏–ø —Å–æ–±—ã—Ç–∏—è (lead, sale, etc.)
- `{payout}` - —Å—É–º–º–∞ –≤—ã–ø–ª–∞—Ç—ã

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
‚îú‚îÄ‚îÄ client/          # React —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
‚îú‚îÄ‚îÄ server/          # Express –±–µ–∫–µ–Ω–¥  
‚îú‚îÄ‚îÄ shared/          # –û–±—â–∏–µ —Ç–∏–ø—ã –∏ —Å—Ö–µ–º—ã
‚îú‚îÄ‚îÄ migrations/      # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îú‚îÄ‚îÄ public/          # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ scripts/         # –£—Ç–∏–ª–∏—Ç—ã –∏ —Å–∫—Ä–∏–ø—Ç—ã
```

### –ö–æ–º–∞–Ω–¥—ã
```bash
npm run dev          # –ó–∞–ø—É—Å–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run build        # –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
npm run start        # –ó–∞–ø—É—Å–∫ –ø—Ä–æ–¥–∞–∫—à–Ω
npm run db:push      # –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
npm run db:generate  # –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
npm run test         # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏
–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª–∏ –∏ –≤–∫–ª—é—á–∞—é—Ç:
- HTTP –∑–∞–ø—Ä–æ—Å—ã —Å —Ç–∞–π–º–∏–Ω–≥–∞–º–∏
- –û—à–∏–±–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –ü–æ—Å—Ç–±–µ–∫ —Å–æ–±—ã—Ç–∏—è

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
1. **–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `DATABASE_URL`
2. **JWT –æ—à–∏–±–∫–∏** - —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `JWT_SECRET` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
3. **CORS –æ—à–∏–±–∫–∏** - –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–º–µ–Ω—ã –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
4. **WebSocket –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ firewall

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `/api-docs`
- Swagger UI: `/swagger`
- –°—Ö–µ–º–∞ –ë–î: `shared/schema.ts`

### –ö–æ–Ω—Ç–∞–∫—Ç—ã
–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –¥–µ–ø–ª–æ–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
3. –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º
4. –í–µ—Ä—Å–∏—é Node.js (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 18+)

---
**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ